if(!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=!!t&&"length"in t&&t.length,n=pt.type(t);return"function"!==n&&!pt.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function i(t,e,n){if(pt.isFunction(e))return pt.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return pt.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(kt.test(e))return pt.filter(e,t,n);e=pt.filter(e,t)}return pt.grep(t,function(t){return pt.inArray(t,e)>-1!==n})}function o(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function a(t){var e={};return pt.each(t.match(Et)||[],function(t,n){e[n]=!0}),e}function r(){it.addEventListener?(it.removeEventListener("DOMContentLoaded",s),t.removeEventListener("load",s)):(it.detachEvent("onreadystatechange",s),t.detachEvent("onload",s))}function s(){(it.addEventListener||"load"===t.event.type||"complete"===it.readyState)&&(r(),pt.ready())}function l(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(Pt,"-$1").toLowerCase();if(n=t.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:At.test(n)?pt.parseJSON(n):n)}catch(o){}pt.data(t,e,n)}else n=void 0}return n}function d(t){var e;for(e in t)if(("data"!==e||!pt.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function c(t,e,n,i){if(Ot(t)){var o,a,r=pt.expando,s=t.nodeType,l=s?pt.cache:t,d=s?t[r]:t[r]&&r;if(d&&l[d]&&(i||l[d].data)||void 0!==n||"string"!=typeof e)return d||(d=s?t[r]=nt.pop()||pt.guid++:r),l[d]||(l[d]=s?{}:{toJSON:pt.noop}),"object"!=typeof e&&"function"!=typeof e||(i?l[d]=pt.extend(l[d],e):l[d].data=pt.extend(l[d].data,e)),a=l[d],i||(a.data||(a.data={}),a=a.data),void 0!==n&&(a[pt.camelCase(e)]=n),"string"==typeof e?(o=a[e],null==o&&(o=a[pt.camelCase(e)])):o=a,o}}function u(t,e,n){if(Ot(t)){var i,o,a=t.nodeType,r=a?pt.cache:t,s=a?t[pt.expando]:pt.expando;if(r[s]){if(e&&(i=n?r[s]:r[s].data)){pt.isArray(e)?e=e.concat(pt.map(e,pt.camelCase)):e in i?e=[e]:(e=pt.camelCase(e),e=e in i?[e]:e.split(" ")),o=e.length;for(;o--;)delete i[e[o]];if(n?!d(i):!pt.isEmptyObject(i))return}(n||(delete r[s].data,d(r[s])))&&(a?pt.cleanData([t],!0):ut.deleteExpando||r!=r.window?delete r[s]:r[s]=void 0)}}}function h(t,e,n,i){var o,a=1,r=20,s=i?function(){return i.cur()}:function(){return pt.css(t,e,"")},l=s(),d=n&&n[3]||(pt.cssNumber[e]?"":"px"),c=(pt.cssNumber[e]||"px"!==d&&+l)&&Lt.exec(pt.css(t,e));if(c&&c[3]!==d){d=d||c[3],n=n||[],c=+l||1;do a=a||".5",c/=a,pt.style(t,e,c+d);while(a!==(a=s()/l)&&1!==a&&--r)}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=d,i.start=c,i.end=o)),o}function p(t){var e=Wt.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function f(t,e){var n,i,o=0,a="undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e||"*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e||"*"):void 0;if(!a)for(a=[],n=t.childNodes||t;null!=(i=n[o]);o++)!e||pt.nodeName(i,e)?a.push(i):pt.merge(a,f(i,e));return void 0===e||e&&pt.nodeName(t,e)?pt.merge([t],a):a}function m(t,e){for(var n,i=0;null!=(n=t[i]);i++)pt._data(n,"globalEval",!e||pt._data(e[i],"globalEval"))}function g(t){Ft.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e,n,i,o){for(var a,r,s,l,d,c,u,h=t.length,v=p(e),b=[],y=0;h>y;y++)if(r=t[y],r||0===r)if("object"===pt.type(r))pt.merge(b,r.nodeType?[r]:r);else if(zt.test(r)){for(l=l||v.appendChild(e.createElement("div")),d=(Ht.exec(r)||["",""])[1].toLowerCase(),u=Yt[d]||Yt._default,l.innerHTML=u[1]+pt.htmlPrefilter(r)+u[2],a=u[0];a--;)l=l.lastChild;if(!ut.leadingWhitespace&&qt.test(r)&&b.push(e.createTextNode(qt.exec(r)[0])),!ut.tbody)for(r="table"!==d||Vt.test(r)?"<table>"!==u[1]||Vt.test(r)?0:l:l.firstChild,a=r&&r.childNodes.length;a--;)pt.nodeName(c=r.childNodes[a],"tbody")&&!c.childNodes.length&&r.removeChild(c);for(pt.merge(b,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=v.lastChild}else b.push(e.createTextNode(r));for(l&&v.removeChild(l),ut.appendChecked||pt.grep(f(b,"input"),g),y=0;r=b[y++];)if(i&&pt.inArray(r,i)>-1)o&&o.push(r);else if(s=pt.contains(r.ownerDocument,r),l=f(v.appendChild(r),"script"),s&&m(l),n)for(a=0;r=l[a++];)Bt.test(r.type||"")&&n.push(r);return l=null,v}function b(){return!0}function y(){return!1}function w(){try{return it.activeElement}catch(t){}}function x(t,e,n,i,o,a){var r,s;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=void 0);for(s in e)x(t,s,n,i,e[s],a);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),o===!1)o=y;else if(!o)return t;return 1===a&&(r=o,o=function(t){return pt().off(t),r.apply(this,arguments)},o.guid=r.guid||(r.guid=pt.guid++)),t.each(function(){pt.event.add(this,e,o,i,n)})}function C(t,e){return pt.nodeName(t,"table")&&pt.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function k(t){return t.type=(null!==pt.find.attr(t,"type"))+"/"+t.type,t}function _(t){var e=oe.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function T(t,e){if(1===e.nodeType&&pt.hasData(t)){var n,i,o,a=pt._data(t),r=pt._data(e,a),s=a.events;if(s){delete r.handle,r.events={};for(n in s)for(i=0,o=s[n].length;o>i;i++)pt.event.add(e,n,s[n][i])}r.data&&(r.data=pt.extend({},r.data))}}function S(t,e){var n,i,o;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ut.noCloneEvent&&e[pt.expando]){o=pt._data(e);for(i in o.events)pt.removeEvent(e,i,o.handle);e.removeAttribute(pt.expando)}"script"===n&&e.text!==t.text?(k(e).text=t.text,_(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ut.html5Clone&&t.innerHTML&&!pt.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Ft.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}}function N(t,e,n,i){e=at.apply([],e);var o,a,r,s,l,d,c=0,u=t.length,h=u-1,p=e[0],m=pt.isFunction(p);if(m||u>1&&"string"==typeof p&&!ut.checkClone&&ie.test(p))return t.each(function(o){var a=t.eq(o);m&&(e[0]=p.call(this,o,a.html())),N(a,e,n,i)});if(u&&(d=v(e,t[0].ownerDocument,!1,t,i),o=d.firstChild,1===d.childNodes.length&&(d=o),o||i)){for(s=pt.map(f(d,"script"),k),r=s.length;u>c;c++)a=d,c!==h&&(a=pt.clone(a,!0,!0),r&&pt.merge(s,f(a,"script"))),n.call(t[c],a,c);if(r)for(l=s[s.length-1].ownerDocument,pt.map(s,_),c=0;r>c;c++)a=s[c],Bt.test(a.type||"")&&!pt._data(a,"globalEval")&&pt.contains(l,a)&&(a.src?pt._evalUrl&&pt._evalUrl(a.src):pt.globalEval((a.text||a.textContent||a.innerHTML||"").replace(ae,"")));d=o=null}return t}function $(t,e,n){for(var i,o=e?pt.filter(e,t):t,a=0;null!=(i=o[a]);a++)n||1!==i.nodeType||pt.cleanData(f(i)),i.parentNode&&(n&&pt.contains(i.ownerDocument,i)&&m(f(i,"script")),i.parentNode.removeChild(i));return t}function E(t,e){var n=pt(e.createElement(t)).appendTo(e.body),i=pt.css(n[0],"display");return n.detach(),i}function M(t){var e=it,n=de[t];return n||(n=E(t,e),"none"!==n&&n||(le=(le||pt("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(le[0].contentWindow||le[0].contentDocument).document,e.write(),e.close(),n=E(t,e),le.detach()),de[t]=n),n}function D(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function O(t){if(t in _e)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=ke.length;n--;)if(t=ke[n]+e,t in _e)return t}function A(t,e){for(var n,i,o,a=[],r=0,s=t.length;s>r;r++)i=t[r],i.style&&(a[r]=pt._data(i,"olddisplay"),n=i.style.display,e?(a[r]||"none"!==n||(i.style.display=""),""===i.style.display&&It(i)&&(a[r]=pt._data(i,"olddisplay",M(i.nodeName)))):(o=It(i),(n&&"none"!==n||!o)&&pt._data(i,"olddisplay",o?n:pt.css(i,"display"))));for(r=0;s>r;r++)i=t[r],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?a[r]||"":"none"));return t}function P(t,e,n){var i=we.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function R(t,e,n,i,o){for(var a=n===(i?"border":"content")?4:"width"===e?1:0,r=0;4>a;a+=2)"margin"===n&&(r+=pt.css(t,n+Ut[a],!0,o)),i?("content"===n&&(r-=pt.css(t,"padding"+Ut[a],!0,o)),"margin"!==n&&(r-=pt.css(t,"border"+Ut[a]+"Width",!0,o))):(r+=pt.css(t,"padding"+Ut[a],!0,o),"padding"!==n&&(r+=pt.css(t,"border"+Ut[a]+"Width",!0,o)));return r}function L(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,a=fe(t),r=ut.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,a);if(0>=o||null==o){if(o=me(t,e,a),(0>o||null==o)&&(o=t.style[e]),ue.test(o))return o;i=r&&(ut.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+R(t,e,n||(r?"border":"content"),i,a)+"px"}function U(t,e,n,i,o){return new U.prototype.init(t,e,n,i,o)}function I(){return t.setTimeout(function(){Te=void 0}),Te=pt.now()}function j(t,e){var n,i={height:t},o=0;for(e=e?1:0;4>o;o+=2-e)n=Ut[o],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function F(t,e,n){for(var i,o=(q.tweeners[e]||[]).concat(q.tweeners["*"]),a=0,r=o.length;r>a;a++)if(i=o[a].call(n,e,t))return i}function H(t,e,n){var i,o,a,r,s,l,d,c,u=this,h={},p=t.style,f=t.nodeType&&It(t),m=pt._data(t,"fxshow");n.queue||(s=pt._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,pt.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],d=pt.css(t,"display"),c="none"===d?pt._data(t,"olddisplay")||M(t.nodeName):d,"inline"===c&&"none"===pt.css(t,"float")&&(ut.inlineBlockNeedsLayout&&"inline"!==M(t.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ut.shrinkWrapBlocks()||u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in e)if(o=e[i],Ne.exec(o)){if(delete e[i],a=a||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[i])continue;f=!0}h[i]=m&&m[i]||pt.style(t,i)}else d=void 0;if(pt.isEmptyObject(h))"inline"===("none"===d?M(t.nodeName):d)&&(p.display=d);else{m?"hidden"in m&&(f=m.hidden):m=pt._data(t,"fxshow",{}),a&&(m.hidden=!f),f?pt(t).show():u.done(function(){pt(t).hide()}),u.done(function(){var e;pt._removeData(t,"fxshow");for(e in h)pt.style(t,e,h[e])});for(i in h)r=F(f?m[i]:0,i,u),i in m||(m[i]=r.start,f&&(r.end=r.start,r.start="width"===i||"height"===i?1:0))}}function B(t,e){var n,i,o,a,r;for(n in t)if(i=pt.camelCase(n),o=e[i],a=t[n],pt.isArray(a)&&(o=a[1],a=t[n]=a[0]),n!==i&&(t[i]=a,delete t[n]),r=pt.cssHooks[i],r&&"expand"in r){a=r.expand(a),delete t[i];for(n in a)n in t||(t[n]=a[n],e[n]=o)}else e[i]=o}function q(t,e,n){var i,o,a=0,r=q.prefilters.length,s=pt.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Te||I(),n=Math.max(0,d.startTime+d.duration-e),i=n/d.duration||0,a=1-i,r=0,l=d.tweens.length;l>r;r++)d.tweens[r].run(a);return s.notifyWith(t,[d,a,n]),1>a&&l?n:(s.resolveWith(t,[d]),!1)},d=s.promise({elem:t,props:pt.extend({},e),opts:pt.extend(!0,{specialEasing:{},easing:pt.easing._default},n),originalProperties:e,originalOptions:n,startTime:Te||I(),duration:n.duration,tweens:[],createTween:function(e,n){var i=pt.Tween(t,d.opts,e,n,d.opts.specialEasing[e]||d.opts.easing);return d.tweens.push(i),i},stop:function(e){var n=0,i=e?d.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)d.tweens[n].run(1);return e?(s.notifyWith(t,[d,1,0]),s.resolveWith(t,[d,e])):s.rejectWith(t,[d,e]),this}}),c=d.props;for(B(c,d.opts.specialEasing);r>a;a++)if(i=q.prefilters[a].call(d,t,c,d.opts))return pt.isFunction(i.stop)&&(pt._queueHooks(d.elem,d.opts.queue).stop=pt.proxy(i.stop,i)),i;return pt.map(c,F,d),pt.isFunction(d.opts.start)&&d.opts.start.call(t,d),pt.fx.timer(pt.extend(l,{elem:t,anim:d,queue:d.opts.queue})),d.progress(d.opts.progress).done(d.opts.done,d.opts.complete).fail(d.opts.fail).always(d.opts.always)}function W(t){return pt.attr(t,"class")||""}function Y(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,a=e.toLowerCase().match(Et)||[];if(pt.isFunction(n))for(;i=a[o++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function z(t,e,n,i){function o(s){var l;return a[s]=!0,pt.each(t[s]||[],function(t,s){var d=s(e,n,i);return"string"!=typeof d||r||a[d]?r?!(l=d):void 0:(e.dataTypes.unshift(d),o(d),!1)}),l}var a={},r=t===Ze;return o(e.dataTypes[0])||!a["*"]&&o("*")}function V(t,e){var n,i,o=pt.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&pt.extend(!0,t,n),t}function K(t,e,n){for(var i,o,a,r,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===o&&(o=t.mimeType||e.getResponseHeader("Content-Type"));if(o)for(r in s)if(s[r]&&s[r].test(o)){l.unshift(r);break}if(l[0]in n)a=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){a=r;break}i||(i=r)}a=a||i}return a?(a!==l[0]&&l.unshift(a),n[a]):void 0}function G(t,e,n,i){var o,a,r,s,l,d={},c=t.dataTypes.slice();if(c[1])for(r in t.converters)d[r.toLowerCase()]=t.converters[r];for(a=c.shift();a;)if(t.responseFields[a]&&(n[t.responseFields[a]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=a,a=c.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(r=d[l+" "+a]||d["* "+a],!r)for(o in d)if(s=o.split(" "),s[1]===a&&(r=d[l+" "+s[0]]||d["* "+s[0]])){r===!0?r=d[o]:d[o]!==!0&&(a=s[0],c.unshift(s[1]));break}if(r!==!0)if(r&&t["throws"])e=r(e);else try{e=r(e)}catch(u){return{state:"parsererror",error:r?u:"No conversion from "+l+" to "+a}}}return{state:"success",data:e}}function X(t){return t.style&&t.style.display||pt.css(t,"display")}function Q(t){if(!pt.contains(t.ownerDocument||it,t))return!0;for(;t&&1===t.nodeType;){if("none"===X(t)||"hidden"===t.type)return!0;t=t.parentNode}return!1}function Z(t,e,n,i){var o;if(pt.isArray(e))pt.each(e,function(e,o){n||on.test(t)?i(t,o):Z(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,n,i)});else if(n||"object"!==pt.type(e))i(t,e);else for(o in e)Z(t+"["+o+"]",e[o],n,i)}function J(){try{return new t.XMLHttpRequest}catch(e){}}function tt(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function et(t){return pt.isWindow(t)?t:9===t.nodeType&&(t.defaultView||t.parentWindow)}var nt=[],it=t.document,ot=nt.slice,at=nt.concat,rt=nt.push,st=nt.indexOf,lt={},dt=lt.toString,ct=lt.hasOwnProperty,ut={},ht="1.12.4",pt=function(t,e){return new pt.fn.init(t,e)},ft=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,mt=/^-ms-/,gt=/-([\da-z])/gi,vt=function(t,e){return e.toUpperCase()};pt.fn=pt.prototype={jquery:ht,constructor:pt,selector:"",length:0,toArray:function(){return ot.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:ot.call(this)},pushStack:function(t){var e=pt.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return pt.each(this,t)},map:function(t){return this.pushStack(pt.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(ot.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:rt,sort:nt.sort,splice:nt.splice},pt.extend=pt.fn.extend=function(){var t,e,n,i,o,a,r=arguments[0]||{},s=1,l=arguments.length,d=!1;for("boolean"==typeof r&&(d=r,r=arguments[s]||{},s++),"object"==typeof r||pt.isFunction(r)||(r={}),s===l&&(r=this,s--);l>s;s++)if(null!=(o=arguments[s]))for(i in o)t=r[i],n=o[i],r!==n&&(d&&n&&(pt.isPlainObject(n)||(e=pt.isArray(n)))?(e?(e=!1,a=t&&pt.isArray(t)?t:[]):a=t&&pt.isPlainObject(t)?t:{},r[i]=pt.extend(d,a,n)):void 0!==n&&(r[i]=n));return r},pt.extend({expando:"jQuery"+(ht+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===pt.type(t)},isArray:Array.isArray||function(t){return"array"===pt.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){var e=t&&t.toString();return!pt.isArray(t)&&e-parseFloat(e)+1>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==pt.type(t)||t.nodeType||pt.isWindow(t))return!1;try{if(t.constructor&&!ct.call(t,"constructor")&&!ct.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!ut.ownFirst)for(e in t)return ct.call(t,e);for(e in t);return void 0===e||ct.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?lt[dt.call(t)]||"object":typeof t},globalEval:function(e){e&&pt.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(mt,"ms-").replace(gt,vt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var i,o=0;if(n(t))for(i=t.length;i>o&&e.call(t[o],o,t[o])!==!1;o++);else for(o in t)if(e.call(t[o],o,t[o])===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(ft,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?pt.merge(i,"string"==typeof t?[t]:t):rt.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(st)return st.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;n>i;)t[o++]=e[i++];if(n!==n)for(;void 0!==e[i];)t[o++]=e[i++];return t.length=o,t},grep:function(t,e,n){for(var i,o=[],a=0,r=t.length,s=!n;r>a;a++)i=!e(t[a],a),i!==s&&o.push(t[a]);return o},map:function(t,e,i){var o,a,r=0,s=[];if(n(t))for(o=t.length;o>r;r++)a=e(t[r],r,i),null!=a&&s.push(a);else for(r in t)a=e(t[r],r,i),null!=a&&s.push(a);return at.apply([],s)},guid:1,proxy:function(t,e){var n,i,o;return"string"==typeof e&&(o=t[e],e=t,t=o),pt.isFunction(t)?(n=ot.call(arguments,2),i=function(){return t.apply(e||this,n.concat(ot.call(arguments)))},i.guid=t.guid=t.guid||pt.guid++,i):void 0},now:function(){return+new Date},support:ut}),"function"==typeof Symbol&&(pt.fn[Symbol.iterator]=nt[Symbol.iterator]),pt.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){lt["[object "+e+"]"]=e.toLowerCase()});var bt=function(t){function e(t,e,n,i){var o,a,r,s,l,d,u,p,f=e&&e.ownerDocument,m=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==m&&9!==m&&11!==m)return n;if(!i&&((e?e.ownerDocument||e:F)!==O&&D(e),e=e||O,P)){if(11!==m&&(d=vt.exec(t)))if(o=d[1]){if(9===m){if(!(r=e.getElementById(o)))return n;if(r.id===o)return n.push(r),n}else if(f&&(r=f.getElementById(o))&&I(e,r)&&r.id===o)return n.push(r),n}else{if(d[2])return Z.apply(n,e.getElementsByTagName(t)),n;if((o=d[3])&&x.getElementsByClassName&&e.getElementsByClassName)return Z.apply(n,e.getElementsByClassName(o)),n}if(x.qsa&&!Y[t+" "]&&(!R||!R.test(t))){if(1!==m)f=e,p=t;else if("object"!==e.nodeName.toLowerCase()){for((s=e.getAttribute("id"))?s=s.replace(yt,"\\$&"):e.setAttribute("id",s=j),u=T(t),a=u.length,l=ht.test(s)?"#"+s:"[id='"+s+"']";a--;)u[a]=l+" "+h(u[a]);p=u.join(","),f=bt.test(t)&&c(e.parentNode)||e}if(p)try{return Z.apply(n,f.querySelectorAll(p)),n}catch(g){}finally{s===j&&e.removeAttribute("id")}}}return N(t.replace(st,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[j]=!0,t}function o(t){var e=O.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function a(t,e){for(var n=t.split("|"),i=n.length;i--;)C.attrHandle[n[i]]=e}function r(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function d(t){return i(function(e){return e=+e,i(function(n,i){for(var o,a=t([],n.length,e),r=a.length;r--;)n[o=a[r]]&&(n[o]=!(i[o]=n[o]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function u(){}function h(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function p(t,e,n){var i=e.dir,o=n&&"parentNode"===i,a=B++;return e.first?function(e,n,a){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,a)}:function(e,n,r){var s,l,d,c=[H,a];if(r){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,r))return!0}else for(;e=e[i];)if(1===e.nodeType||o){if(d=e[j]||(e[j]={}),l=d[e.uniqueID]||(d[e.uniqueID]={}),(s=l[i])&&s[0]===H&&s[1]===a)return c[2]=s[2];if(l[i]=c,c[2]=t(e,n,r))return!0}}}function f(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function m(t,n,i){for(var o=0,a=n.length;a>o;o++)e(t,n[o],i);return i}function g(t,e,n,i,o){for(var a,r=[],s=0,l=t.length,d=null!=e;l>s;s++)(a=t[s])&&(n&&!n(a,i,o)||(r.push(a),d&&e.push(s)));return r}function v(t,e,n,o,a,r){return o&&!o[j]&&(o=v(o)),a&&!a[j]&&(a=v(a,r)),i(function(i,r,s,l){var d,c,u,h=[],p=[],f=r.length,v=i||m(e||"*",s.nodeType?[s]:s,[]),b=!t||!i&&e?v:g(v,h,t,s,l),y=n?a||(i?t:f||o)?[]:r:b;if(n&&n(b,y,s,l),o)for(d=g(y,p),o(d,[],s,l),c=d.length;c--;)(u=d[c])&&(y[p[c]]=!(b[p[c]]=u));if(i){if(a||t){if(a){for(d=[],c=y.length;c--;)(u=y[c])&&d.push(b[c]=u);a(null,y=[],d,l)}for(c=y.length;c--;)(u=y[c])&&(d=a?tt(i,u):h[c])>-1&&(i[d]=!(r[d]=u))}}else y=g(y===r?y.splice(f,y.length):y),a?a(null,r,y,l):Z.apply(r,y)})}function b(t){for(var e,n,i,o=t.length,a=C.relative[t[0].type],r=a||C.relative[" "],s=a?1:0,l=p(function(t){return t===e},r,!0),d=p(function(t){return tt(e,t)>-1},r,!0),c=[function(t,n,i){var o=!a&&(i||n!==$)||((e=n).nodeType?l(t,n,i):d(t,n,i));return e=null,o}];o>s;s++)if(n=C.relative[t[s].type])c=[p(f(c),n)];else{if(n=C.filter[t[s].type].apply(null,t[s].matches),n[j]){for(i=++s;o>i&&!C.relative[t[i].type];i++);return v(s>1&&f(c),s>1&&h(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(st,"$1"),n,i>s&&b(t.slice(s,i)),o>i&&b(t=t.slice(i)),o>i&&h(t))}c.push(n)}return f(c)}function y(t,n){var o=n.length>0,a=t.length>0,r=function(i,r,s,l,d){var c,u,h,p=0,f="0",m=i&&[],v=[],b=$,y=i||a&&C.find.TAG("*",d),w=H+=null==b?1:Math.random()||.1,x=y.length;for(d&&($=r===O||r||d);f!==x&&null!=(c=y[f]);f++){if(a&&c){for(u=0,r||c.ownerDocument===O||(D(c),s=!P);h=t[u++];)if(h(c,r||O,s)){l.push(c);break}d&&(H=w)}o&&((c=!h&&c)&&p--,i&&m.push(c))}if(p+=f,o&&f!==p){for(u=0;h=n[u++];)h(m,v,r,s);if(i){if(p>0)for(;f--;)m[f]||v[f]||(v[f]=X.call(l));v=g(v)}Z.apply(l,v),d&&!i&&v.length>0&&p+n.length>1&&e.uniqueSort(l)}return d&&(H=w,$=b),m};return o?i(r):r}var w,x,C,k,_,T,S,N,$,E,M,D,O,A,P,R,L,U,I,j="sizzle"+1*new Date,F=t.document,H=0,B=0,q=n(),W=n(),Y=n(),z=function(t,e){return t===e&&(M=!0),0},V=1<<31,K={}.hasOwnProperty,G=[],X=G.pop,Q=G.push,Z=G.push,J=G.slice,tt=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",it="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ot="\\["+nt+"*("+it+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",at=":("+it+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",rt=new RegExp(nt+"+","g"),st=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),lt=new RegExp("^"+nt+"*,"+nt+"*"),dt=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ct=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ut=new RegExp(at),ht=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+it+")"),CLASS:new RegExp("^\\.("+it+")"),TAG:new RegExp("^("+it+"|[*])"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},ft=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,yt=/'|\\/g,wt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),xt=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},Ct=function(){D()};try{Z.apply(G=J.call(F.childNodes),F.childNodes),G[F.childNodes.length].nodeType}catch(kt){Z={apply:G.length?function(t,e){Q.apply(t,J.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}x=e.support={},_=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},D=e.setDocument=function(t){var e,n,i=t?t.ownerDocument||t:F;return i!==O&&9===i.nodeType&&i.documentElement?(O=i,A=O.documentElement,P=!_(O),(n=O.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ct,!1):n.attachEvent&&n.attachEvent("onunload",Ct)),x.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=o(function(t){return t.appendChild(O.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=gt.test(O.getElementsByClassName),x.getById=o(function(t){return A.appendChild(t).id=j,!O.getElementsByName||!O.getElementsByName(j).length}),x.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&P){var n=e.getElementById(t);return n?[n]:[]}},C.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(wt,xt);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),C.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,a=e.getElementsByTagName(t);if("*"===t){for(;n=a[o++];)1===n.nodeType&&i.push(n);return i}return a},C.find.CLASS=x.getElementsByClassName&&function(t,e){return"undefined"!=typeof e.getElementsByClassName&&P?e.getElementsByClassName(t):void 0},L=[],R=[],(x.qsa=gt.test(O.querySelectorAll))&&(o(function(t){A.appendChild(t).innerHTML="<a id='"+j+"'></a><select id='"+j+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||R.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+j+"-]").length||R.push("~="),t.querySelectorAll(":checked").length||R.push(":checked"),t.querySelectorAll("a#"+j+"+*").length||R.push(".#.+[+~]")}),o(function(t){var e=O.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&R.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||R.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),R.push(",.*:")})),(x.matchesSelector=gt.test(U=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&o(function(t){x.disconnectedMatch=U.call(t,"div"),U.call(t,"[s!='']:x"),L.push("!=",at)}),R=R.length&&new RegExp(R.join("|")),L=L.length&&new RegExp(L.join("|")),e=gt.test(A.compareDocumentPosition),I=e||gt.test(A.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},z=e?function(t,e){if(t===e)return M=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===O||t.ownerDocument===F&&I(F,t)?-1:e===O||e.ownerDocument===F&&I(F,e)?1:E?tt(E,t)-tt(E,e):0:4&n?-1:1)}:function(t,e){if(t===e)return M=!0,0;var n,i=0,o=t.parentNode,a=e.parentNode,s=[t],l=[e];if(!o||!a)return t===O?-1:e===O?1:o?-1:a?1:E?tt(E,t)-tt(E,e):0;if(o===a)return r(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?r(s[i],l[i]):s[i]===F?-1:l[i]===F?1:0},O):O},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==O&&D(t),n=n.replace(ct,"='$1']"),x.matchesSelector&&P&&!Y[n+" "]&&(!L||!L.test(n))&&(!R||!R.test(n)))try{var i=U.call(t,n);if(i||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(o){}return e(n,O,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==O&&D(t),I(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==O&&D(t);var n=C.attrHandle[e.toLowerCase()],i=n&&K.call(C.attrHandle,e.toLowerCase())?n(t,e,!P):void 0;return void 0!==i?i:x.attributes||!P?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,o=0;if(M=!x.detectDuplicates,E=!x.sortStable&&t.slice(0),t.sort(z),M){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return E=null,t},k=e.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=k(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=k(e);return n},C=e.selectors={cacheLength:50,createPseudo:i,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(wt,xt),t[3]=(t[3]||t[4]||t[5]||"").replace(wt,xt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ut.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(wt,xt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(o){var a=e.attr(o,t);return null==a?"!="===n:!n||(a+="","="===n?a===i:"!="===n?a!==i:"^="===n?i&&0===a.indexOf(i):"*="===n?i&&a.indexOf(i)>-1:"$="===n?i&&a.slice(-i.length)===i:"~="===n?(" "+a.replace(rt," ")+" ").indexOf(i)>-1:"|="===n&&(a===i||a.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,n,i,o){var a="nth"!==t.slice(0,3),r="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var d,c,u,h,p,f,m=a!==r?"nextSibling":"previousSibling",g=e.parentNode,v=s&&e.nodeName.toLowerCase(),b=!l&&!s,y=!1;if(g){if(a){for(;m;){for(h=e;h=h[m];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&b){for(h=g,u=h[j]||(h[j]={}),c=u[h.uniqueID]||(u[h.uniqueID]={}),d=c[t]||[],p=d[0]===H&&d[1],
y=p&&d[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(y=p=0)||f.pop();)if(1===h.nodeType&&++y&&h===e){c[t]=[H,p,y];break}}else if(b&&(h=e,u=h[j]||(h[j]={}),c=u[h.uniqueID]||(u[h.uniqueID]={}),d=c[t]||[],p=d[0]===H&&d[1],y=p),y===!1)for(;(h=++p&&h&&h[m]||(y=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++y||(b&&(u=h[j]||(h[j]={}),c=u[h.uniqueID]||(u[h.uniqueID]={}),c[t]=[H,y]),h!==e)););return y-=o,y===i||y%i===0&&y/i>=0}}},PSEUDO:function(t,n){var o,a=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return a[j]?a(n):a.length>1?(o=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,o=a(t,n),r=o.length;r--;)i=tt(t,o[r]),t[i]=!(e[i]=o[r])}):function(t){return a(t,0,o)}):a}},pseudos:{not:i(function(t){var e=[],n=[],o=S(t.replace(st,"$1"));return o[j]?i(function(t,e,n,i){for(var a,r=o(t,null,i,[]),s=t.length;s--;)(a=r[s])&&(t[s]=!(e[s]=a))}):function(t,i,a){return e[0]=t,o(e,null,a,n),e[0]=null,!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return t=t.replace(wt,xt),function(e){return(e.textContent||e.innerText||k(e)).indexOf(t)>-1}}),lang:i(function(t){return ht.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(wt,xt).toLowerCase(),function(e){var n;do if(n=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===A},focus:function(t){return t===O.activeElement&&(!O.hasFocus||O.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return ft.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:d(function(){return[0]}),last:d(function(t,e){return[e-1]}),eq:d(function(t,e,n){return[0>n?n+e:n]}),even:d(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:d(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:d(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:d(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return u.prototype=C.filters=C.pseudos,C.setFilters=new u,T=e.tokenize=function(t,n){var i,o,a,r,s,l,d,c=W[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],d=C.preFilter;s;){i&&!(o=lt.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(a=[])),i=!1,(o=dt.exec(s))&&(i=o.shift(),a.push({value:i,type:o[0].replace(st," ")}),s=s.slice(i.length));for(r in C.filter)!(o=pt[r].exec(s))||d[r]&&!(o=d[r](o))||(i=o.shift(),a.push({value:i,type:r,matches:o}),s=s.slice(i.length));if(!i)break}return n?s.length:s?e.error(t):W(t,l).slice(0)},S=e.compile=function(t,e){var n,i=[],o=[],a=Y[t+" "];if(!a){for(e||(e=T(t)),n=e.length;n--;)a=b(e[n]),a[j]?i.push(a):o.push(a);a=Y(t,y(o,i)),a.selector=t}return a},N=e.select=function(t,e,n,i){var o,a,r,s,l,d="function"==typeof t&&t,u=!i&&T(t=d.selector||t);if(n=n||[],1===u.length){if(a=u[0]=u[0].slice(0),a.length>2&&"ID"===(r=a[0]).type&&x.getById&&9===e.nodeType&&P&&C.relative[a[1].type]){if(e=(C.find.ID(r.matches[0].replace(wt,xt),e)||[])[0],!e)return n;d&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(o=pt.needsContext.test(t)?0:a.length;o--&&(r=a[o],!C.relative[s=r.type]);)if((l=C.find[s])&&(i=l(r.matches[0].replace(wt,xt),bt.test(a[0].type)&&c(e.parentNode)||e))){if(a.splice(o,1),t=i.length&&h(a),!t)return Z.apply(n,i),n;break}}return(d||S(t,u))(i,e,!P,n,!e||bt.test(t)&&c(e.parentNode)||e),n},x.sortStable=j.split("").sort(z).join("")===j,x.detectDuplicates=!!M,D(),x.sortDetached=o(function(t){return 1&t.compareDocumentPosition(O.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||a("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||a("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||a(et,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);pt.find=bt,pt.expr=bt.selectors,pt.expr[":"]=pt.expr.pseudos,pt.uniqueSort=pt.unique=bt.uniqueSort,pt.text=bt.getText,pt.isXMLDoc=bt.isXML,pt.contains=bt.contains;var yt=function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&pt(t).is(n))break;i.push(t)}return i},wt=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},xt=pt.expr.match.needsContext,Ct=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,kt=/^.[^:#\[\.,]*$/;pt.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?pt.find.matchesSelector(i,t)?[i]:[]:pt.find.matches(t,pt.grep(e,function(t){return 1===t.nodeType}))},pt.fn.extend({find:function(t){var e,n=[],i=this,o=i.length;if("string"!=typeof t)return this.pushStack(pt(t).filter(function(){for(e=0;o>e;e++)if(pt.contains(i[e],this))return!0}));for(e=0;o>e;e++)pt.find(t,i[e],n);return n=this.pushStack(o>1?pt.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&xt.test(t)?pt(t):t||[],!1).length}});var _t,Tt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,St=pt.fn.init=function(t,e,n){var i,o;if(!t)return this;if(n=n||_t,"string"==typeof t){if(i="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Tt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof pt?e[0]:e,pt.merge(this,pt.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:it,!0)),Ct.test(i[1])&&pt.isPlainObject(e))for(i in e)pt.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}if(o=it.getElementById(i[2]),o&&o.parentNode){if(o.id!==i[2])return _t.find(t);this.length=1,this[0]=o}return this.context=it,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):pt.isFunction(t)?"undefined"!=typeof n.ready?n.ready(t):t(pt):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),pt.makeArray(t,this))};St.prototype=pt.fn,_t=pt(it);var Nt=/^(?:parents|prev(?:Until|All))/,$t={children:!0,contents:!0,next:!0,prev:!0};pt.fn.extend({has:function(t){var e,n=pt(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(pt.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,a=[],r=xt.test(t)||"string"!=typeof t?pt(t,e||this.context):0;o>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&pt.find.matchesSelector(n,t))){a.push(n);break}return this.pushStack(a.length>1?pt.uniqueSort(a):a)},index:function(t){return t?"string"==typeof t?pt.inArray(this[0],pt(t)):pt.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(pt.uniqueSort(pt.merge(this.get(),pt(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),pt.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return yt(t,"parentNode")},parentsUntil:function(t,e,n){return yt(t,"parentNode",n)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return yt(t,"nextSibling")},prevAll:function(t){return yt(t,"previousSibling")},nextUntil:function(t,e,n){return yt(t,"nextSibling",n)},prevUntil:function(t,e,n){return yt(t,"previousSibling",n)},siblings:function(t){return wt((t.parentNode||{}).firstChild,t)},children:function(t){return wt(t.firstChild)},contents:function(t){return pt.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:pt.merge([],t.childNodes)}},function(t,e){pt.fn[t]=function(n,i){var o=pt.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=pt.filter(i,o)),this.length>1&&($t[t]||(o=pt.uniqueSort(o)),Nt.test(t)&&(o=o.reverse())),this.pushStack(o)}});var Et=/\S+/g;pt.Callbacks=function(t){t="string"==typeof t?a(t):pt.extend({},t);var e,n,i,o,r=[],s=[],l=-1,d=function(){for(o=t.once,i=e=!0;s.length;l=-1)for(n=s.shift();++l<r.length;)r[l].apply(n[0],n[1])===!1&&t.stopOnFalse&&(l=r.length,n=!1);t.memory||(n=!1),e=!1,o&&(r=n?[]:"")},c={add:function(){return r&&(n&&!e&&(l=r.length-1,s.push(n)),function i(e){pt.each(e,function(e,n){pt.isFunction(n)?t.unique&&c.has(n)||r.push(n):n&&n.length&&"string"!==pt.type(n)&&i(n)})}(arguments),n&&!e&&d()),this},remove:function(){return pt.each(arguments,function(t,e){for(var n;(n=pt.inArray(e,r,n))>-1;)r.splice(n,1),l>=n&&l--}),this},has:function(t){return t?pt.inArray(t,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=s=[],r=n="",this},disabled:function(){return!r},lock:function(){return o=!0,n||c.disable(),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=n||[],n=[t,n.slice?n.slice():n],s.push(n),e||d()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},pt.extend({Deferred:function(t){var e=[["resolve","done",pt.Callbacks("once memory"),"resolved"],["reject","fail",pt.Callbacks("once memory"),"rejected"],["notify","progress",pt.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return pt.Deferred(function(n){pt.each(e,function(e,a){var r=pt.isFunction(t[e])&&t[e];o[a[1]](function(){var t=r&&r.apply(this,arguments);t&&pt.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[a[0]+"With"](this===i?n.promise():this,r?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?pt.extend(t,i):i}},o={};return i.pipe=i.then,pt.each(e,function(t,a){var r=a[2],s=a[3];i[a[1]]=r.add,s&&r.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),o[a[0]]=function(){return o[a[0]+"With"](this===o?i:this,arguments),this},o[a[0]+"With"]=r.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e,n,i,o=0,a=ot.call(arguments),r=a.length,s=1!==r||t&&pt.isFunction(t.promise)?r:0,l=1===s?t:pt.Deferred(),d=function(t,n,i){return function(o){n[t]=this,i[t]=arguments.length>1?ot.call(arguments):o,i===e?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(r>1)for(e=new Array(r),n=new Array(r),i=new Array(r);r>o;o++)a[o]&&pt.isFunction(a[o].promise)?a[o].promise().progress(d(o,n,e)).done(d(o,i,a)).fail(l.reject):--s;return s||l.resolveWith(i,a),l.promise()}});var Mt;pt.fn.ready=function(t){return pt.ready.promise().done(t),this},pt.extend({isReady:!1,readyWait:1,holdReady:function(t){t?pt.readyWait++:pt.ready(!0)},ready:function(t){(t===!0?--pt.readyWait:pt.isReady)||(pt.isReady=!0,t!==!0&&--pt.readyWait>0||(Mt.resolveWith(it,[pt]),pt.fn.triggerHandler&&(pt(it).triggerHandler("ready"),pt(it).off("ready"))))}}),pt.ready.promise=function(e){if(!Mt)if(Mt=pt.Deferred(),"complete"===it.readyState||"loading"!==it.readyState&&!it.documentElement.doScroll)t.setTimeout(pt.ready);else if(it.addEventListener)it.addEventListener("DOMContentLoaded",s),t.addEventListener("load",s);else{it.attachEvent("onreadystatechange",s),t.attachEvent("onload",s);var n=!1;try{n=null==t.frameElement&&it.documentElement}catch(i){}n&&n.doScroll&&!function o(){if(!pt.isReady){try{n.doScroll("left")}catch(e){return t.setTimeout(o,50)}r(),pt.ready()}}()}return Mt.promise(e)},pt.ready.promise();var Dt;for(Dt in pt(ut))break;ut.ownFirst="0"===Dt,ut.inlineBlockNeedsLayout=!1,pt(function(){var t,e,n,i;n=it.getElementsByTagName("body")[0],n&&n.style&&(e=it.createElement("div"),i=it.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ut.inlineBlockNeedsLayout=t=3===e.offsetWidth,t&&(n.style.zoom=1)),n.removeChild(i))}),function(){var t=it.createElement("div");ut.deleteExpando=!0;try{delete t.test}catch(e){ut.deleteExpando=!1}t=null}();var Ot=function(t){var e=pt.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return(1===n||9===n)&&(!e||e!==!0&&t.getAttribute("classid")===e)},At=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Pt=/([A-Z])/g;pt.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?pt.cache[t[pt.expando]]:t[pt.expando],!!t&&!d(t)},data:function(t,e,n){return c(t,e,n)},removeData:function(t,e){return u(t,e)},_data:function(t,e,n){return c(t,e,n,!0)},_removeData:function(t,e){return u(t,e,!0)}}),pt.fn.extend({data:function(t,e){var n,i,o,a=this[0],r=a&&a.attributes;if(void 0===t){if(this.length&&(o=pt.data(a),1===a.nodeType&&!pt._data(a,"parsedAttrs"))){for(n=r.length;n--;)r[n]&&(i=r[n].name,0===i.indexOf("data-")&&(i=pt.camelCase(i.slice(5)),l(a,i,o[i])));pt._data(a,"parsedAttrs",!0)}return o}return"object"==typeof t?this.each(function(){pt.data(this,t)}):arguments.length>1?this.each(function(){pt.data(this,t,e)}):a?l(a,t,pt.data(a,t)):void 0},removeData:function(t){return this.each(function(){pt.removeData(this,t)})}}),pt.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=pt._data(t,e),n&&(!i||pt.isArray(n)?i=pt._data(t,e,pt.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=pt.queue(t,e),i=n.length,o=n.shift(),a=pt._queueHooks(t,e),r=function(){pt.dequeue(t,e)};"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete a.stop,o.call(t,r,a)),!i&&a&&a.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return pt._data(t,n)||pt._data(t,n,{empty:pt.Callbacks("once memory").add(function(){pt._removeData(t,e+"queue"),pt._removeData(t,n)})})}}),pt.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?pt.queue(this[0],t):void 0===e?this:this.each(function(){var n=pt.queue(this,t,e);pt._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&pt.dequeue(this,t)})},dequeue:function(t){return this.each(function(){pt.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=pt.Deferred(),a=this,r=this.length,s=function(){--i||o.resolveWith(a,[a])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";r--;)n=pt._data(a[r],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(e)}}),function(){var t;ut.shrinkWrapBlocks=function(){if(null!=t)return t;t=!1;var e,n,i;return n=it.getElementsByTagName("body")[0],n&&n.style?(e=it.createElement("div"),i=it.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(e),"undefined"!=typeof e.style.zoom&&(e.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",e.appendChild(it.createElement("div")).style.width="5px",t=3!==e.offsetWidth),n.removeChild(i),t):void 0}}();var Rt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Lt=new RegExp("^(?:([+-])=|)("+Rt+")([a-z%]*)$","i"),Ut=["Top","Right","Bottom","Left"],It=function(t,e){return t=e||t,"none"===pt.css(t,"display")||!pt.contains(t.ownerDocument,t)},jt=function(t,e,n,i,o,a,r){var s=0,l=t.length,d=null==n;if("object"===pt.type(n)){o=!0;for(s in n)jt(t,e,s,n[s],!0,a,r)}else if(void 0!==i&&(o=!0,pt.isFunction(i)||(r=!0),d&&(r?(e.call(t,i),e=null):(d=e,e=function(t,e,n){return d.call(pt(t),n)})),e))for(;l>s;s++)e(t[s],n,r?i:i.call(t[s],s,e(t[s],n)));return o?t:d?e.call(t):l?e(t[0],n):a},Ft=/^(?:checkbox|radio)$/i,Ht=/<([\w:-]+)/,Bt=/^$|\/(?:java|ecma)script/i,qt=/^\s+/,Wt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var t=it.createElement("div"),e=it.createDocumentFragment(),n=it.createElement("input");t.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ut.leadingWhitespace=3===t.firstChild.nodeType,ut.tbody=!t.getElementsByTagName("tbody").length,ut.htmlSerialize=!!t.getElementsByTagName("link").length,ut.html5Clone="<:nav></:nav>"!==it.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,e.appendChild(n),ut.appendChecked=n.checked,t.innerHTML="<textarea>x</textarea>",ut.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,e.appendChild(t),n=it.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),ut.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,ut.noCloneEvent=!!t.addEventListener,t[pt.expando]=1,ut.attributes=!t.getAttribute(pt.expando)}();var Yt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ut.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Yt.optgroup=Yt.option,Yt.tbody=Yt.tfoot=Yt.colgroup=Yt.caption=Yt.thead,Yt.th=Yt.td;var zt=/<|&#?\w+;/,Vt=/<tbody/i;!function(){var e,n,i=it.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(ut[e]=n in t)||(i.setAttribute(n,"t"),ut[e]=i.attributes[n].expando===!1);i=null}();var Kt=/^(?:input|select|textarea)$/i,Gt=/^key/,Xt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Qt=/^(?:focusinfocus|focusoutblur)$/,Zt=/^([^.]*)(?:\.(.+)|)/;pt.event={global:{},add:function(t,e,n,i,o){var a,r,s,l,d,c,u,h,p,f,m,g=pt._data(t);if(g){for(n.handler&&(l=n,n=l.handler,o=l.selector),n.guid||(n.guid=pt.guid++),(r=g.events)||(r=g.events={}),(c=g.handle)||(c=g.handle=function(t){return"undefined"==typeof pt||t&&pt.event.triggered===t.type?void 0:pt.event.dispatch.apply(c.elem,arguments)},c.elem=t),e=(e||"").match(Et)||[""],s=e.length;s--;)a=Zt.exec(e[s])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p&&(d=pt.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=pt.event.special[p]||{},u=pt.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&pt.expr.match.needsContext.test(o),namespace:f.join(".")},l),(h=r[p])||(h=r[p]=[],h.delegateCount=0,d.setup&&d.setup.call(t,i,f,c)!==!1||(t.addEventListener?t.addEventListener(p,c,!1):t.attachEvent&&t.attachEvent("on"+p,c))),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),pt.event.global[p]=!0);t=null}},remove:function(t,e,n,i,o){var a,r,s,l,d,c,u,h,p,f,m,g=pt.hasData(t)&&pt._data(t);if(g&&(c=g.events)){for(e=(e||"").match(Et)||[""],d=e.length;d--;)if(s=Zt.exec(e[d])||[],p=m=s[1],f=(s[2]||"").split(".").sort(),p){for(u=pt.event.special[p]||{},p=(i?u.delegateType:u.bindType)||p,h=c[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=h.length;a--;)r=h[a],!o&&m!==r.origType||n&&n.guid!==r.guid||s&&!s.test(r.namespace)||i&&i!==r.selector&&("**"!==i||!r.selector)||(h.splice(a,1),r.selector&&h.delegateCount--,u.remove&&u.remove.call(t,r));l&&!h.length&&(u.teardown&&u.teardown.call(t,f,g.handle)!==!1||pt.removeEvent(t,p,g.handle),delete c[p])}else for(p in c)pt.event.remove(t,p+e[d],n,i,!0);pt.isEmptyObject(c)&&(delete g.handle,pt._removeData(t,"events"))}},trigger:function(e,n,i,o){var a,r,s,l,d,c,u,h=[i||it],p=ct.call(e,"type")?e.type:e,f=ct.call(e,"namespace")?e.namespace.split("."):[];if(s=c=i=i||it,3!==i.nodeType&&8!==i.nodeType&&!Qt.test(p+pt.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),r=p.indexOf(":")<0&&"on"+p,e=e[pt.expando]?e:new pt.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=f.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:pt.makeArray(n,[e]),d=pt.event.special[p]||{},o||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!o&&!d.noBubble&&!pt.isWindow(i)){for(l=d.delegateType||p,Qt.test(l+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),c=s;c===(i.ownerDocument||it)&&h.push(c.defaultView||c.parentWindow||t)}for(u=0;(s=h[u++])&&!e.isPropagationStopped();)e.type=u>1?l:d.bindType||p,a=(pt._data(s,"events")||{})[e.type]&&pt._data(s,"handle"),a&&a.apply(s,n),a=r&&s[r],a&&a.apply&&Ot(s)&&(e.result=a.apply(s,n),e.result===!1&&e.preventDefault());if(e.type=p,!o&&!e.isDefaultPrevented()&&(!d._default||d._default.apply(h.pop(),n)===!1)&&Ot(i)&&r&&i[p]&&!pt.isWindow(i)){c=i[r],c&&(i[r]=null),pt.event.triggered=p;try{i[p]()}catch(m){}pt.event.triggered=void 0,c&&(i[r]=c)}return e.result}},dispatch:function(t){t=pt.event.fix(t);var e,n,i,o,a,r=[],s=ot.call(arguments),l=(pt._data(this,"events")||{})[t.type]||[],d=pt.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,t)!==!1){for(r=pt.event.handlers.call(this,t,l),e=0;(o=r[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,i=((pt.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,s),void 0!==i&&(t.result=i)===!1&&(t.preventDefault(),t.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,a,r=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==t.type)){for(i=[],n=0;s>n;n++)a=e[n],o=a.selector+" ",void 0===i[o]&&(i[o]=a.needsContext?pt(o,this).index(l)>-1:pt.find(o,this,null,[l]).length),i[o]&&i.push(a);i.length&&r.push({elem:l,handlers:i})}return s<e.length&&r.push({elem:this,handlers:e.slice(s)}),r},fix:function(t){if(t[pt.expando])return t;var e,n,i,o=t.type,a=t,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=Xt.test(o)?this.mouseHooks:Gt.test(o)?this.keyHooks:{}),i=r.props?this.props.concat(r.props):this.props,t=new pt.Event(a),e=i.length;e--;)n=i[e],t[n]=a[n];return t.target||(t.target=a.srcElement||it),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,r.filter?r.filter(t,a):t},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,o,a=e.button,r=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||it,o=i.documentElement,n=i.body,t.pageX=e.clientX+(o&&o.scrollLeft||n&&n.scrollLeft||0)-(o&&o.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||n&&n.scrollTop||0)-(o&&o.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&r&&(t.relatedTarget=r===t.target?e.toElement:r),t.which||void 0===a||(t.which=1&a?1:2&a?3:4&a?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==w()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===w()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return pt.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return pt.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n){var i=pt.extend(new pt.Event,n,{type:t,isSimulated:!0});pt.event.trigger(i,null,e),i.isDefaultPrevented()&&n.preventDefault()}},pt.removeEvent=it.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)}:function(t,e,n){var i="on"+e;t.detachEvent&&("undefined"==typeof t[i]&&(t[i]=null),t.detachEvent(i,n))},pt.Event=function(t,e){return this instanceof pt.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?b:y):this.type=t,e&&pt.extend(this,e),this.timeStamp=t&&t.timeStamp||pt.now(),void(this[pt.expando]=!0)):new pt.Event(t,e)},pt.Event.prototype={constructor:pt.Event,isDefaultPrevented:y,isPropagationStopped:y,isImmediatePropagationStopped:y,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=b,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=b,t&&!this.isSimulated&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=b,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},pt.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){pt.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,o=t.relatedTarget,a=t.handleObj;return o&&(o===i||pt.contains(i,o))||(t.type=a.origType,n=a.handler.apply(this,arguments),t.type=e),n}}}),ut.submit||(pt.event.special.submit={setup:function(){return!pt.nodeName(this,"form")&&void pt.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=pt.nodeName(e,"input")||pt.nodeName(e,"button")?pt.prop(e,"form"):void 0;n&&!pt._data(n,"submit")&&(pt.event.add(n,"submit._submit",function(t){t._submitBubble=!0}),pt._data(n,"submit",!0))})},postDispatch:function(t){t._submitBubble&&(delete t._submitBubble,this.parentNode&&!t.isTrigger&&pt.event.simulate("submit",this.parentNode,t))},teardown:function(){return!pt.nodeName(this,"form")&&void pt.event.remove(this,"._submit")}}),ut.change||(pt.event.special.change={setup:function(){return Kt.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(pt.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._justChanged=!0)}),pt.event.add(this,"click._change",function(t){this._justChanged&&!t.isTrigger&&(this._justChanged=!1),pt.event.simulate("change",this,t)})),!1):void pt.event.add(this,"beforeactivate._change",function(t){var e=t.target;Kt.test(e.nodeName)&&!pt._data(e,"change")&&(pt.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||pt.event.simulate("change",this.parentNode,t)}),pt._data(e,"change",!0))})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return pt.event.remove(this,"._change"),!Kt.test(this.nodeName)}}),ut.focusin||pt.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){pt.event.simulate(e,t.target,pt.event.fix(t))};pt.event.special[e]={setup:function(){var i=this.ownerDocument||this,o=pt._data(i,e);o||i.addEventListener(t,n,!0),pt._data(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=pt._data(i,e)-1;o?pt._data(i,e,o):(i.removeEventListener(t,n,!0),pt._removeData(i,e))}}}),pt.fn.extend({on:function(t,e,n,i){return x(this,t,e,n,i)},one:function(t,e,n,i){return x(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,pt(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return e!==!1&&"function"!=typeof e||(n=e,e=void 0),n===!1&&(n=y),this.each(function(){pt.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){pt.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?pt.event.trigger(t,e,n,!0):void 0}});var Jt=/ jQuery\d+="(?:null|\d+)"/g,te=new RegExp("<(?:"+Wt+")[\\s/>]","i"),ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ne=/<script|<style|<link/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,oe=/^true\/(.*)/,ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,re=p(it),se=re.appendChild(it.createElement("div"));pt.extend({htmlPrefilter:function(t){return t.replace(ee,"<$1></$2>")},clone:function(t,e,n){var i,o,a,r,s,l=pt.contains(t.ownerDocument,t);if(ut.html5Clone||pt.isXMLDoc(t)||!te.test("<"+t.nodeName+">")?a=t.cloneNode(!0):(se.innerHTML=t.outerHTML,se.removeChild(a=se.firstChild)),!(ut.noCloneEvent&&ut.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||pt.isXMLDoc(t)))for(i=f(a),s=f(t),r=0;null!=(o=s[r]);++r)i[r]&&S(o,i[r]);if(e)if(n)for(s=s||f(t),i=i||f(a),r=0;null!=(o=s[r]);r++)T(o,i[r]);else T(t,a);return i=f(a,"script"),i.length>0&&m(i,!l&&f(t,"script")),i=s=o=null,a},cleanData:function(t,e){for(var n,i,o,a,r=0,s=pt.expando,l=pt.cache,d=ut.attributes,c=pt.event.special;null!=(n=t[r]);r++)if((e||Ot(n))&&(o=n[s],a=o&&l[o])){if(a.events)for(i in a.events)c[i]?pt.event.remove(n,i):pt.removeEvent(n,i,a.handle);l[o]&&(delete l[o],d||"undefined"==typeof n.removeAttribute?n[s]=void 0:n.removeAttribute(s),nt.push(o))}}}),pt.fn.extend({domManip:N,detach:function(t){return $(this,t,!0)},remove:function(t){return $(this,t)},text:function(t){return jt(this,function(t){return void 0===t?pt.text(this):this.empty().append((this[0]&&this[0].ownerDocument||it).createTextNode(t))},null,t,arguments.length)},append:function(){return N(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.appendChild(t)}})},prepend:function(){return N(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=C(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return N(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return N(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&pt.cleanData(f(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&pt.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return pt.clone(this,t,e)})},html:function(t){return jt(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Jt,""):void 0;if("string"==typeof t&&!ne.test(t)&&(ut.htmlSerialize||!te.test(t))&&(ut.leadingWhitespace||!qt.test(t))&&!Yt[(Ht.exec(t)||["",""])[1].toLowerCase()]){t=pt.htmlPrefilter(t);try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(pt.cleanData(f(e,!1)),e.innerHTML=t);e=0}catch(o){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return N(this,arguments,function(e){var n=this.parentNode;pt.inArray(this,t)<0&&(pt.cleanData(f(this)),
n&&n.replaceChild(e,this))},t)}}),pt.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){pt.fn[t]=function(t){for(var n,i=0,o=[],a=pt(t),r=a.length-1;r>=i;i++)n=i===r?this:this.clone(!0),pt(a[i])[e](n),rt.apply(o,n.get());return this.pushStack(o)}});var le,de={HTML:"block",BODY:"block"},ce=/^margin/,ue=new RegExp("^("+Rt+")(?!px)[a-z%]+$","i"),he=function(t,e,n,i){var o,a,r={};for(a in e)r[a]=t.style[a],t.style[a]=e[a];o=n.apply(t,i||[]);for(a in e)t.style[a]=r[a];return o},pe=it.documentElement;!function(){function e(){var e,c,u=it.documentElement;u.appendChild(l),d.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=o=s=!1,i=r=!0,t.getComputedStyle&&(c=t.getComputedStyle(d),n="1%"!==(c||{}).top,s="2px"===(c||{}).marginLeft,o="4px"===(c||{width:"4px"}).width,d.style.marginRight="50%",i="4px"===(c||{marginRight:"4px"}).marginRight,e=d.appendChild(it.createElement("div")),e.style.cssText=d.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",e.style.marginRight=e.style.width="0",d.style.width="1px",r=!parseFloat((t.getComputedStyle(e)||{}).marginRight),d.removeChild(e)),d.style.display="none",a=0===d.getClientRects().length,a&&(d.style.display="",d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",d.childNodes[0].style.borderCollapse="separate",e=d.getElementsByTagName("td"),e[0].style.cssText="margin:0;border:0;padding:0;display:none",a=0===e[0].offsetHeight,a&&(e[0].style.display="",e[1].style.display="none",a=0===e[0].offsetHeight)),u.removeChild(l)}var n,i,o,a,r,s,l=it.createElement("div"),d=it.createElement("div");d.style&&(d.style.cssText="float:left;opacity:.5",ut.opacity="0.5"===d.style.opacity,ut.cssFloat=!!d.style.cssFloat,d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",ut.clearCloneStyle="content-box"===d.style.backgroundClip,l=it.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",d.innerHTML="",l.appendChild(d),ut.boxSizing=""===d.style.boxSizing||""===d.style.MozBoxSizing||""===d.style.WebkitBoxSizing,pt.extend(ut,{reliableHiddenOffsets:function(){return null==n&&e(),a},boxSizingReliable:function(){return null==n&&e(),o},pixelMarginRight:function(){return null==n&&e(),i},pixelPosition:function(){return null==n&&e(),n},reliableMarginRight:function(){return null==n&&e(),r},reliableMarginLeft:function(){return null==n&&e(),s}}))}();var fe,me,ge=/^(top|right|bottom|left)$/;t.getComputedStyle?(fe=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},me=function(t,e,n){var i,o,a,r,s=t.style;return n=n||fe(t),r=n?n.getPropertyValue(e)||n[e]:void 0,""!==r&&void 0!==r||pt.contains(t.ownerDocument,t)||(r=pt.style(t,e)),n&&!ut.pixelMarginRight()&&ue.test(r)&&ce.test(e)&&(i=s.width,o=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=r,r=n.width,s.width=i,s.minWidth=o,s.maxWidth=a),void 0===r?r:r+""}):pe.currentStyle&&(fe=function(t){return t.currentStyle},me=function(t,e,n){var i,o,a,r,s=t.style;return n=n||fe(t),r=n?n[e]:void 0,null==r&&s&&s[e]&&(r=s[e]),ue.test(r)&&!ge.test(e)&&(i=s.left,o=t.runtimeStyle,a=o&&o.left,a&&(o.left=t.currentStyle.left),s.left="fontSize"===e?"1em":r,r=s.pixelLeft+"px",s.left=i,a&&(o.left=a)),void 0===r?r:r+""||"auto"});var ve=/alpha\([^)]*\)/i,be=/opacity\s*=\s*([^)]*)/i,ye=/^(none|table(?!-c[ea]).+)/,we=new RegExp("^("+Rt+")(.*)$","i"),xe={position:"absolute",visibility:"hidden",display:"block"},Ce={letterSpacing:"0",fontWeight:"400"},ke=["Webkit","O","Moz","ms"],_e=it.createElement("div").style;pt.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=me(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ut.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,a,r,s=pt.camelCase(e),l=t.style;if(e=pt.cssProps[s]||(pt.cssProps[s]=O(s)||s),r=pt.cssHooks[e]||pt.cssHooks[s],void 0===n)return r&&"get"in r&&void 0!==(o=r.get(t,!1,i))?o:l[e];if(a=typeof n,"string"===a&&(o=Lt.exec(n))&&o[1]&&(n=h(t,e,o),a="number"),null!=n&&n===n&&("number"===a&&(n+=o&&o[3]||(pt.cssNumber[s]?"":"px")),ut.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),!(r&&"set"in r&&void 0===(n=r.set(t,n,i)))))try{l[e]=n}catch(d){}}},css:function(t,e,n,i){var o,a,r,s=pt.camelCase(e);return e=pt.cssProps[s]||(pt.cssProps[s]=O(s)||s),r=pt.cssHooks[e]||pt.cssHooks[s],r&&"get"in r&&(a=r.get(t,!0,n)),void 0===a&&(a=me(t,e,i)),"normal"===a&&e in Ce&&(a=Ce[e]),""===n||n?(o=parseFloat(a),n===!0||isFinite(o)?o||0:a):a}}),pt.each(["height","width"],function(t,e){pt.cssHooks[e]={get:function(t,n,i){return n?ye.test(pt.css(t,"display"))&&0===t.offsetWidth?he(t,xe,function(){return L(t,e,i)}):L(t,e,i):void 0},set:function(t,n,i){var o=i&&fe(t);return P(t,n,i?R(t,e,i,ut.boxSizing&&"border-box"===pt.css(t,"boxSizing",!1,o),o):0)}}}),ut.opacity||(pt.cssHooks.opacity={get:function(t,e){return be.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,o=pt.isNumeric(e)?"alpha(opacity="+100*e+")":"",a=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===pt.trim(a.replace(ve,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=ve.test(a)?a.replace(ve,o):a+" "+o)}}),pt.cssHooks.marginRight=D(ut.reliableMarginRight,function(t,e){return e?he(t,{display:"inline-block"},me,[t,"marginRight"]):void 0}),pt.cssHooks.marginLeft=D(ut.reliableMarginLeft,function(t,e){return e?(parseFloat(me(t,"marginLeft"))||(pt.contains(t.ownerDocument,t)?t.getBoundingClientRect().left-he(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}):0))+"px":void 0}),pt.each({margin:"",padding:"",border:"Width"},function(t,e){pt.cssHooks[t+e]={expand:function(n){for(var i=0,o={},a="string"==typeof n?n.split(" "):[n];4>i;i++)o[t+Ut[i]+e]=a[i]||a[i-2]||a[0];return o}},ce.test(t)||(pt.cssHooks[t+e].set=P)}),pt.fn.extend({css:function(t,e){return jt(this,function(t,e,n){var i,o,a={},r=0;if(pt.isArray(e)){for(i=fe(t),o=e.length;o>r;r++)a[e[r]]=pt.css(t,e[r],!1,i);return a}return void 0!==n?pt.style(t,e,n):pt.css(t,e)},t,e,arguments.length>1)},show:function(){return A(this,!0)},hide:function(){return A(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){It(this)?pt(this).show():pt(this).hide()})}}),pt.Tween=U,U.prototype={constructor:U,init:function(t,e,n,i,o,a){this.elem=t,this.prop=n,this.easing=o||pt.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=a||(pt.cssNumber[n]?"":"px")},cur:function(){var t=U.propHooks[this.prop];return t&&t.get?t.get(this):U.propHooks._default.get(this)},run:function(t){var e,n=U.propHooks[this.prop];return this.options.duration?this.pos=e=pt.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):U.propHooks._default.set(this),this}},U.prototype.init.prototype=U.prototype,U.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=pt.css(t.elem,t.prop,""),e&&"auto"!==e?e:0)},set:function(t){pt.fx.step[t.prop]?pt.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[pt.cssProps[t.prop]]&&!pt.cssHooks[t.prop]?t.elem[t.prop]=t.now:pt.style(t.elem,t.prop,t.now+t.unit)}}},U.propHooks.scrollTop=U.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},pt.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},pt.fx=U.prototype.init,pt.fx.step={};var Te,Se,Ne=/^(?:toggle|show|hide)$/,$e=/queueHooks$/;pt.Animation=pt.extend(q,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return h(n.elem,t,Lt.exec(e),n),n}]},tweener:function(t,e){pt.isFunction(t)?(e=t,t=["*"]):t=t.match(Et);for(var n,i=0,o=t.length;o>i;i++)n=t[i],q.tweeners[n]=q.tweeners[n]||[],q.tweeners[n].unshift(e)},prefilters:[H],prefilter:function(t,e){e?q.prefilters.unshift(t):q.prefilters.push(t)}}),pt.speed=function(t,e,n){var i=t&&"object"==typeof t?pt.extend({},t):{complete:n||!n&&e||pt.isFunction(t)&&t,duration:t,easing:n&&e||e&&!pt.isFunction(e)&&e};return i.duration=pt.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in pt.fx.speeds?pt.fx.speeds[i.duration]:pt.fx.speeds._default,null!=i.queue&&i.queue!==!0||(i.queue="fx"),i.old=i.complete,i.complete=function(){pt.isFunction(i.old)&&i.old.call(this),i.queue&&pt.dequeue(this,i.queue)},i},pt.fn.extend({fadeTo:function(t,e,n,i){return this.filter(It).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=pt.isEmptyObject(t),a=pt.speed(e,n,i),r=function(){var e=q(this,pt.extend({},t),a);(o||pt._data(this,"finish"))&&e.stop(!0)};return r.finish=r,o||a.queue===!1?this.each(r):this.queue(a.queue,r)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",a=pt.timers,r=pt._data(this);if(o)r[o]&&r[o].stop&&i(r[o]);else for(o in r)r[o]&&r[o].stop&&$e.test(o)&&i(r[o]);for(o=a.length;o--;)a[o].elem!==this||null!=t&&a[o].queue!==t||(a[o].anim.stop(n),e=!1,a.splice(o,1));!e&&n||pt.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=pt._data(this),i=n[t+"queue"],o=n[t+"queueHooks"],a=pt.timers,r=i?i.length:0;for(n.finish=!0,pt.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=a.length;e--;)a[e].elem===this&&a[e].queue===t&&(a[e].anim.stop(!0),a.splice(e,1));for(e=0;r>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),pt.each(["toggle","show","hide"],function(t,e){var n=pt.fn[e];pt.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(j(e,!0),t,i,o)}}),pt.each({slideDown:j("show"),slideUp:j("hide"),slideToggle:j("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){pt.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),pt.timers=[],pt.fx.tick=function(){var t,e=pt.timers,n=0;for(Te=pt.now();n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||pt.fx.stop(),Te=void 0},pt.fx.timer=function(t){pt.timers.push(t),t()?pt.fx.start():pt.timers.pop()},pt.fx.interval=13,pt.fx.start=function(){Se||(Se=t.setInterval(pt.fx.tick,pt.fx.interval))},pt.fx.stop=function(){t.clearInterval(Se),Se=null},pt.fx.speeds={slow:600,fast:200,_default:400},pt.fn.delay=function(e,n){return e=pt.fx?pt.fx.speeds[e]||e:e,n=n||"fx",this.queue(n,function(n,i){var o=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(o)}})},function(){var t,e=it.createElement("input"),n=it.createElement("div"),i=it.createElement("select"),o=i.appendChild(it.createElement("option"));n=it.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=n.getElementsByTagName("a")[0],e.setAttribute("type","checkbox"),n.appendChild(e),t=n.getElementsByTagName("a")[0],t.style.cssText="top:1px",ut.getSetAttribute="t"!==n.className,ut.style=/top/.test(t.getAttribute("style")),ut.hrefNormalized="/a"===t.getAttribute("href"),ut.checkOn=!!e.value,ut.optSelected=o.selected,ut.enctype=!!it.createElement("form").enctype,i.disabled=!0,ut.optDisabled=!o.disabled,e=it.createElement("input"),e.setAttribute("value",""),ut.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ut.radioValue="t"===e.value}();var Ee=/\r/g,Me=/[\x20\t\r\n\f]+/g;pt.fn.extend({val:function(t){var e,n,i,o=this[0];return arguments.length?(i=pt.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(o=i?t.call(this,n,pt(this).val()):t,null==o?o="":"number"==typeof o?o+="":pt.isArray(o)&&(o=pt.map(o,function(t){return null==t?"":t+""})),e=pt.valHooks[this.type]||pt.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))})):o?(e=pt.valHooks[o.type]||pt.valHooks[o.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:(n=o.value,"string"==typeof n?n.replace(Ee,""):null==n?"":n)):void 0}}),pt.extend({valHooks:{option:{get:function(t){var e=pt.find.attr(t,"value");return null!=e?e:pt.trim(pt.text(t)).replace(Me," ")}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,a="select-one"===t.type||0>o,r=a?null:[],s=a?o+1:i.length,l=0>o?s:a?o:0;s>l;l++)if(n=i[l],(n.selected||l===o)&&(ut.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!pt.nodeName(n.parentNode,"optgroup"))){if(e=pt(n).val(),a)return e;r.push(e)}return r},set:function(t,e){for(var n,i,o=t.options,a=pt.makeArray(e),r=o.length;r--;)if(i=o[r],pt.inArray(pt.valHooks.option.get(i),a)>-1)try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),o}}}}),pt.each(["radio","checkbox"],function(){pt.valHooks[this]={set:function(t,e){return pt.isArray(e)?t.checked=pt.inArray(pt(t).val(),e)>-1:void 0}},ut.checkOn||(pt.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var De,Oe,Ae=pt.expr.attrHandle,Pe=/^(?:checked|selected)$/i,Re=ut.getSetAttribute,Le=ut.input;pt.fn.extend({attr:function(t,e){return jt(this,pt.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){pt.removeAttr(this,t)})}}),pt.extend({attr:function(t,e,n){var i,o,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return"undefined"==typeof t.getAttribute?pt.prop(t,e,n):(1===a&&pt.isXMLDoc(t)||(e=e.toLowerCase(),o=pt.attrHooks[e]||(pt.expr.match.bool.test(e)?Oe:De)),void 0!==n?null===n?void pt.removeAttr(t,e):o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:(i=pt.find.attr(t,e),null==i?void 0:i))},attrHooks:{type:{set:function(t,e){if(!ut.radioValue&&"radio"===e&&pt.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,o=0,a=e&&e.match(Et);if(a&&1===t.nodeType)for(;n=a[o++];)i=pt.propFix[n]||n,pt.expr.match.bool.test(n)?Le&&Re||!Pe.test(n)?t[i]=!1:t[pt.camelCase("default-"+n)]=t[i]=!1:pt.attr(t,n,""),t.removeAttribute(Re?n:i)}}),Oe={set:function(t,e,n){return e===!1?pt.removeAttr(t,n):Le&&Re||!Pe.test(n)?t.setAttribute(!Re&&pt.propFix[n]||n,n):t[pt.camelCase("default-"+n)]=t[n]=!0,n}},pt.each(pt.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Ae[e]||pt.find.attr;Le&&Re||!Pe.test(e)?Ae[e]=function(t,e,i){var o,a;return i||(a=Ae[e],Ae[e]=o,o=null!=n(t,e,i)?e.toLowerCase():null,Ae[e]=a),o}:Ae[e]=function(t,e,n){return n?void 0:t[pt.camelCase("default-"+e)]?e.toLowerCase():null}}),Le&&Re||(pt.attrHooks.value={set:function(t,e,n){return pt.nodeName(t,"input")?void(t.defaultValue=e):De&&De.set(t,e,n)}}),Re||(De={set:function(t,e,n){var i=t.getAttributeNode(n);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},Ae.id=Ae.name=Ae.coords=function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},pt.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:De.set},pt.attrHooks.contenteditable={set:function(t,e,n){De.set(t,""!==e&&e,n)}},pt.each(["width","height"],function(t,e){pt.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),ut.style||(pt.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var Ue=/^(?:input|select|textarea|button|object)$/i,Ie=/^(?:a|area)$/i;pt.fn.extend({prop:function(t,e){return jt(this,pt.prop,t,e,arguments.length>1)},removeProp:function(t){return t=pt.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),pt.extend({prop:function(t,e,n){var i,o,a=t.nodeType;if(3!==a&&8!==a&&2!==a)return 1===a&&pt.isXMLDoc(t)||(e=pt.propFix[e]||e,o=pt.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=pt.find.attr(t,"tabindex");return e?parseInt(e,10):Ue.test(t.nodeName)||Ie.test(t.nodeName)&&t.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ut.hrefNormalized||pt.each(["href","src"],function(t,e){pt.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ut.optSelected||(pt.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),pt.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pt.propFix[this.toLowerCase()]=this}),ut.enctype||(pt.propFix.enctype="encoding");var je=/[\t\r\n\f]/g;pt.fn.extend({addClass:function(t){var e,n,i,o,a,r,s,l=0;if(pt.isFunction(t))return this.each(function(e){pt(this).addClass(t.call(this,e,W(this)))});if("string"==typeof t&&t)for(e=t.match(Et)||[];n=this[l++];)if(o=W(n),i=1===n.nodeType&&(" "+o+" ").replace(je," ")){for(r=0;a=e[r++];)i.indexOf(" "+a+" ")<0&&(i+=a+" ");s=pt.trim(i),o!==s&&pt.attr(n,"class",s)}return this},removeClass:function(t){var e,n,i,o,a,r,s,l=0;if(pt.isFunction(t))return this.each(function(e){pt(this).removeClass(t.call(this,e,W(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(Et)||[];n=this[l++];)if(o=W(n),i=1===n.nodeType&&(" "+o+" ").replace(je," ")){for(r=0;a=e[r++];)for(;i.indexOf(" "+a+" ")>-1;)i=i.replace(" "+a+" "," ");s=pt.trim(i),o!==s&&pt.attr(n,"class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):pt.isFunction(t)?this.each(function(n){pt(this).toggleClass(t.call(this,n,W(this),e),e)}):this.each(function(){var e,i,o,a;if("string"===n)for(i=0,o=pt(this),a=t.match(Et)||[];e=a[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||(e=W(this),e&&pt._data(this,"__className__",e),pt.attr(this,"class",e||t===!1?"":pt._data(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+W(n)+" ").replace(je," ").indexOf(e)>-1)return!0;return!1}}),pt.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){pt.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),pt.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}});var Fe=t.location,He=pt.now(),Be=/\?/,qe=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;pt.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,o=pt.trim(e+"");return o&&!pt.trim(o.replace(qe,function(t,e,o,a){return n&&e&&(i=0),0===i?t:(n=o||e,i+=!a-!o,"")}))?Function("return "+o)():pt.error("Invalid JSON: "+e)},pt.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(i=new t.DOMParser,n=i.parseFromString(e,"text/xml")):(n=new t.ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(o){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||pt.error("Invalid XML: "+e),n};var We=/#.*$/,Ye=/([?&])_=[^&]*/,ze=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Ve=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ke=/^(?:GET|HEAD)$/,Ge=/^\/\//,Xe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Qe={},Ze={},Je="*/".concat("*"),tn=Fe.href,en=Xe.exec(tn.toLowerCase())||[];pt.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:tn,type:"GET",isLocal:Ve.test(en[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Je,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pt.parseJSON,"text xml":pt.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?V(V(t,pt.ajaxSettings),e):V(pt.ajaxSettings,t)},ajaxPrefilter:Y(Qe),ajaxTransport:Y(Ze),ajax:function(e,n){function i(e,n,i,o){var a,u,b,y,x,k=n;2!==w&&(w=2,l&&t.clearTimeout(l),c=void 0,s=o||"",C.readyState=e>0?4:0,a=e>=200&&300>e||304===e,i&&(y=K(h,C,i)),y=G(h,y,C,a),a?(h.ifModified&&(x=C.getResponseHeader("Last-Modified"),x&&(pt.lastModified[r]=x),x=C.getResponseHeader("etag"),x&&(pt.etag[r]=x)),204===e||"HEAD"===h.type?k="nocontent":304===e?k="notmodified":(k=y.state,u=y.data,b=y.error,a=!b)):(b=k,!e&&k||(k="error",0>e&&(e=0))),C.status=e,C.statusText=(n||k)+"",a?m.resolveWith(p,[u,k,C]):m.rejectWith(p,[C,k,b]),C.statusCode(v),v=void 0,d&&f.trigger(a?"ajaxSuccess":"ajaxError",[C,h,a?u:b]),g.fireWith(p,[C,k]),d&&(f.trigger("ajaxComplete",[C,h]),--pt.active||pt.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=void 0),n=n||{};var o,a,r,s,l,d,c,u,h=pt.ajaxSetup({},n),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?pt(p):pt.event,m=pt.Deferred(),g=pt.Callbacks("once memory"),v=h.statusCode||{},b={},y={},w=0,x="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!u)for(u={};e=ze.exec(s);)u[e[1].toLowerCase()]=e[2];e=u[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=y[n]=y[n]||t,b[t]=e),this},overrideMimeType:function(t){return w||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)v[e]=[v[e],t[e]];else C.always(t[C.status]);return this},abort:function(t){var e=t||x;return c&&c.abort(e),i(0,e),this}};if(m.promise(C).complete=g.add,C.success=C.done,C.error=C.fail,h.url=((e||h.url||tn)+"").replace(We,"").replace(Ge,en[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=pt.trim(h.dataType||"*").toLowerCase().match(Et)||[""],null==h.crossDomain&&(o=Xe.exec(h.url.toLowerCase()),h.crossDomain=!(!o||o[1]===en[1]&&o[2]===en[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(en[3]||("http:"===en[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=pt.param(h.data,h.traditional)),z(Qe,h,n,C),2===w)return C;d=pt.event&&h.global,d&&0===pt.active++&&pt.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ke.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(Be.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Ye.test(r)?r.replace(Ye,"$1_="+He++):r+(Be.test(r)?"&":"?")+"_="+He++)),h.ifModified&&(pt.lastModified[r]&&C.setRequestHeader("If-Modified-Since",pt.lastModified[r]),pt.etag[r]&&C.setRequestHeader("If-None-Match",pt.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Je+"; q=0.01":""):h.accepts["*"]);for(a in h.headers)C.setRequestHeader(a,h.headers[a]);if(h.beforeSend&&(h.beforeSend.call(p,C,h)===!1||2===w))return C.abort();x="abort";for(a in{success:1,error:1,complete:1})C[a](h[a]);if(c=z(Ze,h,n,C)){if(C.readyState=1,d&&f.trigger("ajaxSend",[C,h]),2===w)return C;h.async&&h.timeout>0&&(l=t.setTimeout(function(){C.abort("timeout")},h.timeout));try{w=1,c.send(b,i)}catch(k){if(!(2>w))throw k;i(-1,k)}}else i(-1,"No Transport");return C},getJSON:function(t,e,n){return pt.get(t,e,n,"json")},getScript:function(t,e){return pt.get(t,void 0,e,"script")}}),pt.each(["get","post"],function(t,e){pt[e]=function(t,n,i,o){return pt.isFunction(n)&&(o=o||i,i=n,n=void 0),pt.ajax(pt.extend({url:t,type:e,dataType:o,data:n,success:i},pt.isPlainObject(t)&&t))}}),pt._evalUrl=function(t){return pt.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},pt.fn.extend({wrapAll:function(t){if(pt.isFunction(t))return this.each(function(e){pt(this).wrapAll(t.call(this,e))});if(this[0]){var e=pt(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return pt.isFunction(t)?this.each(function(e){pt(this).wrapInner(t.call(this,e))}):this.each(function(){var e=pt(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=pt.isFunction(t);return this.each(function(n){pt(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){pt.nodeName(this,"body")||pt(this).replaceWith(this.childNodes)}).end()}}),pt.expr.filters.hidden=function(t){return ut.reliableHiddenOffsets()?t.offsetWidth<=0&&t.offsetHeight<=0&&!t.getClientRects().length:Q(t)},pt.expr.filters.visible=function(t){return!pt.expr.filters.hidden(t)};var nn=/%20/g,on=/\[\]$/,an=/\r?\n/g,rn=/^(?:submit|button|image|reset|file)$/i,sn=/^(?:input|select|textarea|keygen)/i;pt.param=function(t,e){var n,i=[],o=function(t,e){e=pt.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=pt.ajaxSettings&&pt.ajaxSettings.traditional),pt.isArray(t)||t.jquery&&!pt.isPlainObject(t))pt.each(t,function(){o(this.name,this.value)});else for(n in t)Z(n,t[n],e,o);return i.join("&").replace(nn,"+")},pt.fn.extend({serialize:function(){return pt.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=pt.prop(this,"elements");return t?pt.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!pt(this).is(":disabled")&&sn.test(this.nodeName)&&!rn.test(t)&&(this.checked||!Ft.test(t))}).map(function(t,e){var n=pt(this).val();return null==n?null:pt.isArray(n)?pt.map(n,function(t){return{name:e.name,value:t.replace(an,"\r\n")}}):{name:e.name,value:n.replace(an,"\r\n")}}).get()}}),pt.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return this.isLocal?tt():it.documentMode>8?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||tt()}:J;var ln=0,dn={},cn=pt.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in dn)dn[t](void 0,!0)}),ut.cors=!!cn&&"withCredentials"in cn,cn=ut.ajax=!!cn,cn&&pt.ajaxTransport(function(e){if(!e.crossDomain||ut.cors){var n;return{send:function(i,o){var a,r=e.xhr(),s=++ln;if(r.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)r[a]=e.xhrFields[a];e.mimeType&&r.overrideMimeType&&r.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)void 0!==i[a]&&r.setRequestHeader(a,i[a]+"");r.send(e.hasContent&&e.data||null),n=function(t,i){var a,l,d;if(n&&(i||4===r.readyState))if(delete dn[s],n=void 0,r.onreadystatechange=pt.noop,i)4!==r.readyState&&r.abort();else{d={},a=r.status,"string"==typeof r.responseText&&(d.text=r.responseText);try{l=r.statusText}catch(c){l=""}a||!e.isLocal||e.crossDomain?1223===a&&(a=204):a=d.text?200:404}d&&o(a,l,d,r.getAllResponseHeaders())},e.async?4===r.readyState?t.setTimeout(n):r.onreadystatechange=dn[s]=n:n()},abort:function(){n&&n(void 0,!0)}}}}),pt.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return pt.globalEval(t),t}}}),pt.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),pt.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=it.head||pt("head")[0]||it.documentElement;return{send:function(i,o){e=it.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||o(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var un=[],hn=/(=)\?(?=&|$)|\?\?/;pt.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=un.pop()||pt.expando+"_"+He++;return this[t]=!0,t}}),pt.ajaxPrefilter("json jsonp",function(e,n,i){var o,a,r,s=e.jsonp!==!1&&(hn.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&hn.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=pt.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(hn,"$1"+o):e.jsonp!==!1&&(e.url+=(Be.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return r||pt.error(o+" was not called"),r[0]},e.dataTypes[0]="json",a=t[o],t[o]=function(){r=arguments},i.always(function(){void 0===a?pt(t).removeProp(o):t[o]=a,e[o]&&(e.jsonpCallback=n.jsonpCallback,un.push(o)),r&&pt.isFunction(a)&&a(r[0]),r=a=void 0}),"script"):void 0}),pt.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||it;var i=Ct.exec(t),o=!n&&[];return i?[e.createElement(i[1])]:(i=v([t],e,o),o&&o.length&&pt(o).remove(),pt.merge([],i.childNodes))};var pn=pt.fn.load;pt.fn.load=function(t,e,n){if("string"!=typeof t&&pn)return pn.apply(this,arguments);var i,o,a,r=this,s=t.indexOf(" ");return s>-1&&(i=pt.trim(t.slice(s,t.length)),t=t.slice(0,s)),pt.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),r.length>0&&pt.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){a=arguments,r.html(i?pt("<div>").append(pt.parseHTML(t)).find(i):t)}).always(n&&function(t,e){r.each(function(){n.apply(this,a||[t.responseText,e,t])})}),this},pt.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){pt.fn[e]=function(t){return this.on(e,t)}}),pt.expr.filters.animated=function(t){return pt.grep(pt.timers,function(e){return t===e.elem}).length},pt.offset={setOffset:function(t,e,n){var i,o,a,r,s,l,d,c=pt.css(t,"position"),u=pt(t),h={};"static"===c&&(t.style.position="relative"),s=u.offset(),a=pt.css(t,"top"),l=pt.css(t,"left"),d=("absolute"===c||"fixed"===c)&&pt.inArray("auto",[a,l])>-1,d?(i=u.position(),r=i.top,o=i.left):(r=parseFloat(a)||0,o=parseFloat(l)||0),pt.isFunction(e)&&(e=e.call(t,n,pt.extend({},s))),null!=e.top&&(h.top=e.top-s.top+r),null!=e.left&&(h.left=e.left-s.left+o),"using"in e?e.using.call(t,h):u.css(h)}},pt.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){pt.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},o=this[0],a=o&&o.ownerDocument;return a?(e=a.documentElement,pt.contains(e,o)?("undefined"!=typeof o.getBoundingClientRect&&(i=o.getBoundingClientRect()),n=et(a),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i):void 0},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===pt.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),pt.nodeName(t[0],"html")||(n=t.offset()),n.top+=pt.css(t[0],"borderTopWidth",!0),n.left+=pt.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-pt.css(i,"marginTop",!0),
left:e.left-n.left-pt.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&!pt.nodeName(t,"html")&&"static"===pt.css(t,"position");)t=t.offsetParent;return t||pe})}}),pt.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);pt.fn[t]=function(i){return jt(this,function(t,i,o){var a=et(t);return void 0===o?a?e in a?a[e]:a.document.documentElement[i]:t[i]:void(a?a.scrollTo(n?pt(a).scrollLeft():o,n?o:pt(a).scrollTop()):t[i]=o)},t,i,arguments.length,null)}}),pt.each(["top","left"],function(t,e){pt.cssHooks[e]=D(ut.pixelPosition,function(t,n){return n?(n=me(t,e),ue.test(n)?pt(t).position()[e]+"px":n):void 0})}),pt.each({Height:"height",Width:"width"},function(t,e){pt.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){pt.fn[i]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),r=n||(i===!0||o===!0?"margin":"border");return jt(this,function(e,n,i){var o;return pt.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?pt.css(e,n,r):pt.style(e,n,i,r)},e,a?i:void 0,a,null)}})}),pt.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),pt.fn.size=function(){return this.length},pt.fn.andSelf=pt.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pt});var fn=t.jQuery,mn=t.$;return pt.noConflict=function(e){return t.$===pt&&(t.$=mn),e&&t.jQuery===pt&&(t.jQuery=fn),pt},e||(t.jQuery=t.$=pt),pt}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>2)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 3")}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof e&&o[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.6",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){r.detach().trigger("closed.bs.alert").remove()}var o=t(this),a=o.attr("data-target");a||(a=o.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,""));var r=t(a);e&&e.preventDefault(),r.length||(r=o.closest(".alert")),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var o=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=o,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.button"),a="object"==typeof e&&e;o||i.data("bs.button",o=new n(this,a)),"toggle"==e?o.toggle():e&&o.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.6",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",a=i.data();e+="Text",null==a.resetText&&i.data("resetText",i[o]()),setTimeout(t.proxy(function(){i[o](null==a[e]?this.options[e]:a[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),t(n.target).is('input[type="radio"]')||t(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(o).remove(),t(a).each(function(){var i=t(this),o=e(i),a={relatedTarget:this};o.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(o[0],n.target)||(o.trigger(n=t.Event("hide.bs.dropdown",a)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("open").trigger(t.Event("hidden.bs.dropdown",a)))))}))}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),"string"==typeof e&&i[e].call(n)})}var o=".dropdown-backdrop",a='[data-toggle="dropdown"]',r=function(e){t(e).on("click.bs.dropdown",this.toggle)};r.VERSION="3.3.6",r.prototype.toggle=function(i){var o=t(this);if(!o.is(".disabled, :disabled")){var a=e(o),r=a.hasClass("open");if(n(),!r){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var s={relatedTarget:this};if(a.trigger(i=t.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),a.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return!1}},r.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var o=e(i),r=o.hasClass("open");if(!r&&27!=n.which||r&&27==n.which)return 27==n.which&&o.find(a).trigger("focus"),i.trigger("click");var s=" li:not(.disabled):visible a",l=o.find(".dropdown-menu"+s);if(l.length){var d=l.index(n.target);38==n.which&&d>0&&d--,40==n.which&&d<l.length-1&&d++,~d||(d=0),l.eq(d).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=r,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",a,r.prototype.toggle).on("keydown.bs.dropdown.data-api",a,r.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",r.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,i){return this.each(function(){var o=t(this),a=o.data("bs.modal"),r=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e);a||o.data("bs.modal",a=new n(this,r)),"string"==typeof e?a[e](i):r.show&&a.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.6",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var a=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(a)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(a)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var a=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),a&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;a?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):r()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),o=i.attr("href"),a=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),r=a.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},a.data(),i.data());i.is("a")&&n.preventDefault(),a.one("show.bs.modal",function(t){t.isDefaultPrevented()||a.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(a,r,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tooltip"),a="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||i.data("bs.tooltip",o=new n(this,a)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),a=o.length;a--;){var r=o[a];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var o=this,a=this.tip(),r=this.getUID(this.type);this.setContent(),a.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&a.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,d=l.test(s);d&&(s=s.replace(l,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),u=a[0].offsetWidth,h=a[0].offsetHeight;if(d){var p=s,f=this.getPosition(this.$viewport);s="bottom"==s&&c.bottom+h>f.bottom?"top":"top"==s&&c.top-h<f.top?"bottom":"right"==s&&c.right+u>f.width?"left":"left"==s&&c.left-u<f.left?"right":s,a.removeClass(p).addClass(s)}var m=this.getCalculatedOffset(s,c,u,h);this.applyPlacement(m,s);var g=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),o=i[0].offsetWidth,a=i[0].offsetHeight,r=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),e.top+=r,e.left+=s,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,d=i[0].offsetHeight;"top"==n&&d!=a&&(e.top=e.top+a-d);var c=this.getViewportAdjustedDelta(n,e,l,d);c.left?e.left+=c.left:e.top+=c.top;var u=/top|bottom/.test(n),h=u?2*c.left-o+l:2*c.top-a+d,p=u?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(h,i[0][p],u)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){"in"!=o.hoverState&&a.detach(),o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),e&&e()}var o=this,a=t(this.$tip),r=t.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(a.removeClass("in"),t.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var a=i?{top:0,left:0}:e.offset(),r={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},s=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,r,s,a)},n.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var a=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-a-r.scroll,l=e.top+a-r.scroll+i;s<r.top?o.top=r.top-s:l>r.top+r.height&&(o.top=r.top+r.height-l)}else{var d=e.left-a,c=e.left+a+n;d<r.left?o.left=r.left-d:c>r.right&&(o.left=r.left+r.width-c)}return o},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.popover"),a="object"==typeof e&&e;(o||!/destroy|hide/.test(e))&&(o||i.data("bs.popover",o=new n(this,a)),"string"==typeof e&&o[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.6",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new n(this)),"string"==typeof e&&o[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.6",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a"),a=t.Event("hide.bs.tab",{relatedTarget:e[0]}),r=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(a),e.trigger(r),!r.isDefaultPrevented()&&!a.isDefaultPrevented()){var s=t(i);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},n.prototype.activate=function(e,i,o){function a(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var r=i.find("> .active"),s=o&&t.support.transition&&(r.length&&r.hasClass("fade")||!!i.find("> .fade").length);r.length&&s?r.one("bsTransitionEnd",a).emulateTransitionEnd(n.TRANSITION_DURATION):a(),r.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var o=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),+function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),o=n.data("bs.collapse"),a=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!o&&a.toggle&&/show|hide/.test(e)&&(a.toggle=!1),o||n.data("bs.collapse",o=new i(this,a)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.6",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(e=o.data("bs.collapse"),e&&e.transitioning))){var a=t.Event("show.bs.collapse");if(this.$element.trigger(a),!a.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),e||o.data("bs.collapse",null));var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[r](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",r].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[r](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION):o.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var o=t(i);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o=t(this);o.attr("data-target")||i.preventDefault();var a=e(o),r=a.data("bs.collapse"),s=r?"toggle":o.data();n.call(a,s)})}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var o=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(o,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return pi.apply(null,arguments)}function e(t){pi=t}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function i(t){return"[object Object]"===Object.prototype.toString.call(t)}function o(t){var e;for(e in t)return!1;return!0}function a(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function r(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function s(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function l(t,e){for(var n in e)s(e,n)&&(t[n]=e[n]);return s(e,"toString")&&(t.toString=e.toString),s(e,"valueOf")&&(t.valueOf=e.valueOf),t}function d(t,e,n,i){return ge(t,e,n,i,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function u(t){return null==t._pf&&(t._pf=c()),t._pf}function h(t){if(null==t._isValid){var e=u(t),n=fi.call(e.parsedDateParts,function(t){return null!=t});t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function p(t){var e=d(NaN);return null!=t?l(u(e),t):u(e).userInvalidated=!0,e}function f(t){return void 0===t}function m(t,e){var n,i,o;if(f(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),f(e._i)||(t._i=e._i),f(e._f)||(t._f=e._f),f(e._l)||(t._l=e._l),f(e._strict)||(t._strict=e._strict),f(e._tzm)||(t._tzm=e._tzm),f(e._isUTC)||(t._isUTC=e._isUTC),f(e._offset)||(t._offset=e._offset),f(e._pf)||(t._pf=u(e)),f(e._locale)||(t._locale=e._locale),mi.length>0)for(n in mi)i=mi[n],o=e[i],f(o)||(t[i]=o);return t}function g(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),gi===!1&&(gi=!0,t.updateOffset(this),gi=!1)}function v(t){return t instanceof g||null!=t&&null!=t._isAMomentObject}function b(t){return 0>t?Math.ceil(t)||0:Math.floor(t)}function y(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=b(e)),
n}function w(t,e,n){var i,o=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),r=0;for(i=0;o>i;i++)(n&&t[i]!==e[i]||!n&&y(t[i])!==y(e[i]))&&r++;return r+a}function x(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,n){var i=!0;return l(function(){return null!=t.deprecationHandler&&t.deprecationHandler(null,e),i&&(x(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),i=!1),n.apply(this,arguments)},n)}function k(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),vi[e]||(x(n),vi[e]=!0)}function _(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function T(t){var e,n;for(n in t)e=t[n],_(e)?this[n]=e:this["_"+n]=e;this._config=t,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function S(t,e){var n,o=l({},t);for(n in e)s(e,n)&&(i(t[n])&&i(e[n])?(o[n]={},l(o[n],t[n]),l(o[n],e[n])):null!=e[n]?o[n]=e[n]:delete o[n]);for(n in t)s(t,n)&&!s(e,n)&&i(t[n])&&(o[n]=l({},o[n]));return o}function N(t){null!=t&&this.set(t)}function $(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return _(i)?i.call(e,n):i}function E(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function M(){return this._invalidDate}function D(t){return this._ordinal.replace("%d",t)}function O(t,e,n,i){var o=this._relativeTime[n];return _(o)?o(t,e,n,i):o.replace(/%d/i,t)}function A(t,e){var n=this._relativeTime[t>0?"future":"past"];return _(n)?n(e):n.replace(/%s/i,e)}function P(t,e){var n=t.toLowerCase();Si[n]=Si[n+"s"]=Si[e]=t}function R(t){return"string"==typeof t?Si[t]||Si[t.toLowerCase()]:void 0}function L(t){var e,n,i={};for(n in t)s(t,n)&&(e=R(n),e&&(i[e]=t[n]));return i}function U(t,e){Ni[t]=e}function I(t){var e=[];for(var n in t)e.push({unit:n,priority:Ni[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function j(e,n){return function(i){return null!=i?(H(this,e,i),t.updateOffset(this,n),this):F(this,e)}}function F(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function H(t,e,n){t.isValid()&&t._d["set"+(t._isUTC?"UTC":"")+e](n)}function B(t){return t=R(t),_(this[t])?this[t]():this}function q(t,e){if("object"==typeof t){t=L(t);for(var n=I(t),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit])}else if(t=R(t),_(this[t]))return this[t](e);return this}function W(t,e,n){var i=""+Math.abs(t),o=e-i.length,a=t>=0;return(a?n?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+i}function Y(t,e,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),t&&(Di[t]=o),e&&(Di[e[0]]=function(){return W(o.apply(this,arguments),e[1],e[2])}),n&&(Di[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function z(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function V(t){var e,n,i=t.match($i);for(e=0,n=i.length;n>e;e++)Di[i[e]]?i[e]=Di[i[e]]:i[e]=z(i[e]);return function(e){var o,a="";for(o=0;n>o;o++)a+=i[o]instanceof Function?i[o].call(e,t):i[o];return a}}function K(t,e){return t.isValid()?(e=G(e,t.localeData()),Mi[e]=Mi[e]||V(e),Mi[e](t)):t.localeData().invalidDate()}function G(t,e){function n(t){return e.longDateFormat(t)||t}var i=5;for(Ei.lastIndex=0;i>=0&&Ei.test(t);)t=t.replace(Ei,n),Ei.lastIndex=0,i-=1;return t}function X(t,e,n){Gi[t]=_(e)?e:function(t,i){return t&&n?n:e}}function Q(t,e){return s(Gi,t)?Gi[t](e._strict,e._locale):new RegExp(Z(t))}function Z(t){return J(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,o){return e||n||i||o}))}function J(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function tt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=y(t)}),n=0;n<t.length;n++)Xi[t[n]]=i}function et(t,e){tt(t,function(t,n,i,o){i._w=i._w||{},e(t,i._w,i,o)})}function nt(t,e,n){null!=e&&s(Xi,t)&&Xi[t](e,n._a,n,t)}function it(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function ot(t,e){return n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||ro).test(e)?"format":"standalone"][t.month()]}function at(t,e){return n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[ro.test(e)?"format":"standalone"][t.month()]}function rt(t,e,n){var i,o,a,r=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;12>i;++i)a=d([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===e?(o=yi.call(this._shortMonthsParse,r),-1!==o?o:null):(o=yi.call(this._longMonthsParse,r),-1!==o?o:null):"MMM"===e?(o=yi.call(this._shortMonthsParse,r),-1!==o?o:(o=yi.call(this._longMonthsParse,r),-1!==o?o:null)):(o=yi.call(this._longMonthsParse,r),-1!==o?o:(o=yi.call(this._shortMonthsParse,r),-1!==o?o:null))}function st(t,e,n){var i,o,a;if(this._monthsParseExact)return rt.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(o=d([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(a="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function lt(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=y(e);else if(e=t.localeData().monthsParse(e),"number"!=typeof e)return t;return n=Math.min(t.date(),it(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function dt(e){return null!=e?(lt(this,e),t.updateOffset(this,!0),this):F(this,"Month")}function ct(){return it(this.year(),this.month())}function ut(t){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=co),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function ht(t){return this._monthsParseExact?(s(this,"_monthsRegex")||pt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=uo),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function pt(){function t(t,e){return e.length-t.length}var e,n,i=[],o=[],a=[];for(e=0;12>e;e++)n=d([2e3,e]),i.push(this.monthsShort(n,"")),o.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(i.sort(t),o.sort(t),a.sort(t),e=0;12>e;e++)i[e]=J(i[e]),o[e]=J(o[e]);for(e=0;24>e;e++)a[e]=J(a[e]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function ft(t){return mt(t)?366:365}function mt(t){return t%4===0&&t%100!==0||t%400===0}function gt(){return mt(this.year())}function vt(t,e,n,i,o,a,r){var s=new Date(t,e,n,i,o,a,r);return 100>t&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function bt(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function yt(t,e,n){var i=7+e-n,o=(7+bt(t,0,i).getUTCDay()-e)%7;return-o+i-1}function wt(t,e,n,i,o){var a,r,s=(7+n-i)%7,l=yt(t,i,o),d=1+7*(e-1)+s+l;return 0>=d?(a=t-1,r=ft(a)+d):d>ft(t)?(a=t+1,r=d-ft(t)):(a=t,r=d),{year:a,dayOfYear:r}}function xt(t,e,n){var i,o,a=yt(t.year(),e,n),r=Math.floor((t.dayOfYear()-a-1)/7)+1;return 1>r?(o=t.year()-1,i=r+Ct(o,e,n)):r>Ct(t.year(),e,n)?(i=r-Ct(t.year(),e,n),o=t.year()+1):(o=t.year(),i=r),{week:i,year:o}}function Ct(t,e,n){var i=yt(t,e,n),o=yt(t+1,e,n);return(ft(t)-i+o)/7}function kt(t){return xt(t,this._week.dow,this._week.doy).week}function _t(){return this._week.dow}function Tt(){return this._week.doy}function St(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function Nt(t){var e=xt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function $t(t,e){return"string"!=typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"==typeof t?t:null):parseInt(t,10)}function Et(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Mt(t,e){return n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]}function Dt(t){return this._weekdaysShort[t.day()]}function Ot(t){return this._weekdaysMin[t.day()]}function At(t,e,n){var i,o,a,r=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;7>i;++i)a=d([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===e?(o=yi.call(this._weekdaysParse,r),-1!==o?o:null):"ddd"===e?(o=yi.call(this._shortWeekdaysParse,r),-1!==o?o:null):(o=yi.call(this._minWeekdaysParse,r),-1!==o?o:null):"dddd"===e?(o=yi.call(this._weekdaysParse,r),-1!==o?o:(o=yi.call(this._shortWeekdaysParse,r),-1!==o?o:(o=yi.call(this._minWeekdaysParse,r),-1!==o?o:null))):"ddd"===e?(o=yi.call(this._shortWeekdaysParse,r),-1!==o?o:(o=yi.call(this._weekdaysParse,r),-1!==o?o:(o=yi.call(this._minWeekdaysParse,r),-1!==o?o:null))):(o=yi.call(this._minWeekdaysParse,r),-1!==o?o:(o=yi.call(this._weekdaysParse,r),-1!==o?o:(o=yi.call(this._shortWeekdaysParse,r),-1!==o?o:null)))}function Pt(t,e,n){var i,o,a;if(this._weekdaysParseExact)return At.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;7>i;i++){if(o=d([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(a="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function Rt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=$t(t,this.localeData()),this.add(t-e,"d")):e}function Lt(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ut(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Et(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function It(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ht.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=vo),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function jt(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ht.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=bo),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ft(t){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Ht.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=yo),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ht(){function t(t,e){return e.length-t.length}var e,n,i,o,a,r=[],s=[],l=[],c=[];for(e=0;7>e;e++)n=d([2e3,1]).day(e),i=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),a=this.weekdays(n,""),r.push(i),s.push(o),l.push(a),c.push(i),c.push(o),c.push(a);for(r.sort(t),s.sort(t),l.sort(t),c.sort(t),e=0;7>e;e++)s[e]=J(s[e]),l[e]=J(l[e]),c[e]=J(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Bt(){return this.hours()%12||12}function qt(){return this.hours()||24}function Wt(t,e){Y(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Yt(t,e){return e._meridiemParse}function zt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Vt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Kt(t){return t?t.toLowerCase().replace("_","-"):t}function Gt(t){for(var e,n,i,o,a=0;a<t.length;){for(o=Kt(t[a]).split("-"),e=o.length,n=Kt(t[a+1]),n=n?n.split("-"):null;e>0;){if(i=Xt(o.slice(0,e).join("-")))return i;if(n&&n.length>=e&&w(o,n,!0)>=e-1)break;e--}a++}return null}function Xt(t){var e=null;if(!_o[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=wo._abbr,require("./locale/"+t),Qt(e)}catch(n){}return _o[t]}function Qt(t,e){var n;return t&&(n=f(e)?te(t):Zt(t,e),n&&(wo=n)),wo._abbr}function Zt(t,e){if(null!==e){var n=ko;return e.abbr=t,null!=_o[t]?(k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=_o[t]._config):null!=e.parentLocale&&(null!=_o[e.parentLocale]?n=_o[e.parentLocale]._config:k("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),_o[t]=new N(S(n,e)),Qt(t),_o[t]}return delete _o[t],null}function Jt(t,e){if(null!=e){var n,i=ko;null!=_o[t]&&(i=_o[t]._config),e=S(i,e),n=new N(e),n.parentLocale=_o[t],_o[t]=n,Qt(t)}else null!=_o[t]&&(null!=_o[t].parentLocale?_o[t]=_o[t].parentLocale:null!=_o[t]&&delete _o[t]);return _o[t]}function te(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return wo;if(!n(t)){if(e=Xt(t))return e;t=[t]}return Gt(t)}function ee(){return bi(_o)}function ne(t){var e,n=t._a;return n&&-2===u(t).overflow&&(e=n[Zi]<0||n[Zi]>11?Zi:n[Ji]<1||n[Ji]>it(n[Qi],n[Zi])?Ji:n[to]<0||n[to]>24||24===n[to]&&(0!==n[eo]||0!==n[no]||0!==n[io])?to:n[eo]<0||n[eo]>59?eo:n[no]<0||n[no]>59?no:n[io]<0||n[io]>999?io:-1,u(t)._overflowDayOfYear&&(Qi>e||e>Ji)&&(e=Ji),u(t)._overflowWeeks&&-1===e&&(e=oo),u(t)._overflowWeekday&&-1===e&&(e=ao),u(t).overflow=e),t}function ie(t){var e,n,i,o,a,r,s=t._i,l=To.exec(s)||So.exec(s);if(l){for(u(t).iso=!0,e=0,n=$o.length;n>e;e++)if($o[e][1].exec(l[1])){o=$o[e][0],i=$o[e][2]!==!1;break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,n=Eo.length;n>e;e++)if(Eo[e][1].exec(l[3])){a=(l[2]||" ")+Eo[e][0];break}if(null==a)return void(t._isValid=!1)}if(!i&&null!=a)return void(t._isValid=!1);if(l[4]){if(!No.exec(l[4]))return void(t._isValid=!1);r="Z"}t._f=o+(a||"")+(r||""),de(t)}else t._isValid=!1}function oe(e){var n=Mo.exec(e._i);return null!==n?void(e._d=new Date((+n[1]))):(ie(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function ae(t,e,n){return null!=t?t:null!=e?e:n}function re(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function se(t){var e,n,i,o,a=[];if(!t._d){for(i=re(t),t._w&&null==t._a[Ji]&&null==t._a[Zi]&&le(t),t._dayOfYear&&(o=ae(t._a[Qi],i[Qi]),t._dayOfYear>ft(o)&&(u(t)._overflowDayOfYear=!0),n=bt(o,0,t._dayOfYear),t._a[Zi]=n.getUTCMonth(),t._a[Ji]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=a[e]=i[e];for(;7>e;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[to]&&0===t._a[eo]&&0===t._a[no]&&0===t._a[io]&&(t._nextDay=!0,t._a[to]=0),t._d=(t._useUTC?bt:vt).apply(null,a),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[to]=24)}}function le(t){var e,n,i,o,a,r,s,l;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(a=1,r=4,n=ae(e.GG,t._a[Qi],xt(ve(),1,4).year),i=ae(e.W,1),o=ae(e.E,1),(1>o||o>7)&&(l=!0)):(a=t._locale._week.dow,r=t._locale._week.doy,n=ae(e.gg,t._a[Qi],xt(ve(),a,r).year),i=ae(e.w,1),null!=e.d?(o=e.d,(0>o||o>6)&&(l=!0)):null!=e.e?(o=e.e+a,(e.e<0||e.e>6)&&(l=!0)):o=a),1>i||i>Ct(n,a,r)?u(t)._overflowWeeks=!0:null!=l?u(t)._overflowWeekday=!0:(s=wt(n,i,o,a,r),t._a[Qi]=s.year,t._dayOfYear=s.dayOfYear)}function de(e){if(e._f===t.ISO_8601)return void ie(e);e._a=[],u(e).empty=!0;var n,i,o,a,r,s=""+e._i,l=s.length,d=0;for(o=G(e._f,e._locale).match($i)||[],n=0;n<o.length;n++)a=o[n],i=(s.match(Q(a,e))||[])[0],i&&(r=s.substr(0,s.indexOf(i)),r.length>0&&u(e).unusedInput.push(r),s=s.slice(s.indexOf(i)+i.length),d+=i.length),Di[a]?(i?u(e).empty=!1:u(e).unusedTokens.push(a),nt(a,i,e)):e._strict&&!i&&u(e).unusedTokens.push(a);u(e).charsLeftOver=l-d,s.length>0&&u(e).unusedInput.push(s),e._a[to]<=12&&u(e).bigHour===!0&&e._a[to]>0&&(u(e).bigHour=void 0),u(e).parsedDateParts=e._a.slice(0),u(e).meridiem=e._meridiem,e._a[to]=ce(e._locale,e._a[to],e._meridiem),se(e),ne(e)}function ce(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(i=t.isPM(n),i&&12>e&&(e+=12),i||12!==e||(e=0),e):e}function ue(t){var e,n,i,o,a;if(0===t._f.length)return u(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)a=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],de(e),h(e)&&(a+=u(e).charsLeftOver,a+=10*u(e).unusedTokens.length,u(e).score=a,(null==i||i>a)&&(i=a,n=e));l(t,n||e)}function he(t){if(!t._d){var e=L(t._i);t._a=r([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),se(t)}}function pe(t){var e=new g(ne(fe(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function fe(t){var e=t._i,i=t._f;return t._locale=t._locale||te(t._l),null===e||void 0===i&&""===e?p({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),v(e)?new g(ne(e)):(n(i)?ue(t):a(e)?t._d=e:i?de(t):me(t),h(t)||(t._d=null),t))}function me(e){var i=e._i;void 0===i?e._d=new Date(t.now()):a(i)?e._d=new Date(i.valueOf()):"string"==typeof i?oe(e):n(i)?(e._a=r(i.slice(0),function(t){return parseInt(t,10)}),se(e)):"object"==typeof i?he(e):"number"==typeof i?e._d=new Date(i):t.createFromInputFallback(e)}function ge(t,e,a,r,s){var l={};return"boolean"==typeof a&&(r=a,a=void 0),(i(t)&&o(t)||n(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=s,l._l=a,l._i=t,l._f=e,l._strict=r,pe(l)}function ve(t,e,n,i){return ge(t,e,n,i,!1)}function be(t,e){var i,o;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return ve();for(i=e[0],o=1;o<e.length;++o)e[o].isValid()&&!e[o][t](i)||(i=e[o]);return i}function ye(){var t=[].slice.call(arguments,0);return be("isBefore",t)}function we(){var t=[].slice.call(arguments,0);return be("isAfter",t)}function xe(t){var e=L(t),n=e.year||0,i=e.quarter||0,o=e.month||0,a=e.week||0,r=e.day||0,s=e.hour||0,l=e.minute||0,d=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*d+6e4*l+1e3*s*60*60,this._days=+r+7*a,this._months=+o+3*i+12*n,this._data={},this._locale=te(),this._bubble()}function Ce(t){return t instanceof xe}function ke(t,e){Y(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+W(~~(t/60),2)+e+W(~~t%60,2)})}function _e(t,e){var n=(e||"").match(t)||[],i=n[n.length-1]||[],o=(i+"").match(Po)||["-",0,0],a=+(60*o[1])+y(o[2]);return"+"===o[0]?a:-a}function Te(e,n){var i,o;return n._isUTC?(i=n.clone(),o=(v(e)||a(e)?e.valueOf():ve(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+o),t.updateOffset(i,!1),i):ve(e).local()}function Se(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Ne(e,n){var i,o=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=_e(zi,e):Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(i=Se(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==e&&(!n||this._changeInProgress?We(this,Ie(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:Se(this):null!=e?this:NaN}function $e(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Ee(t){return this.utcOffset(0,t)}function Me(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Se(this),"m")),this}function De(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(_e(Yi,this._i)),this}function Oe(t){return!!this.isValid()&&(t=t?ve(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function Ae(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Pe(){if(!f(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),t=fe(t),t._a){var e=t._isUTC?d(t._a):ve(t._a);this._isDSTShifted=this.isValid()&&w(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Re(){return!!this.isValid()&&!this._isUTC}function Le(){return!!this.isValid()&&this._isUTC}function Ue(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Ie(t,e){var n,i,o,a=t,r=null;return Ce(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(r=Ro.exec(t))?(n="-"===r[1]?-1:1,a={y:0,d:y(r[Ji])*n,h:y(r[to])*n,m:y(r[eo])*n,s:y(r[no])*n,ms:y(r[io])*n}):(r=Lo.exec(t))?(n="-"===r[1]?-1:1,a={y:je(r[2],n),M:je(r[3],n),w:je(r[4],n),d:je(r[5],n),h:je(r[6],n),m:je(r[7],n),s:je(r[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(o=He(ve(a.from),ve(a.to)),a={},a.ms=o.milliseconds,a.M=o.months),i=new xe(a),Ce(t)&&s(t,"_locale")&&(i._locale=t._locale),i}function je(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Fe(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function He(t,e){var n;return t.isValid()&&e.isValid()?(e=Te(e,t),t.isBefore(e)?n=Fe(t,e):(n=Fe(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Be(t){return 0>t?-1*Math.round(-1*t):Math.round(t)}function qe(t,e){return function(n,i){var o,a;return null===i||isNaN(+i)||(k(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=i,i=a),n="string"==typeof n?+n:n,o=Ie(n,i),We(this,o,t),this}}function We(e,n,i,o){var a=n._milliseconds,r=Be(n._days),s=Be(n._months);e.isValid()&&(o=null==o||o,a&&e._d.setTime(e._d.valueOf()+a*i),r&&H(e,"Date",F(e,"Date")+r*i),s&&lt(e,F(e,"Month")+s*i),o&&t.updateOffset(e,r||s))}function Ye(t,e){var n=t.diff(e,"days",!0);return-6>n?"sameElse":-1>n?"lastWeek":0>n?"lastDay":1>n?"sameDay":2>n?"nextDay":7>n?"nextWeek":"sameElse"}function ze(e,n){var i=e||ve(),o=Te(i,this).startOf("day"),a=t.calendarFormat(this,o)||"sameElse",r=n&&(_(n[a])?n[a].call(this,i):n[a]);return this.format(r||this.localeData().calendar(a,this,ve(i)))}function Ve(){return new g(this)}function Ke(t,e){var n=v(t)?t:ve(t);return!(!this.isValid()||!n.isValid())&&(e=R(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function Ge(t,e){var n=v(t)?t:ve(t);return!(!this.isValid()||!n.isValid())&&(e=R(f(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function Xe(t,e,n,i){return i=i||"()",("("===i[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===i[1]?this.isBefore(e,n):!this.isAfter(e,n))}function Qe(t,e){var n,i=v(t)?t:ve(t);return!(!this.isValid()||!i.isValid())&&(e=R(e||"millisecond"),"millisecond"===e?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function Ze(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function Je(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function tn(t,e,n){var i,o,a,r;return this.isValid()?(i=Te(t,this),i.isValid()?(o=6e4*(i.utcOffset()-this.utcOffset()),e=R(e),"year"===e||"month"===e||"quarter"===e?(r=en(this,i),"quarter"===e?r/=3:"year"===e&&(r/=12)):(a=this-i,r="second"===e?a/1e3:"minute"===e?a/6e4:"hour"===e?a/36e5:"day"===e?(a-o)/864e5:"week"===e?(a-o)/6048e5:a),n?r:b(r)):NaN):NaN}function en(t,e){var n,i,o=12*(e.year()-t.year())+(e.month()-t.month()),a=t.clone().add(o,"months");return 0>e-a?(n=t.clone().add(o-1,"months"),i=(e-a)/(a-n)):(n=t.clone().add(o+1,"months"),i=(e-a)/(n-a)),-(o+i)||0}function nn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function on(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?_(Date.prototype.toISOString)?this.toDate().toISOString():K(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):K(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function an(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=K(this,e);return this.localeData().postformat(n)}function rn(t,e){return this.isValid()&&(v(t)&&t.isValid()||ve(t).isValid())?Ie({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function sn(t){return this.from(ve(),t)}function ln(t,e){return this.isValid()&&(v(t)&&t.isValid()||ve(t).isValid())?Ie({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function dn(t){return this.to(ve(),t)}function cn(t){var e;return void 0===t?this._locale._abbr:(e=te(t),null!=e&&(this._locale=e),this)}function un(){return this._locale}function hn(t){switch(t=R(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function pn(t){return t=R(t),void 0===t||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function fn(){return this._d.valueOf()-6e4*(this._offset||0)}function mn(){return Math.floor(this.valueOf()/1e3)}function gn(){return new Date(this.valueOf())}function vn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function bn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function yn(){return this.isValid()?this.toISOString():null}function wn(){return h(this)}function xn(){return l({},u(this))}function Cn(){return u(this).overflow}function kn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function _n(t,e){Y(0,[t,t.length],0,e)}function Tn(t){return En.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Sn(t){return En.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Nn(){return Ct(this.year(),1,4)}function $n(){var t=this.localeData()._week;return Ct(this.year(),t.dow,t.doy)}function En(t,e,n,i,o){var a;return null==t?xt(this,i,o).year:(a=Ct(t,i,o),e>a&&(e=a),Mn.call(this,t,e,n,i,o))}function Mn(t,e,n,i,o){var a=wt(t,e,n,i,o),r=bt(a.year,0,a.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function Dn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function On(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function An(t,e){e[io]=y(1e3*("0."+t))}function Pn(){return this._isUTC?"UTC":""}function Rn(){return this._isUTC?"Coordinated Universal Time":""}function Ln(t){return ve(1e3*t)}function Un(){return ve.apply(null,arguments).parseZone()}function In(t){return t}function jn(t,e,n,i){var o=te(),a=d().set(i,e);return o[n](a,t)}function Fn(t,e,n){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return jn(t,e,n,"month");var i,o=[];for(i=0;12>i;i++)o[i]=jn(t,i,n,"month");return o}function Hn(t,e,n,i){"boolean"==typeof t?("number"==typeof e&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,"number"==typeof e&&(n=e,e=void 0),e=e||"");var o=te(),a=t?o._week.dow:0;if(null!=n)return jn(e,(n+a)%7,i,"day");var r,s=[];for(r=0;7>r;r++)s[r]=jn(e,(r+a)%7,i,"day");return s}function Bn(t,e){return Fn(t,e,"months")}function qn(t,e){return Fn(t,e,"monthsShort")}function Wn(t,e,n){return Hn(t,e,n,"weekdays")}function Yn(t,e,n){return Hn(t,e,n,"weekdaysShort")}function zn(t,e,n){return Hn(t,e,n,"weekdaysMin")}function Vn(){var t=this._data;return this._milliseconds=Ko(this._milliseconds),this._days=Ko(this._days),this._months=Ko(this._months),t.milliseconds=Ko(t.milliseconds),t.seconds=Ko(t.seconds),t.minutes=Ko(t.minutes),t.hours=Ko(t.hours),t.months=Ko(t.months),t.years=Ko(t.years),this}function Kn(t,e,n,i){var o=Ie(e,n);return t._milliseconds+=i*o._milliseconds,t._days+=i*o._days,t._months+=i*o._months,t._bubble()}function Gn(t,e){return Kn(this,t,e,1)}function Xn(t,e){return Kn(this,t,e,-1)}function Qn(t){return 0>t?Math.floor(t):Math.ceil(t)}function Zn(){var t,e,n,i,o,a=this._milliseconds,r=this._days,s=this._months,l=this._data;return a>=0&&r>=0&&s>=0||0>=a&&0>=r&&0>=s||(a+=864e5*Qn(ti(s)+r),r=0,s=0),l.milliseconds=a%1e3,t=b(a/1e3),l.seconds=t%60,e=b(t/60),l.minutes=e%60,n=b(e/60),l.hours=n%24,r+=b(n/24),o=b(Jn(r)),s+=o,r-=Qn(ti(o)),i=b(s/12),s%=12,l.days=r,l.months=s,l.years=i,this}function Jn(t){return 4800*t/146097}function ti(t){return 146097*t/4800}function ei(t){var e,n,i=this._milliseconds;if(t=R(t),"month"===t||"year"===t)return e=this._days+i/864e5,n=this._months+Jn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(ti(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}}function ni(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)}function ii(t){return function(){return this.as(t)}}function oi(t){return t=R(t),this[t+"s"]()}function ai(t){return function(){return this._data[t]}}function ri(){return b(this.days()/7)}function si(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}function li(t,e,n){var i=Ie(t).abs(),o=ca(i.as("s")),a=ca(i.as("m")),r=ca(i.as("h")),s=ca(i.as("d")),l=ca(i.as("M")),d=ca(i.as("y")),c=o<ua.s&&["s",o]||1>=a&&["m"]||a<ua.m&&["mm",a]||1>=r&&["h"]||r<ua.h&&["hh",r]||1>=s&&["d"]||s<ua.d&&["dd",s]||1>=l&&["M"]||l<ua.M&&["MM",l]||1>=d&&["y"]||["yy",d];return c[2]=e,c[3]=+t>0,c[4]=n,si.apply(null,c)}function di(t){return void 0===t?ca:"function"==typeof t&&(ca=t,!0)}function ci(t,e){return void 0!==ua[t]&&(void 0===e?ua[t]:(ua[t]=e,!0))}function ui(t){var e=this.localeData(),n=li(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function hi(){var t,e,n,i=ha(this._milliseconds)/1e3,o=ha(this._days),a=ha(this._months);t=b(i/60),e=b(t/60),i%=60,t%=60,n=b(a/12),a%=12;var r=n,s=a,l=o,d=e,c=t,u=i,h=this.asSeconds();return h?(0>h?"-":"")+"P"+(r?r+"Y":"")+(s?s+"M":"")+(l?l+"D":"")+(d||c||u?"T":"")+(d?d+"H":"")+(c?c+"M":"")+(u?u+"S":""):"P0D"}var pi,fi;fi=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;n>i;i++)if(i in e&&t.call(this,e[i],i,e))return!0;
return!1};var mi=t.momentProperties=[],gi=!1,vi={};t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var bi;bi=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)s(t,e)&&n.push(e);return n};var yi,wi={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},xi={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Ci="Invalid date",ki="%d",_i=/\d{1,2}/,Ti={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Si={},Ni={},$i=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ei=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Mi={},Di={},Oi=/\d/,Ai=/\d\d/,Pi=/\d{3}/,Ri=/\d{4}/,Li=/[+-]?\d{6}/,Ui=/\d\d?/,Ii=/\d\d\d\d?/,ji=/\d\d\d\d\d\d?/,Fi=/\d{1,3}/,Hi=/\d{1,4}/,Bi=/[+-]?\d{1,6}/,qi=/\d+/,Wi=/[+-]?\d+/,Yi=/Z|[+-]\d\d:?\d\d/gi,zi=/Z|[+-]\d\d(?::?\d\d)?/gi,Vi=/[+-]?\d+(\.\d{1,3})?/,Ki=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Gi={},Xi={},Qi=0,Zi=1,Ji=2,to=3,eo=4,no=5,io=6,oo=7,ao=8;yi=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},Y("M",["MM",2],"Mo",function(){return this.month()+1}),Y("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),Y("MMMM",0,0,function(t){return this.localeData().months(this,t)}),P("month","M"),U("month",8),X("M",Ui),X("MM",Ui,Ai),X("MMM",function(t,e){return e.monthsShortRegex(t)}),X("MMMM",function(t,e){return e.monthsRegex(t)}),tt(["M","MM"],function(t,e){e[Zi]=y(t)-1}),tt(["MMM","MMMM"],function(t,e,n,i){var o=n._locale.monthsParse(t,i,n._strict);null!=o?e[Zi]=o:u(n).invalidMonth=t});var ro=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,so="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),lo="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),co=Ki,uo=Ki;Y("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),Y(0,["YY",2],0,function(){return this.year()%100}),Y(0,["YYYY",4],0,"year"),Y(0,["YYYYY",5],0,"year"),Y(0,["YYYYYY",6,!0],0,"year"),P("year","y"),U("year",1),X("Y",Wi),X("YY",Ui,Ai),X("YYYY",Hi,Ri),X("YYYYY",Bi,Li),X("YYYYYY",Bi,Li),tt(["YYYYY","YYYYYY"],Qi),tt("YYYY",function(e,n){n[Qi]=2===e.length?t.parseTwoDigitYear(e):y(e)}),tt("YY",function(e,n){n[Qi]=t.parseTwoDigitYear(e)}),tt("Y",function(t,e){e[Qi]=parseInt(t,10)}),t.parseTwoDigitYear=function(t){return y(t)+(y(t)>68?1900:2e3)};var ho=j("FullYear",!0);Y("w",["ww",2],"wo","week"),Y("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),U("week",5),U("isoWeek",5),X("w",Ui),X("ww",Ui,Ai),X("W",Ui),X("WW",Ui,Ai),et(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=y(t)});var po={dow:0,doy:6};Y("d",0,"do","day"),Y("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),Y("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),Y("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),Y("e",0,0,"weekday"),Y("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),U("day",11),U("weekday",11),U("isoWeekday",11),X("d",Ui),X("e",Ui),X("E",Ui),X("dd",function(t,e){return e.weekdaysMinRegex(t)}),X("ddd",function(t,e){return e.weekdaysShortRegex(t)}),X("dddd",function(t,e){return e.weekdaysRegex(t)}),et(["dd","ddd","dddd"],function(t,e,n,i){var o=n._locale.weekdaysParse(t,i,n._strict);null!=o?e.d=o:u(n).invalidWeekday=t}),et(["d","e","E"],function(t,e,n,i){e[i]=y(t)});var fo="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),mo="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),go="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),vo=Ki,bo=Ki,yo=Ki;Y("H",["HH",2],0,"hour"),Y("h",["hh",2],0,Bt),Y("k",["kk",2],0,qt),Y("hmm",0,0,function(){return""+Bt.apply(this)+W(this.minutes(),2)}),Y("hmmss",0,0,function(){return""+Bt.apply(this)+W(this.minutes(),2)+W(this.seconds(),2)}),Y("Hmm",0,0,function(){return""+this.hours()+W(this.minutes(),2)}),Y("Hmmss",0,0,function(){return""+this.hours()+W(this.minutes(),2)+W(this.seconds(),2)}),Wt("a",!0),Wt("A",!1),P("hour","h"),U("hour",13),X("a",Yt),X("A",Yt),X("H",Ui),X("h",Ui),X("HH",Ui,Ai),X("hh",Ui,Ai),X("hmm",Ii),X("hmmss",ji),X("Hmm",Ii),X("Hmmss",ji),tt(["H","HH"],to),tt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),tt(["h","hh"],function(t,e,n){e[to]=y(t),u(n).bigHour=!0}),tt("hmm",function(t,e,n){var i=t.length-2;e[to]=y(t.substr(0,i)),e[eo]=y(t.substr(i)),u(n).bigHour=!0}),tt("hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[to]=y(t.substr(0,i)),e[eo]=y(t.substr(i,2)),e[no]=y(t.substr(o)),u(n).bigHour=!0}),tt("Hmm",function(t,e,n){var i=t.length-2;e[to]=y(t.substr(0,i)),e[eo]=y(t.substr(i))}),tt("Hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[to]=y(t.substr(0,i)),e[eo]=y(t.substr(i,2)),e[no]=y(t.substr(o))});var wo,xo=/[ap]\.?m?\.?/i,Co=j("Hours",!0),ko={calendar:wi,longDateFormat:xi,invalidDate:Ci,ordinal:ki,ordinalParse:_i,relativeTime:Ti,months:so,monthsShort:lo,week:po,weekdays:fo,weekdaysMin:go,weekdaysShort:mo,meridiemParse:xo},_o={},To=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,So=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,No=/Z|[+-]\d\d(?::?\d\d)?/,$o=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Eo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Mo=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=C("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),t.ISO_8601=function(){};var Do=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ve.apply(null,arguments);return this.isValid()&&t.isValid()?this>t?this:t:p()}),Oo=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=ve.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:p()}),Ao=function(){return Date.now?Date.now():+new Date};ke("Z",":"),ke("ZZ",""),X("Z",zi),X("ZZ",zi),tt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=_e(zi,t)});var Po=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Ro=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Lo=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;Ie.fn=xe.prototype;var Uo=qe(1,"add"),Io=qe(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var jo=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});Y(0,["gg",2],0,function(){return this.weekYear()%100}),Y(0,["GG",2],0,function(){return this.isoWeekYear()%100}),_n("gggg","weekYear"),_n("ggggg","weekYear"),_n("GGGG","isoWeekYear"),_n("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),U("weekYear",1),U("isoWeekYear",1),X("G",Wi),X("g",Wi),X("GG",Ui,Ai),X("gg",Ui,Ai),X("GGGG",Hi,Ri),X("gggg",Hi,Ri),X("GGGGG",Bi,Li),X("ggggg",Bi,Li),et(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=y(t)}),et(["gg","GG"],function(e,n,i,o){n[o]=t.parseTwoDigitYear(e)}),Y("Q",0,"Qo","quarter"),P("quarter","Q"),U("quarter",7),X("Q",Oi),tt("Q",function(t,e){e[Zi]=3*(y(t)-1)}),Y("D",["DD",2],"Do","date"),P("date","D"),U("date",9),X("D",Ui),X("DD",Ui,Ai),X("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),tt(["D","DD"],Ji),tt("Do",function(t,e){e[Ji]=y(t.match(Ui)[0],10)});var Fo=j("Date",!0);Y("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),U("dayOfYear",4),X("DDD",Fi),X("DDDD",Pi),tt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=y(t)}),Y("m",["mm",2],0,"minute"),P("minute","m"),U("minute",14),X("m",Ui),X("mm",Ui,Ai),tt(["m","mm"],eo);var Ho=j("Minutes",!1);Y("s",["ss",2],0,"second"),P("second","s"),U("second",15),X("s",Ui),X("ss",Ui,Ai),tt(["s","ss"],no);var Bo=j("Seconds",!1);Y("S",0,0,function(){return~~(this.millisecond()/100)}),Y(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Y(0,["SSS",3],0,"millisecond"),Y(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Y(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Y(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Y(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Y(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Y(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),U("millisecond",16),X("S",Fi,Oi),X("SS",Fi,Ai),X("SSS",Fi,Pi);var qo;for(qo="SSSS";qo.length<=9;qo+="S")X(qo,qi);for(qo="S";qo.length<=9;qo+="S")tt(qo,An);var Wo=j("Milliseconds",!1);Y("z",0,0,"zoneAbbr"),Y("zz",0,0,"zoneName");var Yo=g.prototype;Yo.add=Uo,Yo.calendar=ze,Yo.clone=Ve,Yo.diff=tn,Yo.endOf=pn,Yo.format=an,Yo.from=rn,Yo.fromNow=sn,Yo.to=ln,Yo.toNow=dn,Yo.get=B,Yo.invalidAt=Cn,Yo.isAfter=Ke,Yo.isBefore=Ge,Yo.isBetween=Xe,Yo.isSame=Qe,Yo.isSameOrAfter=Ze,Yo.isSameOrBefore=Je,Yo.isValid=wn,Yo.lang=jo,Yo.locale=cn,Yo.localeData=un,Yo.max=Oo,Yo.min=Do,Yo.parsingFlags=xn,Yo.set=q,Yo.startOf=hn,Yo.subtract=Io,Yo.toArray=vn,Yo.toObject=bn,Yo.toDate=gn,Yo.toISOString=on,Yo.toJSON=yn,Yo.toString=nn,Yo.unix=mn,Yo.valueOf=fn,Yo.creationData=kn,Yo.year=ho,Yo.isLeapYear=gt,Yo.weekYear=Tn,Yo.isoWeekYear=Sn,Yo.quarter=Yo.quarters=Dn,Yo.month=dt,Yo.daysInMonth=ct,Yo.week=Yo.weeks=St,Yo.isoWeek=Yo.isoWeeks=Nt,Yo.weeksInYear=$n,Yo.isoWeeksInYear=Nn,Yo.date=Fo,Yo.day=Yo.days=Rt,Yo.weekday=Lt,Yo.isoWeekday=Ut,Yo.dayOfYear=On,Yo.hour=Yo.hours=Co,Yo.minute=Yo.minutes=Ho,Yo.second=Yo.seconds=Bo,Yo.millisecond=Yo.milliseconds=Wo,Yo.utcOffset=Ne,Yo.utc=Ee,Yo.local=Me,Yo.parseZone=De,Yo.hasAlignedHourOffset=Oe,Yo.isDST=Ae,Yo.isLocal=Re,Yo.isUtcOffset=Le,Yo.isUtc=Ue,Yo.isUTC=Ue,Yo.zoneAbbr=Pn,Yo.zoneName=Rn,Yo.dates=C("dates accessor is deprecated. Use date instead.",Fo),Yo.months=C("months accessor is deprecated. Use month instead",dt),Yo.years=C("years accessor is deprecated. Use year instead",ho),Yo.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",$e),Yo.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Pe);var zo=Yo,Vo=N.prototype;Vo.calendar=$,Vo.longDateFormat=E,Vo.invalidDate=M,Vo.ordinal=D,Vo.preparse=In,Vo.postformat=In,Vo.relativeTime=O,Vo.pastFuture=A,Vo.set=T,Vo.months=ot,Vo.monthsShort=at,Vo.monthsParse=st,Vo.monthsRegex=ht,Vo.monthsShortRegex=ut,Vo.week=kt,Vo.firstDayOfYear=Tt,Vo.firstDayOfWeek=_t,Vo.weekdays=Mt,Vo.weekdaysMin=Ot,Vo.weekdaysShort=Dt,Vo.weekdaysParse=Pt,Vo.weekdaysRegex=It,Vo.weekdaysShortRegex=jt,Vo.weekdaysMinRegex=Ft,Vo.isPM=zt,Vo.meridiem=Vt,Qt("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===y(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=C("moment.lang is deprecated. Use moment.locale instead.",Qt),t.langData=C("moment.langData is deprecated. Use moment.localeData instead.",te);var Ko=Math.abs,Go=ii("ms"),Xo=ii("s"),Qo=ii("m"),Zo=ii("h"),Jo=ii("d"),ta=ii("w"),ea=ii("M"),na=ii("y"),ia=ai("milliseconds"),oa=ai("seconds"),aa=ai("minutes"),ra=ai("hours"),sa=ai("days"),la=ai("months"),da=ai("years"),ca=Math.round,ua={s:45,m:45,h:22,d:26,M:11},ha=Math.abs,pa=xe.prototype;pa.abs=Vn,pa.add=Gn,pa.subtract=Xn,pa.as=ei,pa.asMilliseconds=Go,pa.asSeconds=Xo,pa.asMinutes=Qo,pa.asHours=Zo,pa.asDays=Jo,pa.asWeeks=ta,pa.asMonths=ea,pa.asYears=na,pa.valueOf=ni,pa._bubble=Zn,pa.get=oi,pa.milliseconds=ia,pa.seconds=oa,pa.minutes=aa,pa.hours=ra,pa.days=sa,pa.weeks=ri,pa.months=la,pa.years=da,pa.humanize=ui,pa.toISOString=hi,pa.toString=hi,pa.toJSON=hi,pa.locale=cn,pa.localeData=un,pa.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",hi),pa.lang=jo,Y("X",0,0,"unix"),Y("x",0,0,"valueOf"),X("x",Wi),X("X",Vi),tt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),tt("x",function(t,e,n){n._d=new Date(y(t))}),t.version="2.14.1",e(ve),t.fn=zo,t.min=ye,t.max=we,t.now=Ao,t.utc=d,t.unix=Ln,t.months=Bn,t.isDate=a,t.locale=Qt,t.invalid=p,t.duration=Ie,t.isMoment=v,t.weekdays=Wn,t.parseZone=Un,t.localeData=te,t.isDuration=Ce,t.monthsShort=qn,t.weekdaysMin=zn,t.defineLocale=Zt,t.updateLocale=Jt,t.locales=ee,t.weekdaysShort=Yn,t.normalizeUnits=R,t.relativeTimeRounding=di,t.relativeTimeThreshold=ci,t.calendarFormat=Ye,t.prototype=zo;var fa=t;return fa}),!function(t){"use strict";var e=null,n=function(t){var e=arguments,n=!0,i=1;return t=t.replace(/%s/g,function(){var t=e[i++];return"undefined"==typeof t?(n=!1,""):t}),n?t:""},i=function(e,n,i,o){var a="";return t.each(e,function(t,e){return e[n]!==o||(a=e[i],!1)}),a},o=function(e,n){var i=-1;return t.each(e,function(t,e){return e.field!==n||(i=t,!1)}),i},a=function(e){var n,i,o,a=0,r=[];for(n=0;n<e[0].length;n++)a+=e[0][n].colspan||1;for(n=0;n<e.length;n++)for(r[n]=[],i=0;a>i;i++)r[n][i]=!1;for(n=0;n<e.length;n++)for(i=0;i<e[n].length;i++){var s=e[n][i],l=s.rowspan||1,d=s.colspan||1,c=t.inArray(!1,r[n]);for(1===d&&(s.fieldIndex=c,"undefined"==typeof s.field&&(s.field=c)),o=0;l>o;o++)r[n+o][c]=!0;for(o=0;d>o;o++)r[n][c+o]=!0}},r=function(){if(null===e){var n,i,o=t("<p/>").addClass("fixed-table-scroll-inner"),a=t("<div/>").addClass("fixed-table-scroll-outer");a.append(o),t("body").append(a),n=o[0].offsetWidth,a.css("overflow","scroll"),i=o[0].offsetWidth,n===i&&(i=a[0].clientWidth),a.remove(),e=n-i}return e},s=function(e,i,o,a){var r=i;if("string"==typeof i){var s=i.split(".");s.length>1?(r=window,t.each(s,function(t,e){r=r[e]})):r=window[i]}return"object"==typeof r?r:"function"==typeof r?r.apply(e,o):!r&&"string"==typeof i&&n.apply(this,[i].concat(o))?n.apply(this,[i].concat(o)):a},l=function(e,n,i){var o=Object.getOwnPropertyNames(e),a=Object.getOwnPropertyNames(n),r="";if(i&&o.length!==a.length)return!1;for(var s=0;s<o.length;s++)if(r=o[s],t.inArray(r,a)>-1&&e[r]!==n[r])return!1;return!0},d=function(t){return"string"==typeof t?t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#x60;"):t},c=function(e){var n=0;return e.children().each(function(){n<t(this).outerHeight(!0)&&(n=t(this).outerHeight(!0))}),n},u=function(t){for(var e in t){var n=e.split(/(?=[A-Z])/).join("-").toLowerCase();n!==e&&(t[n]=t[e],delete t[e])}return t},h=function(t,e,n){var i=t;if("string"!=typeof e||t.hasOwnProperty(e))return n?d(t[e]):t[e];var o=e.split(".");for(var a in o)i=i&&i[o[a]];return n?d(i):i},p=function(){return!!(navigator.userAgent.indexOf("MSIE ")>0||navigator.userAgent.match(/Trident.*rv\:11\./))},f=function(){Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],i=n.length;return function(o){if("object"!=typeof o&&("function"!=typeof o||null===o))throw new TypeError("Object.keys called on non-object");var a,r,s=[];for(a in o)t.call(o,a)&&s.push(a);if(e)for(r=0;i>r;r++)t.call(o,n[r])&&s.push(n[r]);return s}}())},m=function(e,n){this.options=n,this.$el=t(e),this.$el_=this.$el.clone(),this.timeoutId_=0,this.timeoutFooter_=0,this.init()};m.DEFAULTS={classes:"table table-hover",locale:void 0,height:void 0,undefinedText:"-",sortName:void 0,sortOrder:"asc",sortStable:!1,striped:!1,columns:[[]],data:[],dataField:"rows",method:"get",url:void 0,ajax:void 0,cache:!0,contentType:"application/json",dataType:"json",ajaxOptions:{},queryParams:function(t){return t},queryParamsType:"limit",responseHandler:function(t){return t},pagination:!1,onlyInfoPagination:!1,sidePagination:"client",totalRows:0,pageNumber:1,pageSize:10,pageList:[10,25,50,100],paginationHAlign:"right",paginationVAlign:"bottom",paginationDetailHAlign:"left",paginationPreText:"&lsaquo;",paginationNextText:"&rsaquo;",search:!1,searchOnEnterKey:!1,strictSearch:!1,searchAlign:"right",selectItemName:"btSelectItem",showHeader:!0,showFooter:!1,showColumns:!1,showPaginationSwitch:!1,showRefresh:!1,showToggle:!1,buttonsAlign:"right",smartDisplay:!0,escape:!1,minimumCountColumns:1,idField:void 0,uniqueId:void 0,cardView:!1,detailView:!1,detailFormatter:function(){return""},trimOnSearch:!0,clickToSelect:!1,singleSelect:!1,toolbar:void 0,toolbarAlign:"left",checkboxHeader:!0,sortable:!0,silentSort:!0,maintainSelected:!1,searchTimeOut:500,searchText:"",iconSize:void 0,buttonsClass:"default",iconsPrefix:"glyphicon",icons:{paginationSwitchDown:"glyphicon-collapse-down icon-chevron-down",paginationSwitchUp:"glyphicon-collapse-up icon-chevron-up",refresh:"glyphicon-refresh icon-refresh",toggle:"glyphicon-list-alt icon-list-alt",columns:"glyphicon-th icon-th",detailOpen:"glyphicon-plus icon-plus",detailClose:"glyphicon-minus icon-minus"},customSearch:t.noop,customSort:t.noop,rowStyle:function(){return{}},rowAttributes:function(){return{}},footerStyle:function(){return{}},onAll:function(){return!1},onClickCell:function(){return!1},onDblClickCell:function(){return!1},onClickRow:function(){return!1},onDblClickRow:function(){return!1},onSort:function(){return!1},onCheck:function(){return!1},onUncheck:function(){return!1},onCheckAll:function(){return!1},onUncheckAll:function(){return!1},onCheckSome:function(){return!1},onUncheckSome:function(){return!1},onLoadSuccess:function(){return!1},onLoadError:function(){return!1},onColumnSwitch:function(){return!1},onPageChange:function(){return!1},onSearch:function(){return!1},onToggle:function(){return!1},onPreBody:function(){return!1},onPostBody:function(){return!1},onPostHeader:function(){return!1},onExpandRow:function(){return!1},onCollapseRow:function(){return!1},onRefreshOptions:function(){return!1},onRefresh:function(){return!1},onResetView:function(){return!1}},m.LOCALES={},m.LOCALES["en-US"]=m.LOCALES.en={formatLoadingMessage:function(){return"Loading, please wait..."},formatRecordsPerPage:function(t){return n("%s rows per page",t)},formatShowingRows:function(t,e,i){return n("Showing %s to %s of %s rows",t,e,i)},formatDetailPagination:function(t){return n("Showing %s rows",t)},formatSearch:function(){return"Search"},formatNoMatches:function(){return"No matching records found"},formatPaginationSwitch:function(){return"Hide/Show pagination"},formatRefresh:function(){return"Refresh"},formatToggle:function(){return"Toggle"},formatColumns:function(){return"Columns"},formatAllRows:function(){return"All"}},t.extend(m.DEFAULTS,m.LOCALES["en-US"]),m.COLUMN_DEFAULTS={radio:!1,checkbox:!1,checkboxEnabled:!0,field:void 0,title:void 0,titleTooltip:void 0,"class":void 0,align:void 0,halign:void 0,falign:void 0,valign:void 0,width:void 0,sortable:!1,order:"asc",visible:!0,switchable:!0,clickToSelect:!0,formatter:void 0,footerFormatter:void 0,events:void 0,sorter:void 0,sortName:void 0,cellStyle:void 0,searchable:!0,searchFormatter:!0,cardVisible:!0},m.EVENTS={"all.bs.table":"onAll","click-cell.bs.table":"onClickCell","dbl-click-cell.bs.table":"onDblClickCell","click-row.bs.table":"onClickRow","dbl-click-row.bs.table":"onDblClickRow","sort.bs.table":"onSort","check.bs.table":"onCheck","uncheck.bs.table":"onUncheck","check-all.bs.table":"onCheckAll","uncheck-all.bs.table":"onUncheckAll","check-some.bs.table":"onCheckSome","uncheck-some.bs.table":"onUncheckSome","load-success.bs.table":"onLoadSuccess","load-error.bs.table":"onLoadError","column-switch.bs.table":"onColumnSwitch","page-change.bs.table":"onPageChange","search.bs.table":"onSearch","toggle.bs.table":"onToggle","pre-body.bs.table":"onPreBody","post-body.bs.table":"onPostBody","post-header.bs.table":"onPostHeader","expand-row.bs.table":"onExpandRow","collapse-row.bs.table":"onCollapseRow","refresh-options.bs.table":"onRefreshOptions","reset-view.bs.table":"onResetView","refresh.bs.table":"onRefresh"},m.prototype.init=function(){this.initLocale(),this.initContainer(),this.initTable(),this.initHeader(),this.initData(),this.initFooter(),this.initToolbar(),this.initPagination(),this.initBody(),this.initSearchText(),this.initServer()},m.prototype.initLocale=function(){if(this.options.locale){var e=this.options.locale.split(/-|_/);e[0].toLowerCase(),e[1]&&e[1].toUpperCase(),t.fn.bootstrapTable.locales[this.options.locale]?t.extend(this.options,t.fn.bootstrapTable.locales[this.options.locale]):t.fn.bootstrapTable.locales[e.join("-")]?t.extend(this.options,t.fn.bootstrapTable.locales[e.join("-")]):t.fn.bootstrapTable.locales[e[0]]&&t.extend(this.options,t.fn.bootstrapTable.locales[e[0]])}},m.prototype.initContainer=function(){this.$container=t(['<div class="bootstrap-table">','<div class="fixed-table-toolbar"></div>',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?'<div class="fixed-table-pagination" style="clear: both;"></div>':"",'<div class="fixed-table-container">','<div class="fixed-table-header"><table></table></div>','<div class="fixed-table-body">','<div class="fixed-table-loading">',this.options.formatLoadingMessage(),"</div>","</div>",'<div class="fixed-table-footer"><table><tr></tr></table></div>',"bottom"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?'<div class="fixed-table-pagination"></div>':"","</div>","</div>"].join("")),this.$container.insertAfter(this.$el),this.$tableContainer=this.$container.find(".fixed-table-container"),this.$tableHeader=this.$container.find(".fixed-table-header"),this.$tableBody=this.$container.find(".fixed-table-body"),this.$tableLoading=this.$container.find(".fixed-table-loading"),this.$tableFooter=this.$container.find(".fixed-table-footer"),this.$toolbar=this.$container.find(".fixed-table-toolbar"),this.$pagination=this.$container.find(".fixed-table-pagination"),this.$tableBody.append(this.$el),this.$container.after('<div class="clearfix"></div>'),this.$el.addClass(this.options.classes),this.options.striped&&this.$el.addClass("table-striped"),-1!==t.inArray("table-no-bordered",this.options.classes.split(" "))&&this.$tableContainer.addClass("table-no-bordered")},m.prototype.initTable=function(){var e=this,n=[],i=[];if(this.$header=this.$el.find(">thead"),this.$header.length||(this.$header=t("<thead></thead>").appendTo(this.$el)),this.$header.find("tr").each(function(){var e=[];t(this).find("th").each(function(){"undefined"!=typeof t(this).data("field")&&t(this).data("field",t(this).data("field")+""),e.push(t.extend({},{title:t(this).html(),"class":t(this).attr("class"),titleTooltip:t(this).attr("title"),rowspan:t(this).attr("rowspan")?+t(this).attr("rowspan"):void 0,colspan:t(this).attr("colspan")?+t(this).attr("colspan"):void 0},t(this).data()))}),n.push(e)}),t.isArray(this.options.columns[0])||(this.options.columns=[this.options.columns]),this.options.columns=t.extend(!0,[],n,this.options.columns),this.columns=[],a(this.options.columns),t.each(this.options.columns,function(n,i){t.each(i,function(i,o){o=t.extend({},m.COLUMN_DEFAULTS,o),"undefined"!=typeof o.fieldIndex&&(e.columns[o.fieldIndex]=o),e.options.columns[n][i]=o})}),!this.options.data.length){var o=[];this.$el.find(">tbody>tr").each(function(n){var a={};a._id=t(this).attr("id"),a._class=t(this).attr("class"),a._data=u(t(this).data()),t(this).find(">td").each(function(i){for(var r,s,l=t(this),d=+l.attr("colspan")||1,c=+l.attr("rowspan")||1;o[n]&&o[n][i];i++);for(r=i;i+d>r;r++)for(s=n;n+c>s;s++)o[s]||(o[s]=[]),o[s][r]=!0;var h=e.columns[i].field;a[h]=t(this).html(),a["_"+h+"_id"]=t(this).attr("id"),a["_"+h+"_class"]=t(this).attr("class"),a["_"+h+"_rowspan"]=t(this).attr("rowspan"),a["_"+h+"_colspan"]=t(this).attr("colspan"),a["_"+h+"_title"]=t(this).attr("title"),a["_"+h+"_data"]=u(t(this).data())}),i.push(a)}),this.options.data=i,i.length&&(this.fromHtml=!0)}},m.prototype.initHeader=function(){var e=this,i={},o=[];this.header={fields:[],styles:[],classes:[],formatters:[],events:[],sorters:[],sortNames:[],cellStyles:[],searchables:[]},t.each(this.options.columns,function(a,r){o.push("<tr>"),0===a&&!e.options.cardView&&e.options.detailView&&o.push(n('<th class="detail" rowspan="%s"><div class="fht-cell"></div></th>',e.options.columns.length)),t.each(r,function(t,a){var r="",s="",l="",d="",c=n(' class="%s"',a["class"]),u=(e.options.sortOrder||a.order,"px"),h=a.width;if(void 0===a.width||e.options.cardView||"string"==typeof a.width&&-1!==a.width.indexOf("%")&&(u="%"),a.width&&"string"==typeof a.width&&(h=a.width.replace("%","").replace("px","")),s=n("text-align: %s; ",a.halign?a.halign:a.align),l=n("text-align: %s; ",a.align),d=n("vertical-align: %s; ",a.valign),d+=n("width: %s; ",!a.checkbox&&!a.radio||h?h?h+u:void 0:"36px"),"undefined"!=typeof a.fieldIndex){if(e.header.fields[a.fieldIndex]=a.field,e.header.styles[a.fieldIndex]=l+d,e.header.classes[a.fieldIndex]=c,e.header.formatters[a.fieldIndex]=a.formatter,e.header.events[a.fieldIndex]=a.events,e.header.sorters[a.fieldIndex]=a.sorter,e.header.sortNames[a.fieldIndex]=a.sortName,e.header.cellStyles[a.fieldIndex]=a.cellStyle,e.header.searchables[a.fieldIndex]=a.searchable,!a.visible)return;if(e.options.cardView&&!a.cardVisible)return;i[a.field]=a}o.push("<th"+n(' title="%s"',a.titleTooltip),a.checkbox||a.radio?n(' class="bs-checkbox %s"',a["class"]||""):c,n(' style="%s"',s+d),n(' rowspan="%s"',a.rowspan),n(' colspan="%s"',a.colspan),n(' data-field="%s"',a.field),"tabindex='0'",">"),o.push(n('<div class="th-inner %s">',e.options.sortable&&a.sortable?"sortable both":"")),r=a.title,a.checkbox&&(!e.options.singleSelect&&e.options.checkboxHeader&&(r='<input name="btSelectAll" type="checkbox" />'),e.header.stateField=a.field),a.radio&&(r="",e.header.stateField=a.field,e.options.singleSelect=!0),o.push(r),o.push("</div>"),o.push('<div class="fht-cell"></div>'),o.push("</div>"),o.push("</th>")}),o.push("</tr>")}),this.$header.html(o.join("")),this.$header.find("th[data-field]").each(function(){t(this).data(i[t(this).data("field")])}),this.$container.off("click",".th-inner").on("click",".th-inner",function(n){var i=t(this);return(!e.options.detailView||i.closest(".bootstrap-table")[0]===e.$container[0])&&void(e.options.sortable&&i.parent().data().sortable&&e.onSort(n))}),this.$header.children().children().off("keypress").on("keypress",function(n){if(e.options.sortable&&t(this).data().sortable){var i=n.keyCode||n.which;13==i&&e.onSort(n)}}),t(window).off("resize.bootstrap-table"),!this.options.showHeader||this.options.cardView?(this.$header.hide(),this.$tableHeader.hide(),this.$tableLoading.css("top",0)):(this.$header.show(),this.$tableHeader.show(),this.$tableLoading.css("top",this.$header.outerHeight()+1),this.getCaret(),t(window).on("resize.bootstrap-table",t.proxy(this.resetWidth,this))),this.$selectAll=this.$header.find('[name="btSelectAll"]'),this.$selectAll.off("click").on("click",function(){var n=t(this).prop("checked");e[n?"checkAll":"uncheckAll"](),e.updateSelected()})},m.prototype.initFooter=function(){!this.options.showFooter||this.options.cardView?this.$tableFooter.hide():this.$tableFooter.show()},m.prototype.initData=function(t,e){this.data="append"===e?this.data.concat(t):"prepend"===e?[].concat(t).concat(this.data):t||this.options.data,this.options.data="append"===e?this.options.data.concat(t):"prepend"===e?[].concat(t).concat(this.options.data):this.data,"server"!==this.options.sidePagination&&this.initSort()},m.prototype.initSort=function(){var e=this,n=this.options.sortName,i="desc"===this.options.sortOrder?-1:1,o=t.inArray(this.options.sortName,this.header.fields);return this.options.customSort!==t.noop?void this.options.customSort.apply(this,[this.options.sortName,this.options.sortOrder]):void(-1!==o&&(this.options.sortStable&&t.each(this.data,function(t,e){e.hasOwnProperty("_position")||(e._position=t)}),this.data.sort(function(a,r){e.header.sortNames[o]&&(n=e.header.sortNames[o]);var l=h(a,n,e.options.escape),d=h(r,n,e.options.escape),c=s(e.header,e.header.sorters[o],[l,d]);return void 0!==c?i*c:((void 0===l||null===l)&&(l=""),(void 0===d||null===d)&&(d=""),e.options.sortStable&&l===d&&(l=a._position,d=r._position),t.isNumeric(l)&&t.isNumeric(d)?(l=parseFloat(l),d=parseFloat(d),d>l?-1*i:i):l===d?0:("string"!=typeof l&&(l=l.toString()),-1===l.localeCompare(d)?-1*i:i))})))},m.prototype.onSort=function(e){var n="keypress"===e.type?t(e.currentTarget):t(e.currentTarget).parent(),i=this.$header.find("th").eq(n.index());return this.$header.add(this.$header_).find("span.order").remove(),this.options.sortName===n.data("field")?this.options.sortOrder="asc"===this.options.sortOrder?"desc":"asc":(this.options.sortName=n.data("field"),this.options.sortOrder="asc"===n.data("order")?"desc":"asc"),this.trigger("sort",this.options.sortName,this.options.sortOrder),n.add(i).data("order",this.options.sortOrder),this.getCaret(),"server"===this.options.sidePagination?void this.initServer(this.options.silentSort):(this.initSort(),void this.initBody())},m.prototype.initToolbar=function(){var e,i,o=this,a=[],r=0,l=0;this.$toolbar.find(".bs-bars").children().length&&t("body").append(t(this.options.toolbar)),this.$toolbar.html(""),("string"==typeof this.options.toolbar||"object"==typeof this.options.toolbar)&&t(n('<div class="bs-bars pull-%s"></div>',this.options.toolbarAlign)).appendTo(this.$toolbar).append(t(this.options.toolbar)),a=[n('<div class="columns columns-%s btn-group pull-%s">',this.options.buttonsAlign,this.options.buttonsAlign)],"string"==typeof this.options.icons&&(this.options.icons=s(null,this.options.icons)),this.options.showPaginationSwitch&&a.push(n('<button class="btn'+n(" btn-%s",this.options.buttonsClass)+n(" btn-%s",this.options.iconSize)+'" type="button" name="paginationSwitch" title="%s">',this.options.formatPaginationSwitch()),n('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.paginationSwitchDown),"</button>"),this.options.showRefresh&&a.push(n('<button class="btn'+n(" btn-%s",this.options.buttonsClass)+n(" btn-%s",this.options.iconSize)+'" type="button" name="refresh" title="%s">',this.options.formatRefresh()),n('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.refresh),"</button>"),this.options.showToggle&&a.push(n('<button class="btn'+n(" btn-%s",this.options.buttonsClass)+n(" btn-%s",this.options.iconSize)+'" type="button" name="toggle" title="%s">',this.options.formatToggle()),n('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.toggle),"</button>"),this.options.showColumns&&(a.push(n('<div class="keep-open btn-group" title="%s">',this.options.formatColumns()),'<button type="button" class="btn'+n(" btn-%s",this.options.buttonsClass)+n(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">',n('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.columns),' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'),t.each(this.columns,function(t,e){if(!(e.radio||e.checkbox||o.options.cardView&&!e.cardVisible)){
var i=e.visible?' checked="checked"':"";e.switchable&&(a.push(n('<li><label><input type="checkbox" data-field="%s" value="%s"%s> %s</label></li>',e.field,t,i,e.title)),l++)}}),a.push("</ul>","</div>")),a.push("</div>"),(this.showToolbar||a.length>2)&&this.$toolbar.append(a.join("")),this.options.showPaginationSwitch&&this.$toolbar.find('button[name="paginationSwitch"]').off("click").on("click",t.proxy(this.togglePagination,this)),this.options.showRefresh&&this.$toolbar.find('button[name="refresh"]').off("click").on("click",t.proxy(this.refresh,this)),this.options.showToggle&&this.$toolbar.find('button[name="toggle"]').off("click").on("click",function(){o.toggleView()}),this.options.showColumns&&(e=this.$toolbar.find(".keep-open"),l<=this.options.minimumCountColumns&&e.find("input").prop("disabled",!0),e.find("li").off("click").on("click",function(t){t.stopImmediatePropagation()}),e.find("input").off("click").on("click",function(){var e=t(this);o.toggleColumn(t(this).val(),e.prop("checked"),!1),o.trigger("column-switch",t(this).data("field"),e.prop("checked"))})),this.options.search&&(a=[],a.push('<div class="pull-'+this.options.searchAlign+' search">',n('<input class="form-control'+n(" input-%s",this.options.iconSize)+'" type="text" placeholder="%s">',this.options.formatSearch()),"</div>"),this.$toolbar.append(a.join("")),i=this.$toolbar.find(".search input"),i.off("keyup drop").on("keyup drop",function(e){o.options.searchOnEnterKey&&13!==e.keyCode||t.inArray(e.keyCode,[37,38,39,40])>-1||(clearTimeout(r),r=setTimeout(function(){o.onSearch(e)},o.options.searchTimeOut))}),p()&&i.off("mouseup").on("mouseup",function(t){clearTimeout(r),r=setTimeout(function(){o.onSearch(t)},o.options.searchTimeOut)}))},m.prototype.onSearch=function(e){var n=t.trim(t(e.currentTarget).val());this.options.trimOnSearch&&t(e.currentTarget).val()!==n&&t(e.currentTarget).val(n),n!==this.searchText&&(this.searchText=n,this.options.searchText=n,this.options.pageNumber=1,this.initSearch(),this.updatePagination(),this.trigger("search",n))},m.prototype.initSearch=function(){var e=this;if("server"!==this.options.sidePagination){if(this.options.customSearch!==t.noop)return void this.options.customSearch.apply(this,[this.searchText]);var n=this.searchText&&(this.options.escape?d(this.searchText):this.searchText).toLowerCase(),i=t.isEmptyObject(this.filterColumns)?null:this.filterColumns;this.data=i?t.grep(this.options.data,function(e){for(var n in i)if(t.isArray(i[n])&&-1===t.inArray(e[n],i[n])||e[n]!==i[n])return!1;return!0}):this.options.data,this.data=n?t.grep(this.data,function(i,a){for(var r=0;r<e.header.fields.length;r++)if(e.header.searchables[r]){var l,d=t.isNumeric(e.header.fields[r])?parseInt(e.header.fields[r],10):e.header.fields[r],c=e.columns[o(e.columns,d)];if("string"==typeof d){l=i;for(var u=d.split("."),h=0;h<u.length;h++)l=l[u[h]];c&&c.searchFormatter&&(l=s(c,e.header.formatters[r],[l,i,a],l))}else l=i[d];if("string"==typeof l||"number"==typeof l)if(e.options.strictSearch){if((l+"").toLowerCase()===n)return!0}else if(-1!==(l+"").toLowerCase().indexOf(n))return!0}return!1}):this.data}},m.prototype.initPagination=function(){if(!this.options.pagination)return void this.$pagination.hide();this.$pagination.show();var e,i,o,a,r,s,l,d,c,u=this,h=[],p=!1,f=this.getData(),m=this.options.pageList;if("server"!==this.options.sidePagination&&(this.options.totalRows=f.length),this.totalPages=0,this.options.totalRows){if(this.options.pageSize===this.options.formatAllRows())this.options.pageSize=this.options.totalRows,p=!0;else if(this.options.pageSize===this.options.totalRows){var g="string"==typeof this.options.pageList?this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").toLowerCase().split(","):this.options.pageList;t.inArray(this.options.formatAllRows().toLowerCase(),g)>-1&&(p=!0)}this.totalPages=~~((this.options.totalRows-1)/this.options.pageSize)+1,this.options.totalPages=this.totalPages}if(this.totalPages>0&&this.options.pageNumber>this.totalPages&&(this.options.pageNumber=this.totalPages),this.pageFrom=(this.options.pageNumber-1)*this.options.pageSize+1,this.pageTo=this.options.pageNumber*this.options.pageSize,this.pageTo>this.options.totalRows&&(this.pageTo=this.options.totalRows),h.push('<div class="pull-'+this.options.paginationDetailHAlign+' pagination-detail">','<span class="pagination-info">',this.options.onlyInfoPagination?this.options.formatDetailPagination(this.options.totalRows):this.options.formatShowingRows(this.pageFrom,this.pageTo,this.options.totalRows),"</span>"),!this.options.onlyInfoPagination){h.push('<span class="page-list">');var v=[n('<span class="btn-group %s">',"top"===this.options.paginationVAlign||"both"===this.options.paginationVAlign?"dropdown":"dropup"),'<button type="button" class="btn'+n(" btn-%s",this.options.buttonsClass)+n(" btn-%s",this.options.iconSize)+' dropdown-toggle" data-toggle="dropdown">','<span class="page-size">',p?this.options.formatAllRows():this.options.pageSize,"</span>",' <span class="caret"></span>',"</button>",'<ul class="dropdown-menu" role="menu">'];if("string"==typeof this.options.pageList){var b=this.options.pageList.replace("[","").replace("]","").replace(/ /g,"").split(",");m=[],t.each(b,function(t,e){m.push(e.toUpperCase()===u.options.formatAllRows().toUpperCase()?u.options.formatAllRows():+e)})}for(t.each(m,function(t,e){if(!u.options.smartDisplay||0===t||m[t-1]<=u.options.totalRows){var i;i=p?e===u.options.formatAllRows()?' class="active"':"":e===u.options.pageSize?' class="active"':"",v.push(n('<li%s><a href="javascript:void(0)">%s</a></li>',i,e))}}),v.push("</ul></span>"),h.push(this.options.formatRecordsPerPage(v.join(""))),h.push("</span>"),h.push("</div>",'<div class="pull-'+this.options.paginationHAlign+' pagination">','<ul class="pagination'+n(" pagination-%s",this.options.iconSize)+'">','<li class="page-pre"><a href="javascript:void(0)">'+this.options.paginationPreText+"</a></li>"),this.totalPages<5?(i=1,o=this.totalPages):(i=this.options.pageNumber-2,o=i+4,1>i&&(i=1,o=5),o>this.totalPages&&(o=this.totalPages,i=o-4)),this.totalPages>=6&&(this.options.pageNumber>=3&&(h.push('<li class="page-first'+(1===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',1,"</a>","</li>"),i++),this.options.pageNumber>=4&&(4==this.options.pageNumber||6==this.totalPages||7==this.totalPages?i--:h.push('<li class="page-first-separator disabled">','<a href="javascript:void(0)">...</a>',"</li>"),o--)),this.totalPages>=7&&this.options.pageNumber>=this.totalPages-2&&i--,6==this.totalPages?this.options.pageNumber>=this.totalPages-2&&o++:this.totalPages>=7&&(7==this.totalPages||this.options.pageNumber>=this.totalPages-3)&&o++,e=i;o>=e;e++)h.push('<li class="page-number'+(e===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',e,"</a>","</li>");this.totalPages>=8&&this.options.pageNumber<=this.totalPages-4&&h.push('<li class="page-last-separator disabled">','<a href="javascript:void(0)">...</a>',"</li>"),this.totalPages>=6&&this.options.pageNumber<=this.totalPages-3&&h.push('<li class="page-last'+(this.totalPages===this.options.pageNumber?" active":"")+'">','<a href="javascript:void(0)">',this.totalPages,"</a>","</li>"),h.push('<li class="page-next"><a href="javascript:void(0)">'+this.options.paginationNextText+"</a></li>","</ul>","</div>")}this.$pagination.html(h.join("")),this.options.onlyInfoPagination||(a=this.$pagination.find(".page-list a"),r=this.$pagination.find(".page-first"),s=this.$pagination.find(".page-pre"),l=this.$pagination.find(".page-next"),d=this.$pagination.find(".page-last"),c=this.$pagination.find(".page-number"),this.options.smartDisplay&&(this.totalPages<=1&&this.$pagination.find("div.pagination").hide(),(m.length<2||this.options.totalRows<=m[0])&&this.$pagination.find("span.page-list").hide(),this.$pagination[this.getData().length?"show":"hide"]()),p&&(this.options.pageSize=this.options.formatAllRows()),a.off("click").on("click",t.proxy(this.onPageListChange,this)),r.off("click").on("click",t.proxy(this.onPageFirst,this)),s.off("click").on("click",t.proxy(this.onPagePre,this)),l.off("click").on("click",t.proxy(this.onPageNext,this)),d.off("click").on("click",t.proxy(this.onPageLast,this)),c.off("click").on("click",t.proxy(this.onPageNumber,this)))},m.prototype.updatePagination=function(e){e&&t(e.currentTarget).hasClass("disabled")||(this.options.maintainSelected||this.resetRows(),this.initPagination(),"server"===this.options.sidePagination?this.initServer():this.initBody(),this.trigger("page-change",this.options.pageNumber,this.options.pageSize))},m.prototype.onPageListChange=function(e){var n=t(e.currentTarget);n.parent().addClass("active").siblings().removeClass("active"),this.options.pageSize=n.text().toUpperCase()===this.options.formatAllRows().toUpperCase()?this.options.formatAllRows():+n.text(),this.$toolbar.find(".page-size").text(this.options.pageSize),this.updatePagination(e)},m.prototype.onPageFirst=function(t){this.options.pageNumber=1,this.updatePagination(t)},m.prototype.onPagePre=function(t){this.options.pageNumber-1===0?this.options.pageNumber=this.options.totalPages:this.options.pageNumber--,this.updatePagination(t)},m.prototype.onPageNext=function(t){this.options.pageNumber+1>this.options.totalPages?this.options.pageNumber=1:this.options.pageNumber++,this.updatePagination(t)},m.prototype.onPageLast=function(t){this.options.pageNumber=this.totalPages,this.updatePagination(t)},m.prototype.onPageNumber=function(e){this.options.pageNumber!==+t(e.currentTarget).text()&&(this.options.pageNumber=+t(e.currentTarget).text(),this.updatePagination(e))},m.prototype.initBody=function(e){var a=this,r=[],l=this.getData();this.trigger("pre-body",l),this.$body=this.$el.find(">tbody"),this.$body.length||(this.$body=t("<tbody></tbody>").appendTo(this.$el)),this.options.pagination&&"server"!==this.options.sidePagination||(this.pageFrom=1,this.pageTo=l.length);for(var c=this.pageFrom-1;c<this.pageTo;c++){var u,p=l[c],f={},m=[],g="",v={},b=[];if(f=s(this.options,this.options.rowStyle,[p,c],f),f&&f.css)for(u in f.css)m.push(u+": "+f.css[u]);if(v=s(this.options,this.options.rowAttributes,[p,c],v))for(u in v)b.push(n('%s="%s"',u,d(v[u])));p._data&&!t.isEmptyObject(p._data)&&t.each(p._data,function(t,e){"index"!==t&&(g+=n(' data-%s="%s"',t,e))}),r.push("<tr",n(" %s",b.join(" ")),n(' id="%s"',t.isArray(p)?void 0:p._id),n(' class="%s"',f.classes||(t.isArray(p)?void 0:p._class)),n(' data-index="%s"',c),n(' data-uniqueid="%s"',p[this.options.uniqueId]),n("%s",g),">"),this.options.cardView&&r.push(n('<td colspan="%s"><div class="card-views">',this.header.fields.length)),!this.options.cardView&&this.options.detailView&&r.push("<td>",'<a class="detail-icon" href="javascript:">',n('<i class="%s %s"></i>',this.options.iconsPrefix,this.options.icons.detailOpen),"</a>","</td>"),t.each(this.header.fields,function(e,o){var l="",d=h(p,o,a.options.escape),u="",g={},v="",b=a.header.classes[e],y="",w="",x="",C="",k=a.columns[e];if(!(a.fromHtml&&"undefined"==typeof d||!k.visible||a.options.cardView&&!k.cardVisible)){if(f=n('style="%s"',m.concat(a.header.styles[e]).join("; ")),p["_"+o+"_id"]&&(v=n(' id="%s"',p["_"+o+"_id"])),p["_"+o+"_class"]&&(b=n(' class="%s"',p["_"+o+"_class"])),p["_"+o+"_rowspan"]&&(w=n(' rowspan="%s"',p["_"+o+"_rowspan"])),p["_"+o+"_colspan"]&&(x=n(' colspan="%s"',p["_"+o+"_colspan"])),p["_"+o+"_title"]&&(C=n(' title="%s"',p["_"+o+"_title"])),g=s(a.header,a.header.cellStyles[e],[d,p,c,o],g),g.classes&&(b=n(' class="%s"',g.classes)),g.css){var _=[];for(var T in g.css)_.push(T+": "+g.css[T]);f=n('style="%s"',_.concat(a.header.styles[e]).join("; "))}d=s(k,a.header.formatters[e],[d,p,c],d),p["_"+o+"_data"]&&!t.isEmptyObject(p["_"+o+"_data"])&&t.each(p["_"+o+"_data"],function(t,e){"index"!==t&&(y+=n(' data-%s="%s"',t,e))}),k.checkbox||k.radio?(u=k.checkbox?"checkbox":u,u=k.radio?"radio":u,l=[n(a.options.cardView?'<div class="card-view %s">':'<td class="bs-checkbox %s">',k["class"]||""),"<input"+n(' data-index="%s"',c)+n(' name="%s"',a.options.selectItemName)+n(' type="%s"',u)+n(' value="%s"',p[a.options.idField])+n(' checked="%s"',d===!0||d&&d.checked?"checked":void 0)+n(' disabled="%s"',!k.checkboxEnabled||d&&d.disabled?"disabled":void 0)+" />",a.header.formatters[e]&&"string"==typeof d?d:"",a.options.cardView?"</div>":"</td>"].join(""),p[a.header.stateField]=d===!0||d&&d.checked):(d="undefined"==typeof d||null===d?a.options.undefinedText:d,l=a.options.cardView?['<div class="card-view">',a.options.showHeader?n('<span class="title" %s>%s</span>',f,i(a.columns,"field","title",o)):"",n('<span class="value">%s</span>',d),"</div>"].join(""):[n("<td%s %s %s %s %s %s %s>",v,b,f,y,w,x,C),d,"</td>"].join(""),a.options.cardView&&a.options.smartDisplay&&""===d&&(l='<div class="card-view"></div>')),r.push(l)}}),this.options.cardView&&r.push("</div></td>"),r.push("</tr>")}r.length||r.push('<tr class="no-records-found">',n('<td colspan="%s">%s</td>',this.$header.find("th").length,this.options.formatNoMatches()),"</tr>"),this.$body.html(r.join("")),e||this.scrollTo(0),this.$body.find("> tr[data-index] > td").off("click dblclick").on("click dblclick",function(e){var i=t(this),r=i.parent(),s=a.data[r.data("index")],l=i[0].cellIndex,d=a.getVisibleFields(),c=d[a.options.detailView&&!a.options.cardView?l-1:l],u=a.columns[o(a.columns,c)],p=h(s,c,a.options.escape);if(!i.find(".detail-icon").length&&(a.trigger("click"===e.type?"click-cell":"dbl-click-cell",c,p,s,i),a.trigger("click"===e.type?"click-row":"dbl-click-row",s,r,c),"click"===e.type&&a.options.clickToSelect&&u.clickToSelect)){var f=r.find(n('[name="%s"]',a.options.selectItemName));f.length&&f[0].click()}}),this.$body.find("> tr[data-index] > td > .detail-icon").off("click").on("click",function(){var e=t(this),i=e.parent().parent(),o=i.data("index"),r=l[o];if(i.next().is("tr.detail-view"))e.find("i").attr("class",n("%s %s",a.options.iconsPrefix,a.options.icons.detailOpen)),i.next().remove(),a.trigger("collapse-row",o,r);else{e.find("i").attr("class",n("%s %s",a.options.iconsPrefix,a.options.icons.detailClose)),i.after(n('<tr class="detail-view"><td colspan="%s"></td></tr>',i.find("td").length));var d=i.next().find("td"),c=s(a.options,a.options.detailFormatter,[o,r,d],"");1===d.length&&d.append(c),a.trigger("expand-row",o,r,d)}a.resetView()}),this.$selectItem=this.$body.find(n('[name="%s"]',this.options.selectItemName)),this.$selectItem.off("click").on("click",function(e){e.stopImmediatePropagation();var n=t(this),i=n.prop("checked"),o=a.data[n.data("index")];a.options.maintainSelected&&t(this).is(":radio")&&t.each(a.options.data,function(t,e){e[a.header.stateField]=!1}),o[a.header.stateField]=i,a.options.singleSelect&&(a.$selectItem.not(this).each(function(){a.data[t(this).data("index")][a.header.stateField]=!1}),a.$selectItem.filter(":checked").not(this).prop("checked",!1)),a.updateSelected(),a.trigger(i?"check":"uncheck",o,n)}),t.each(this.header.events,function(e,n){if(n){"string"==typeof n&&(n=s(null,n));var i=a.header.fields[e],o=t.inArray(i,a.getVisibleFields());a.options.detailView&&!a.options.cardView&&(o+=1);for(var r in n)a.$body.find(">tr:not(.no-records-found)").each(function(){var e=t(this),s=e.find(a.options.cardView?".card-view":"td").eq(o),l=r.indexOf(" "),d=r.substring(0,l),c=r.substring(l+1),u=n[r];s.find(c).off(d).on(d,function(t){var n=e.data("index"),o=a.data[n],r=o[i];u.apply(this,[t,r,o,n])})})}}),this.updateSelected(),this.resetView(),this.trigger("post-body",l)},m.prototype.initServer=function(e,n,i){var o,a=this,r={},l={searchText:this.searchText,sortName:this.options.sortName,sortOrder:this.options.sortOrder};this.options.pagination&&(l.pageSize=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize,l.pageNumber=this.options.pageNumber),(i||this.options.url||this.options.ajax)&&("limit"===this.options.queryParamsType&&(l={search:l.searchText,sort:l.sortName,order:l.sortOrder},this.options.pagination&&(l.offset=this.options.pageSize===this.options.formatAllRows()?0:this.options.pageSize*(this.options.pageNumber-1),l.limit=this.options.pageSize===this.options.formatAllRows()?this.options.totalRows:this.options.pageSize)),t.isEmptyObject(this.filterColumnsPartial)||(l.filter=JSON.stringify(this.filterColumnsPartial,null)),r=s(this.options,this.options.queryParams,[l],r),t.extend(r,n||{}),r!==!1&&(e||this.$tableLoading.show(),o=t.extend({},s(null,this.options.ajaxOptions),{type:this.options.method,url:i||this.options.url,data:"application/json"===this.options.contentType&&"post"===this.options.method?JSON.stringify(r):r,cache:this.options.cache,contentType:this.options.contentType,dataType:this.options.dataType,success:function(t){t=s(a.options,a.options.responseHandler,[t],t),a.load(t),a.trigger("load-success",t),e||a.$tableLoading.hide()},error:function(t){a.trigger("load-error",t.status,t),e||a.$tableLoading.hide()}}),this.options.ajax?s(this,this.options.ajax,[o],null):(this._xhr&&4!==this._xhr.readyState&&this._xhr.abort(),this._xhr=t.ajax(o))))},m.prototype.initSearchText=function(){if(this.options.search&&""!==this.options.searchText){var t=this.$toolbar.find(".search input");t.val(this.options.searchText),this.onSearch({currentTarget:t})}},m.prototype.getCaret=function(){var e=this;t.each(this.$header.find("th"),function(n,i){t(i).find(".sortable").removeClass("desc asc").addClass(t(i).data("field")===e.options.sortName?e.options.sortOrder:"both")})},m.prototype.updateSelected=function(){var e=this.$selectItem.filter(":enabled").length&&this.$selectItem.filter(":enabled").length===this.$selectItem.filter(":enabled").filter(":checked").length;this.$selectAll.add(this.$selectAll_).prop("checked",e),this.$selectItem.each(function(){t(this).closest("tr")[t(this).prop("checked")?"addClass":"removeClass"]("selected")})},m.prototype.updateRows=function(){var e=this;this.$selectItem.each(function(){e.data[t(this).data("index")][e.header.stateField]=t(this).prop("checked")})},m.prototype.resetRows=function(){var e=this;t.each(this.data,function(t,n){e.$selectAll.prop("checked",!1),e.$selectItem.prop("checked",!1),e.header.stateField&&(n[e.header.stateField]=!1)})},m.prototype.trigger=function(e){var n=Array.prototype.slice.call(arguments,1);e+=".bs.table",this.options[m.EVENTS[e]].apply(this.options,n),this.$el.trigger(t.Event(e),n),this.options.onAll(e,n),this.$el.trigger(t.Event("all.bs.table"),[e,n])},m.prototype.resetHeader=function(){clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(t.proxy(this.fitHeader,this),this.$el.is(":hidden")?100:0)},m.prototype.fitHeader=function(){var e,i,o,a,s=this;if(s.$el.is(":hidden"))return void(s.timeoutId_=setTimeout(t.proxy(s.fitHeader,s),100));if(e=this.$tableBody.get(0),i=e.scrollWidth>e.clientWidth&&e.scrollHeight>e.clientHeight+this.$header.outerHeight()?r():0,this.$el.css("margin-top",-this.$header.outerHeight()),o=t(":focus"),o.length>0){var l=o.parents("th");if(l.length>0){var d=l.attr("data-field");if(void 0!==d){var c=this.$header.find("[data-field='"+d+"']");c.length>0&&c.find(":input").addClass("focus-temp")}}}this.$header_=this.$header.clone(!0,!0),this.$selectAll_=this.$header_.find('[name="btSelectAll"]'),this.$tableHeader.css({"margin-right":i}).find("table").css("width",this.$el.outerWidth()).html("").attr("class",this.$el.attr("class")).append(this.$header_),a=t(".focus-temp:visible:eq(0)"),a.length>0&&(a.focus(),this.$header.find(".focus-temp").removeClass("focus-temp")),this.$header.find("th[data-field]").each(function(){s.$header_.find(n('th[data-field="%s"]',t(this).data("field"))).data(t(this).data())});var u=this.getVisibleFields(),h=this.$header_.find("th");this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(e){var i=t(this),o=e;s.options.detailView&&!s.options.cardView&&(0===e&&s.$header_.find("th.detail").find(".fht-cell").width(i.innerWidth()),o=e-1);var a=s.$header_.find(n('th[data-field="%s"]',u[o]));a.length>1&&(a=t(h[i[0].cellIndex])),a.find(".fht-cell").width(i.innerWidth())}),this.$tableBody.off("scroll").on("scroll",function(){s.$tableHeader.scrollLeft(t(this).scrollLeft()),s.options.showFooter&&!s.options.cardView&&s.$tableFooter.scrollLeft(t(this).scrollLeft())}),s.trigger("post-header")},m.prototype.resetFooter=function(){var e=this,i=e.getData(),o=[];this.options.showFooter&&!this.options.cardView&&(!this.options.cardView&&this.options.detailView&&o.push('<td><div class="th-inner">&nbsp;</div><div class="fht-cell"></div></td>'),t.each(this.columns,function(t,a){var r,l="",d="",c=[],u={},h=n(' class="%s"',a["class"]);if(a.visible&&(!e.options.cardView||a.cardVisible)){if(l=n("text-align: %s; ",a.falign?a.falign:a.align),d=n("vertical-align: %s; ",a.valign),u=s(null,e.options.footerStyle),u&&u.css)for(r in u.css)c.push(r+": "+u.css[r]);o.push("<td",h,n(' style="%s"',l+d+c.concat().join("; ")),">"),o.push('<div class="th-inner">'),o.push(s(a,a.footerFormatter,[i],"&nbsp;")||"&nbsp;"),o.push("</div>"),o.push('<div class="fht-cell"></div>'),o.push("</div>"),o.push("</td>")}}),this.$tableFooter.find("tr").html(o.join("")),this.$tableFooter.show(),clearTimeout(this.timeoutFooter_),this.timeoutFooter_=setTimeout(t.proxy(this.fitFooter,this),this.$el.is(":hidden")?100:0))},m.prototype.fitFooter=function(){var e,n,i;return clearTimeout(this.timeoutFooter_),this.$el.is(":hidden")?void(this.timeoutFooter_=setTimeout(t.proxy(this.fitFooter,this),100)):(n=this.$el.css("width"),i=n>this.$tableBody.width()?r():0,this.$tableFooter.css({"margin-right":i}).find("table").css("width",n).attr("class",this.$el.attr("class")),e=this.$tableFooter.find("td"),void this.$body.find(">tr:first-child:not(.no-records-found) > *").each(function(n){var i=t(this);e.eq(n).find(".fht-cell").width(i.innerWidth())}))},m.prototype.toggleColumn=function(t,e,i){if(-1!==t&&(this.columns[t].visible=e,this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns)){var o=this.$toolbar.find(".keep-open input").prop("disabled",!1);i&&o.filter(n('[value="%s"]',t)).prop("checked",e),o.filter(":checked").length<=this.options.minimumCountColumns&&o.filter(":checked").prop("disabled",!0)}},m.prototype.toggleRow=function(t,e,i){-1!==t&&this.$body.find("undefined"!=typeof t?n('tr[data-index="%s"]',t):n('tr[data-uniqueid="%s"]',e))[i?"show":"hide"]()},m.prototype.getVisibleFields=function(){var e=this,n=[];return t.each(this.header.fields,function(t,i){var a=e.columns[o(e.columns,i)];a.visible&&n.push(i)}),n},m.prototype.resetView=function(t){var e=0;if(t&&t.height&&(this.options.height=t.height),this.$selectAll.prop("checked",this.$selectItem.length>0&&this.$selectItem.length===this.$selectItem.filter(":checked").length),this.options.height){var n=c(this.$toolbar),i=c(this.$pagination),o=this.options.height-n-i;this.$tableContainer.css("height",o+"px")}return this.options.cardView?(this.$el.css("margin-top","0"),this.$tableContainer.css("padding-bottom","0"),void this.$tableFooter.hide()):(this.options.showHeader&&this.options.height?(this.$tableHeader.show(),this.resetHeader(),e+=this.$header.outerHeight()):(this.$tableHeader.hide(),this.trigger("post-header")),this.options.showFooter&&(this.resetFooter(),this.options.height&&(e+=this.$tableFooter.outerHeight()+1)),this.getCaret(),this.$tableContainer.css("padding-bottom",e+"px"),void this.trigger("reset-view"))},m.prototype.getData=function(e){return!this.searchText&&t.isEmptyObject(this.filterColumns)&&t.isEmptyObject(this.filterColumnsPartial)?e?this.options.data.slice(this.pageFrom-1,this.pageTo):this.options.data:e?this.data.slice(this.pageFrom-1,this.pageTo):this.data},m.prototype.load=function(e){var n=!1;"server"===this.options.sidePagination?(this.options.totalRows=e.total,n=e.fixedScroll,e=e[this.options.dataField]):t.isArray(e)||(n=e.fixedScroll,e=e.data),this.initData(e),this.initSearch(),this.initPagination(),this.initBody(n)},m.prototype.append=function(t){this.initData(t,"append"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},m.prototype.prepend=function(t){this.initData(t,"prepend"),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0)},m.prototype.remove=function(e){var n,i,o=this.options.data.length;if(e.hasOwnProperty("field")&&e.hasOwnProperty("values")){for(n=o-1;n>=0;n--)i=this.options.data[n],i.hasOwnProperty(e.field)&&-1!==t.inArray(i[e.field],e.values)&&this.options.data.splice(n,1);o!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))}},m.prototype.removeAll=function(){this.options.data.length>0&&(this.options.data.splice(0,this.options.data.length),this.initSearch(),this.initPagination(),this.initBody(!0))},m.prototype.getRowByUniqueId=function(t){var e,n,i,o=this.options.uniqueId,a=this.options.data.length,r=null;for(e=a-1;e>=0;e--){if(n=this.options.data[e],n.hasOwnProperty(o))i=n[o];else{if(!n._data.hasOwnProperty(o))continue;i=n._data[o]}if("string"==typeof i?t=t.toString():"number"==typeof i&&(Number(i)===i&&i%1===0?t=parseInt(t):i===Number(i)&&0!==i&&(t=parseFloat(t))),i===t){r=n;break}}return r},m.prototype.removeByUniqueId=function(t){var e=this.options.data.length,n=this.getRowByUniqueId(t);n&&this.options.data.splice(this.options.data.indexOf(n),1),e!==this.options.data.length&&(this.initSearch(),this.initPagination(),this.initBody(!0))},m.prototype.updateByUniqueId=function(e){var n=this,i=t.isArray(e)?e:[e];t.each(i,function(e,i){var o;i.hasOwnProperty("id")&&i.hasOwnProperty("row")&&(o=t.inArray(n.getRowByUniqueId(i.id),n.options.data),-1!==o&&t.extend(n.options.data[o],i.row))}),this.initSearch(),this.initSort(),this.initBody(!0)},m.prototype.insertRow=function(t){t.hasOwnProperty("index")&&t.hasOwnProperty("row")&&(this.data.splice(t.index,0,t.row),this.initSearch(),this.initPagination(),this.initSort(),this.initBody(!0))},m.prototype.updateRow=function(e){var n=this,i=t.isArray(e)?e:[e];t.each(i,function(e,i){i.hasOwnProperty("index")&&i.hasOwnProperty("row")&&t.extend(n.options.data[i.index],i.row)}),this.initSearch(),this.initSort(),this.initBody(!0)},m.prototype.showRow=function(t){(t.hasOwnProperty("index")||t.hasOwnProperty("uniqueId"))&&this.toggleRow(t.index,t.uniqueId,!0)},m.prototype.hideRow=function(t){(t.hasOwnProperty("index")||t.hasOwnProperty("uniqueId"))&&this.toggleRow(t.index,t.uniqueId,!1)},m.prototype.getRowsHidden=function(e){var n=t(this.$body[0]).children().filter(":hidden"),i=0;if(e)for(;i<n.length;i++)t(n[i]).show();return n},m.prototype.mergeCells=function(e){var n,i,o,a=e.index,r=t.inArray(e.field,this.getVisibleFields()),s=e.rowspan||1,l=e.colspan||1,d=this.$body.find(">tr");if(this.options.detailView&&!this.options.cardView&&(r+=1),o=d.eq(a).find(">td").eq(r),!(0>a||0>r||a>=this.data.length)){for(n=a;a+s>n;n++)for(i=r;r+l>i;i++)d.eq(n).find(">td").eq(i).hide();o.attr("rowspan",s).attr("colspan",l).show()}},m.prototype.updateCell=function(t){t.hasOwnProperty("index")&&t.hasOwnProperty("field")&&t.hasOwnProperty("value")&&(this.data[t.index][t.field]=t.value,t.reinit!==!1&&(this.initSort(),this.initBody(!0)))},m.prototype.getOptions=function(){return this.options},m.prototype.getSelections=function(){var e=this;return t.grep(this.options.data,function(t){return t[e.header.stateField]})},m.prototype.getAllSelections=function(){var e=this;return t.grep(this.options.data,function(t){return t[e.header.stateField]})},m.prototype.checkAll=function(){this.checkAll_(!0)},m.prototype.uncheckAll=function(){this.checkAll_(!1)},m.prototype.checkInvert=function(){var e=this,n=e.$selectItem.filter(":enabled"),i=n.filter(":checked");n.each(function(){t(this).prop("checked",!t(this).prop("checked"))}),e.updateRows(),e.updateSelected(),e.trigger("uncheck-some",i),i=e.getSelections(),e.trigger("check-some",i)},m.prototype.checkAll_=function(t){var e;t||(e=this.getSelections()),this.$selectAll.add(this.$selectAll_).prop("checked",t),this.$selectItem.filter(":enabled").prop("checked",t),this.updateRows(),t&&(e=this.getSelections()),this.trigger(t?"check-all":"uncheck-all",e)},m.prototype.check=function(t){this.check_(!0,t)},m.prototype.uncheck=function(t){this.check_(!1,t)},m.prototype.check_=function(t,e){var i=this.$selectItem.filter(n('[data-index="%s"]',e)).prop("checked",t);this.data[e][this.header.stateField]=t,this.updateSelected(),this.trigger(t?"check":"uncheck",this.data[e],i)},m.prototype.checkBy=function(t){this.checkBy_(!0,t)},m.prototype.uncheckBy=function(t){this.checkBy_(!1,t)},m.prototype.checkBy_=function(e,i){if(i.hasOwnProperty("field")&&i.hasOwnProperty("values")){var o=this,a=[];t.each(this.options.data,function(r,s){if(!s.hasOwnProperty(i.field))return!1;if(-1!==t.inArray(s[i.field],i.values)){var l=o.$selectItem.filter(":enabled").filter(n('[data-index="%s"]',r)).prop("checked",e);s[o.header.stateField]=e,a.push(s),o.trigger(e?"check":"uncheck",s,l)}}),this.updateSelected(),this.trigger(e?"check-some":"uncheck-some",a)}},m.prototype.destroy=function(){this.$el.insertBefore(this.$container),t(this.options.toolbar).insertBefore(this.$el),this.$container.next().remove(),this.$container.remove(),this.$el.html(this.$el_.html()).css("margin-top","0").attr("class",this.$el_.attr("class")||"")},m.prototype.showLoading=function(){this.$tableLoading.show()},m.prototype.hideLoading=function(){this.$tableLoading.hide()},m.prototype.togglePagination=function(){this.options.pagination=!this.options.pagination;var t=this.$toolbar.find('button[name="paginationSwitch"] i');this.options.pagination?t.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchDown):t.attr("class",this.options.iconsPrefix+" "+this.options.icons.paginationSwitchUp),this.updatePagination()},m.prototype.refresh=function(t){t&&t.url&&(this.options.pageNumber=1),this.initServer(t&&t.silent,t&&t.query,t&&t.url),this.trigger("refresh",t)},m.prototype.resetWidth=function(){this.options.showHeader&&this.options.height&&this.fitHeader(),this.options.showFooter&&this.fitFooter()},m.prototype.showColumn=function(t){this.toggleColumn(o(this.columns,t),!0,!0)},m.prototype.hideColumn=function(t){this.toggleColumn(o(this.columns,t),!1,!0)},m.prototype.getHiddenColumns=function(){return t.grep(this.columns,function(t){return!t.visible})},m.prototype.getVisibleColumns=function(){return t.grep(this.columns,function(t){return t.visible})},m.prototype.toggleAllColumns=function(e){if(t.each(this.columns,function(t){this.columns[t].visible=e}),this.initHeader(),this.initSearch(),this.initPagination(),this.initBody(),this.options.showColumns){var n=this.$toolbar.find(".keep-open input").prop("disabled",!1);n.filter(":checked").length<=this.options.minimumCountColumns&&n.filter(":checked").prop("disabled",!0)}},m.prototype.showAllColumns=function(){this.toggleAllColumns(!0)},m.prototype.hideAllColumns=function(){this.toggleAllColumns(!1)},m.prototype.filterBy=function(e){this.filterColumns=t.isEmptyObject(e)?{}:e,this.options.pageNumber=1,this.initSearch(),this.updatePagination()},m.prototype.scrollTo=function(t){return"string"==typeof t&&(t="bottom"===t?this.$tableBody[0].scrollHeight:0),"number"==typeof t&&this.$tableBody.scrollTop(t),"undefined"==typeof t?this.$tableBody.scrollTop():void 0},m.prototype.getScrollPosition=function(){return this.scrollTo()},m.prototype.selectPage=function(t){t>0&&t<=this.options.totalPages&&(this.options.pageNumber=t,this.updatePagination())},m.prototype.prevPage=function(){this.options.pageNumber>1&&(this.options.pageNumber--,this.updatePagination())},m.prototype.nextPage=function(){this.options.pageNumber<this.options.totalPages&&(this.options.pageNumber++,this.updatePagination())},m.prototype.toggleView=function(){this.options.cardView=!this.options.cardView,this.initHeader(),this.initBody(),this.trigger("toggle",this.options.cardView)},m.prototype.refreshOptions=function(e){l(this.options,e,!0)||(this.options=t.extend(this.options,e),this.trigger("refresh-options",this.options),this.destroy(),
this.init())},m.prototype.resetSearch=function(t){var e=this.$toolbar.find(".search input");e.val(t||""),this.onSearch({currentTarget:e})},m.prototype.expandRow_=function(t,e){var i=this.$body.find(n('> tr[data-index="%s"]',e));i.next().is("tr.detail-view")===!t&&i.find("> td > .detail-icon").click()},m.prototype.expandRow=function(t){this.expandRow_(!0,t)},m.prototype.collapseRow=function(t){this.expandRow_(!1,t)},m.prototype.expandAllRows=function(e){if(e){var i=this.$body.find(n('> tr[data-index="%s"]',0)),o=this,a=null,r=!1,s=-1;if(i.next().is("tr.detail-view")?i.next().next().is("tr.detail-view")||(i.next().find(".detail-icon").click(),r=!0):(i.find("> td > .detail-icon").click(),r=!0),r)try{s=setInterval(function(){a=o.$body.find("tr.detail-view").last().find(".detail-icon"),a.length>0?a.click():clearInterval(s)},1)}catch(l){clearInterval(s)}}else for(var d=this.$body.children(),c=0;c<d.length;c++)this.expandRow_(!0,t(d[c]).data("index"))},m.prototype.collapseAllRows=function(e){if(e)this.expandRow_(!1,0);else for(var n=this.$body.children(),i=0;i<n.length;i++)this.expandRow_(!1,t(n[i]).data("index"))},m.prototype.updateFormatText=function(t,e){this.options[n("format%s",t)]&&("string"==typeof e?this.options[n("format%s",t)]=function(){return e}:"function"==typeof e&&(this.options[n("format%s",t)]=e)),this.initToolbar(),this.initPagination(),this.initBody()};var g=["getOptions","getSelections","getAllSelections","getData","load","append","prepend","remove","removeAll","insertRow","updateRow","updateCell","updateByUniqueId","removeByUniqueId","getRowByUniqueId","showRow","hideRow","getRowsHidden","mergeCells","checkAll","uncheckAll","checkInvert","check","uncheck","checkBy","uncheckBy","refresh","resetView","resetWidth","destroy","showLoading","hideLoading","showColumn","hideColumn","getHiddenColumns","getVisibleColumns","showAllColumns","hideAllColumns","filterBy","scrollTo","getScrollPosition","selectPage","prevPage","nextPage","togglePagination","toggleView","refreshOptions","resetSearch","expandRow","collapseRow","expandAllRows","collapseAllRows","updateFormatText"];t.fn.bootstrapTable=function(e){var n,i=Array.prototype.slice.call(arguments,1);return this.each(function(){var o=t(this),a=o.data("bootstrap.table"),r=t.extend({},m.DEFAULTS,o.data(),"object"==typeof e&&e);if("string"==typeof e){if(t.inArray(e,g)<0)throw new Error("Unknown method: "+e);if(!a)return;n=a[e].apply(a,i),"destroy"===e&&o.removeData("bootstrap.table")}a||o.data("bootstrap.table",a=new m(this,r))}),"undefined"==typeof n?this:n},t.fn.bootstrapTable.Constructor=m,t.fn.bootstrapTable.defaults=m.DEFAULTS,t.fn.bootstrapTable.columnDefaults=m.COLUMN_DEFAULTS,t.fn.bootstrapTable.locales=m.LOCALES,t.fn.bootstrapTable.methods=g,t.fn.bootstrapTable.utils={sprintf:n,getFieldIndex:o,compareObjects:l,calculateObjectValue:s,getItemField:h,objectKeys:f,isIEBrowser:p},t(function(){t('[data-toggle="table"]').bootstrapTable()})}(jQuery),!function(t){"use strict";t.fn.bootstrapTable.locales["zh-CN"]={formatLoadingMessage:function(){return"正在努力地加载数据中，请稍候……"},formatRecordsPerPage:function(t){return"每页显示 "+t+" 条记录"},formatShowingRows:function(t,e,n){return"显示第 "+t+" 到第 "+e+" 条记录，总共 "+n+" 条记录"},formatSearch:function(){return"搜索"},formatNoMatches:function(){return"没有找到匹配的记录"},formatPaginationSwitch:function(){return"隐藏/显示分页"},formatRefresh:function(){return"刷新"},formatToggle:function(){return"切换"},formatColumns:function(){return"列"},formatExport:function(){return"导出数据"},formatClearFilters:function(){return"清空过滤"}},t.extend(t.fn.bootstrapTable.defaults,t.fn.bootstrapTable.locales["zh-CN"])}(jQuery),!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function t(e,n){"use strict";function i(t){var e=g[f.locale];return e?e[t]:g.en[t]}function o(t,n,i){t.stopPropagation(),t.preventDefault();var o=e.isFunction(i)&&i.call(n,t)===!1;o||n.modal("hide")}function a(t){var e,n=0;for(e in t)n++;return n}function r(t,n){var i=0;e.each(t,function(t,e){n(t,e,i++)})}function s(t){var n,i;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return t=e.extend({},f,t),t.buttons||(t.buttons={}),n=t.buttons,i=a(n),r(n,function(t,o,a){if(e.isFunction(o)&&(o=n[t]={callback:o}),"object"!==e.type(o))throw new Error("button with key "+t+" must be an object");o.label||(o.label=t),o.className||(o.className=2>=i&&a===i-1?"btn-primary":"btn-default")}),t}function l(t,e){var n=t.length,i={};if(1>n||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof t[0]?(i[e[0]]=t[0],i[e[1]]=t[1]):i=t[0],i}function d(t,n,i){return e.extend(!0,{},t,l(n,i))}function c(t,e,n,i){var o={className:"bootbox-"+t,buttons:u.apply(null,e)};return h(d(o,i,n),e)}function u(){for(var t={},e=0,n=arguments.length;n>e;e++){var o=arguments[e],a=o.toLowerCase(),r=o.toUpperCase();t[a]={label:i(r)}}return t}function h(t,e){var i={};return r(e,function(t,e){i[e]=!0}),r(t.buttons,function(t){if(i[t]===n)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}var p={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},f={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},m={};m.alert=function(){var t;if(t=c("alert",["ok"],["message","callback"],arguments),t.callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!e.isFunction(t.callback)||t.callback.call(this)},m.dialog(t)},m.confirm=function(){var t;if(t=c("confirm",["cancel","confirm"],["message","callback"],arguments),t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return m.dialog(t)},m.prompt=function(){var t,i,o,a,s,l,c;if(a=e(p.form),i={className:"bootbox-prompt",buttons:u("cancel","confirm"),value:"",inputType:"text"},t=h(d(i,arguments,["title","callback"]),["cancel","confirm"]),l=t.show===n||t.show,t.message=a,t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,null)},t.buttons.confirm.callback=function(){var n;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=s.val();break;case"checkbox":var i=s.find("input:checked");n=[],r(i,function(t,i){n.push(e(i).val())})}return t.callback.call(this,n)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!p.inputs[t.inputType])throw new Error("invalid prompt type");switch(s=e(p.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":s.val(t.value);break;case"select":var f={};if(c=t.inputOptions||[],!e.isArray(c))throw new Error("Please pass an array of input options");if(!c.length)throw new Error("prompt with select requires options");r(c,function(t,i){var o=s;if(i.value===n||i.text===n)throw new Error("given options in wrong format");i.group&&(f[i.group]||(f[i.group]=e("<optgroup/>").attr("label",i.group)),o=f[i.group]),o.append("<option value='"+i.value+"'>"+i.text+"</option>")}),r(f,function(t,e){s.append(e)}),s.val(t.value);break;case"checkbox":var g=e.isArray(t.value)?t.value:[t.value];if(c=t.inputOptions||[],!c.length)throw new Error("prompt with checkbox requires options");if(!c[0].value||!c[0].text)throw new Error("given options in wrong format");s=e("<div/>"),r(c,function(n,i){var o=e(p.inputs[t.inputType]);o.find("input").attr("value",i.value),o.find("label").append(i.text),r(g,function(t,e){e===i.value&&o.find("input").prop("checked",!0)}),s.append(o)})}return t.placeholder&&s.attr("placeholder",t.placeholder),t.pattern&&s.attr("pattern",t.pattern),t.maxlength&&s.attr("maxlength",t.maxlength),a.append(s),a.on("submit",function(t){t.preventDefault(),t.stopPropagation(),o.find(".btn-primary").click()}),o=m.dialog(t),o.off("shown.bs.modal"),o.on("shown.bs.modal",function(){s.focus()}),l===!0&&o.modal("show"),o},m.dialog=function(t){t=s(t);var i=e(p.dialog),a=i.find(".modal-dialog"),l=i.find(".modal-body"),d=t.buttons,c="",u={onEscape:t.onEscape};if(e.fn.modal===n)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(r(d,function(t,e){c+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",u[t]=e.callback}),l.find(".bootbox-body").html(t.message),t.animate===!0&&i.addClass("fade"),t.className&&i.addClass(t.className),"large"===t.size?a.addClass("modal-lg"):"small"===t.size&&a.addClass("modal-sm"),t.title&&l.before(p.header),t.closeButton){var h=e(p.closeButton);t.title?i.find(".modal-header").prepend(h):h.css("margin-top","-10px").prependTo(l)}return t.title&&i.find(".modal-title").html(t.title),c.length&&(l.after(p.footer),i.find(".modal-footer").html(c)),i.on("hidden.bs.modal",function(t){t.target===this&&i.remove()}),i.on("shown.bs.modal",function(){i.find(".btn-primary:first").focus()}),"static"!==t.backdrop&&i.on("click.dismiss.bs.modal",function(t){i.children(".modal-backdrop").length&&(t.currentTarget=i.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&i.trigger("escape.close.bb")}),i.on("escape.close.bb",function(t){u.onEscape&&o(t,i,u.onEscape)}),i.on("click",".modal-footer button",function(t){var n=e(this).data("bb-handler");o(t,i,u[n])}),i.on("click",".bootbox-close-button",function(t){o(t,i,u.onEscape)}),i.on("keyup",function(t){27===t.which&&i.trigger("escape.close.bb")}),e(t.container).append(i),i.modal({backdrop:!!t.backdrop&&"static",keyboard:!1,show:!1}),t.show&&i.modal("show"),i},m.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(f,t)},m.hideAll=function(){return e(".bootbox").modal("hide"),m};var g={bg_BG:{OK:"Ок",CANCEL:"Отказ",CONFIRM:"Потвърждавам"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zrušit",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"Εντάξει",CANCEL:"Ακύρωση",CONFIRM:"Επιβεβαίωση"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"قبول",CANCEL:"لغو",CONFIRM:"تایید"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"אישור",CANCEL:"ביטול",CONFIRM:"אישור"},hu:{OK:"OK",CANCEL:"Mégsem",CONFIRM:"Megerősít"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"キャンセル",CONFIRM:"確認"},lt:{OK:"Gerai",CANCEL:"Atšaukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprināt"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"ตกลง",CANCEL:"ยกเลิก",CONFIRM:"ยืนยัน"},tr:{OK:"Tamam",CANCEL:"İptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return m.addLocale=function(t,n){return e.each(["OK","CANCEL","CONFIRM"],function(t,e){if(!n[e])throw new Error("Please supply a translation for '"+e+"'")}),g[t]={OK:n.OK,CANCEL:n.CANCEL,CONFIRM:n.CONFIRM},m},m.removeLocale=function(t){return delete g[t],m},m.setLocale=function(t){return m.setDefaults("locale",t)},m.init=function(n){return t(n||e)},m}),function(){window.UMEDITOR_HOME_URL||function(){function t(){this.documentURL=self.document.URL||self.location.href,this.separator="/",this.separatorPattern=/\\|\//g,this.currentDir="./",this.currentDirPattern=/^[.]\/]/,this.path=this.documentURL,this.stack=[],this.push(this.documentURL)}function e(){var e=t.getProtocol(this.path||"");e?(this.protocol=e,this.localSeparator=/\\|\//.exec(this.path.replace(e,""))[0],this.stack=[]):(e=/\\|\//.exec(this.path),e&&(this.localSeparator=e[0]))}function n(){var e=this.path.replace(this.currentDirPattern,"");t.hasProtocol(this.path)&&(e=e.replace(this.protocol,"")),e=e.split(this.localSeparator),e.length=e.length-1;for(var n,i=0,o=e.length,a=this.stack;i<o;i++)n=e[i],n&&(t.isParentPath(n)?a.pop():a.push(n))}t.isParentPath=function(t){return".."===t},t.hasProtocol=function(e){return!!t.getProtocol(e)},t.getProtocol=function(t){var e=/^[^:]*:\/*/.exec(t);return e?e[0]:null},t.prototype={push:function(t){return this.path=t,e.call(this),n.call(this),this},getPath:function(){return this+""},toString:function(){return this.protocol+this.stack.concat([""]).join(this.separator)}};var i=document.getElementsByTagName("script");return i=i[i.length-1].src,(new t).push(i)+""}();window.UMEDITOR_CONFIG={UMEDITOR_HOME_URL:"/editor/",imageUrl:"/ueditor",imagePath:"/editor/",imageFieldName:"upfile",toolbar:["undo redo | bold italic underline strikethrough | superscript subscript | forecolor backcolor | removeformat |","insertorderedlist insertunorderedlist | selectall cleardoc paragraph | fontfamily fontsize","| justifyleft justifycenter justifyright justifyjustify","| image","| horizontal print preview","drafts"],initialFrameWidth:"100%"}}(),function($){function getListener(t,e,n){var i;return e=e.toLowerCase(),(i=t.__allListeners||n&&(t.__allListeners={}))&&(i[e]||n&&(i[e]=[]))}function getDomNode(t,e,n,i,o,a){var r,s=i&&t[e];for(!s&&(s=t[n]);!s&&(r=(r||t).parentNode);){if("BODY"==r.tagName||a&&!a(r))return null;s=r[n]}return s&&o&&!o(s)?getDomNode(s,e,n,!1,o):s}UMEDITOR_CONFIG=window.UMEDITOR_CONFIG||{},window.UM={plugins:{},commands:{},I18N:{},version:"1.2.2"};var dom=UM.dom={},browser=UM.browser=function(){var t=navigator.userAgent.toLowerCase(),e=window.opera,n={ie:/(msie\s|trident.*rv:)([\w.]+)/.test(t),opera:!!e&&e.version,webkit:t.indexOf(" applewebkit/")>-1,mac:t.indexOf("macintosh")>-1,quirks:"BackCompat"==document.compatMode};n.gecko="Gecko"==navigator.product&&!n.webkit&&!n.opera&&!n.ie;var i=0;if(n.ie){var o=t.match(/(?:msie\s([\w.]+))/),a=t.match(/(?:trident.*rv:([\w.]+))/);i=o&&a&&o[1]&&a[1]?Math.max(1*o[1],1*a[1]):o&&o[1]?1*o[1]:a&&a[1]?1*a[1]:0,n.ie11Compat=11==document.documentMode,n.ie9Compat=9==document.documentMode,n.ie8=!!document.documentMode,n.ie8Compat=8==document.documentMode,n.ie7Compat=7==i&&!document.documentMode||7==document.documentMode,n.ie6Compat=i<7||n.quirks,n.ie9above=i>8,n.ie9below=i<9}if(n.gecko){var r=t.match(/rv:([\d\.]+)/);r&&(r=r[1].split("."),i=1e4*r[0]+100*(r[1]||0)+1*(r[2]||0))}return/chrome\/(\d+\.\d)/i.test(t)&&(n.chrome=+RegExp.$1),/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(t)&&!/chrome/i.test(t)&&(n.safari=+(RegExp.$1||RegExp.$2)),n.opera&&(i=parseFloat(e.version())),n.webkit&&(i=parseFloat(t.match(/ applewebkit\/(\d+)/)[1])),n.version=i,n.isCompatible=!n.mobile&&(n.ie&&i>=6||n.gecko&&i>=10801||n.opera&&i>=9.5||n.air&&i>=1||n.webkit&&i>=522||!1),n}(),ie=browser.ie,webkit=browser.webkit,gecko=browser.gecko,opera=browser.opera,utils=UM.utils={each:function(t,e,n){if(null!=t)if(t.length===+t.length){for(var i=0,o=t.length;i<o;i++)if(e.call(n,t[i],i,t)===!1)return!1}else for(var a in t)if(t.hasOwnProperty(a)&&e.call(n,t[a],a,t)===!1)return!1},makeInstance:function(t){var e=new Function;return e.prototype=t,t=new e,e.prototype=null,t},extend:function(t,e,n){if(e)for(var i in e)n&&t.hasOwnProperty(i)||(t[i]=e[i]);return t},extend2:function(t){for(var e=arguments,n=1;n<e.length;n++){var i=e[n];for(var o in i)t.hasOwnProperty(o)||(t[o]=i[o])}return t},inherits:function(t,e){var n=t.prototype,i=utils.makeInstance(e.prototype);return utils.extend(i,n,!0),t.prototype=i,i.constructor=t},bind:function(t,e){return function(){return t.apply(e,arguments)}},defer:function(t,e,n){var i;return function(){n&&clearTimeout(i),i=setTimeout(t,e)}},indexOf:function(t,e,n){var i=-1;return n=this.isNumber(n)?n:0,this.each(t,function(t,o){if(o>=n&&t===e)return i=o,!1}),i},removeItem:function(t,e){for(var n=0,i=t.length;n<i;n++)t[n]===e&&(t.splice(n,1),n--)},trim:function(t){return t.replace(/(^[ \t\n\r]+)|([ \t\n\r]+$)/g,"")},listToMap:function(t){if(!t)return{};t=utils.isArray(t)?t:t.split(",");for(var e,n=0,i={};e=t[n++];)i[e.toUpperCase()]=i[e]=1;return i},unhtml:function(t,e){return t?t.replace(e||/[&<">'](?:(amp|lt|quot|gt|#39|nbsp);)?/g,function(t,e){return e?t:{"<":"&lt;","&":"&amp;",'"':"&quot;",">":"&gt;","'":"&#39;"}[t]}):""},html:function(t){return t?t.replace(/&((g|l|quo)t|amp|#39);/g,function(t){return{"&lt;":"<","&amp;":"&","&quot;":'"',"&gt;":">","&#39;":"'"}[t]}):""},cssStyleToDomStyle:function(){var t=document.createElement("div").style,e={"float":void 0!=t.cssFloat?"cssFloat":void 0!=t.styleFloat?"styleFloat":"float"};return function(t){return e[t]||(e[t]=t.toLowerCase().replace(/-./g,function(t){return t.charAt(1).toUpperCase()}))}}(),loadFile:function(){function t(t,n){try{for(var i,o=0;i=e[o++];)if(i.doc===t&&i.url==(n.src||n.href))return i}catch(a){return null}}var e=[];return function(n,i,o){var a=t(n,i);if(a)return void(a.ready?o&&o():a.funs.push(o));if(e.push({doc:n,url:i.src||i.href,funs:[o]}),!n.body){var r=[];for(var s in i)"tag"!=s&&r.push(s+'="'+i[s]+'"');return void n.write("<"+i.tag+" "+r.join(" ")+" ></"+i.tag+">")}if(!i.id||!n.getElementById(i.id)){var l=n.createElement(i.tag);delete i.tag;for(var s in i)l.setAttribute(s,i[s]);l.onload=l.onreadystatechange=function(){if(!this.readyState||/loaded|complete/.test(this.readyState)){if(a=t(n,i),a.funs.length>0){a.ready=1;for(var e;e=a.funs.pop();)e()}l.onload=l.onreadystatechange=null}},l.onerror=function(){throw Error("The load "+(i.href||i.src)+" fails,check the url settings of file umeditor.config.js ")},n.getElementsByTagName("head")[0].appendChild(l)}}}(),isEmptyObject:function(t){if(null==t)return!0;if(this.isArray(t)||this.isString(t))return 0===t.length;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},fixColor:function(t,e){if(/color/i.test(t)&&/rgba?/.test(e)){var n=e.split(",");if(n.length>3)return"";e="#";for(var i,o=0;i=n[o++];)i=parseInt(i.replace(/[^\d]/gi,""),10).toString(16),e+=1==i.length?"0"+i:i;e=e.toUpperCase()}return e},clone:function(t,e){var n;e=e||{};for(var i in t)t.hasOwnProperty(i)&&(n=t[i],"object"==typeof n?(e[i]=utils.isArray(n)?[]:{},utils.clone(t[i],e[i])):e[i]=n);return e},transUnitToPx:function(t){if(!/(pt|cm)/.test(t))return t;var e;switch(t.replace(/([\d.]+)(\w+)/,function(n,i,o){t=i,e=o}),e){case"cm":t=25*parseFloat(t);break;case"pt":t=Math.round(96*parseFloat(t)/72)}return t+(t?"px":"")},cssRule:browser.ie&&11!=browser.version?function(t,e,n){var i,o;n=n||document,i=n.indexList?n.indexList:n.indexList={};var a;if(i[t])a=n.styleSheets[i[t]];else{if(void 0===e)return"";a=n.createStyleSheet("",o=n.styleSheets.length),i[t]=o}return void 0===e?a.cssText:void(a.cssText=e||"")}:function(t,e,n){n=n||document;var i,o=n.getElementsByTagName("head")[0];if(!(i=n.getElementById(t))){if(void 0===e)return"";i=n.createElement("style"),i.id=t,o.appendChild(i)}return void 0===e?i.innerHTML:void(""!==e?i.innerHTML=e:o.removeChild(i))}};utils.each(["String","Function","Array","Number","RegExp","Object"],function(t){UM.utils["is"+t]=function(e){return Object.prototype.toString.apply(e)=="[object "+t+"]"}});var EventBase=UM.EventBase=function(){};EventBase.prototype={addListener:function(t,e){t=utils.trim(t).split(" ");for(var n,i=0;n=t[i++];)getListener(this,n,!0).push(e)},removeListener:function(t,e){t=utils.trim(t).split(" ");for(var n,i=0;n=t[i++];)utils.removeItem(getListener(this,n)||[],e)},fireEvent:function(){var t=arguments[0];t=utils.trim(t).split(" ");for(var e,n=0;e=t[n++];){var i,o,a,r=getListener(this,e);if(r)for(a=r.length;a--;)if(r[a]){if(o=r[a].apply(this,arguments),o===!0)return o;void 0!==o&&(i=o)}(o=this["on"+e.toLowerCase()])&&(i=o.apply(this,arguments))}return i}};var dtd=dom.dtd=function(){function t(t){for(var e in t)t[e.toUpperCase()]=t[e];return t}var e=utils.extend2,n=t({isindex:1,fieldset:1}),i=t({input:1,button:1,select:1,textarea:1,label:1}),o=e(t({a:1}),i),a=e({iframe:1},o),r=t({hr:1,ul:1,menu:1,div:1,blockquote:1,noscript:1,table:1,center:1,address:1,dir:1,pre:1,h5:1,dl:1,h4:1,noframes:1,h6:1,ol:1,h1:1,h3:1,h2:1}),s=t({ins:1,del:1,script:1,style:1}),l=e(t({b:1,acronym:1,bdo:1,"var":1,"#":1,abbr:1,code:1,br:1,i:1,cite:1,kbd:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,dfn:1,span:1}),s),d=e(t({sub:1,img:1,embed:1,object:1,sup:1,basefont:1,map:1,applet:1,font:1,big:1,small:1}),l),c=e(t({p:1}),d),u=e(t({iframe:1}),d,i),h=t({img:1,embed:1,noscript:1,br:1,kbd:1,center:1,button:1,basefont:1,h5:1,h4:1,samp:1,h6:1,ol:1,h1:1,h3:1,h2:1,form:1,font:1,"#":1,select:1,menu:1,ins:1,abbr:1,label:1,code:1,table:1,script:1,cite:1,input:1,iframe:1,strong:1,textarea:1,noframes:1,big:1,small:1,span:1,hr:1,sub:1,bdo:1,"var":1,div:1,object:1,sup:1,strike:1,dir:1,map:1,dl:1,applet:1,del:1,isindex:1,fieldset:1,ul:1,b:1,acronym:1,a:1,blockquote:1,i:1,u:1,s:1,tt:1,address:1,q:1,pre:1,p:1,em:1,dfn:1}),p=e(t({a:0}),u),f=t({tr:1}),m=t({"#":1}),g=e(t({param:1}),h),v=e(t({form:1}),n,a,r,c),b=t({li:1,ol:1,ul:1}),y=t({style:1,script:1}),w=t({base:1,link:1,meta:1,title:1}),x=e(w,y),C=t({head:1,body:1}),k=t({html:1}),_=t({address:1,blockquote:1,center:1,dir:1,div:1,dl:1,fieldset:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,hr:1,isindex:1,menu:1,noframes:1,ol:1,p:1,pre:1,table:1,ul:1}),T=t({area:1,base:1,basefont:1,br:1,col:1,command:1,dialog:1,embed:1,hr:1,img:1,input:1,isindex:1,keygen:1,link:1,meta:1,param:1,source:1,track:1,wbr:1});return t({$nonBodyContent:e(k,C,w),$block:_,$inline:p,$inlineWithA:e(t({a:1}),p),$body:e(t({script:1,style:1}),_),$cdata:t({script:1,style:1}),$empty:T,$nonChild:t({iframe:1,textarea:1}),$listItem:t({dd:1,dt:1,li:1}),$list:t({ul:1,ol:1,dl:1}),$isNotEmpty:t({table:1,ul:1,ol:1,dl:1,iframe:1,area:1,base:1,col:1,hr:1,img:1,embed:1,input:1,link:1,meta:1,param:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1}),$removeEmpty:t({a:1,abbr:1,acronym:1,address:1,b:1,bdo:1,big:1,cite:1,code:1,del:1,dfn:1,em:1,font:1,i:1,ins:1,label:1,kbd:1,q:1,s:1,samp:1,small:1,span:1,strike:1,strong:1,sub:1,sup:1,tt:1,u:1,"var":1}),$removeEmptyBlock:t({p:1,div:1}),$tableContent:t({caption:1,col:1,colgroup:1,tbody:1,td:1,tfoot:1,th:1,thead:1,tr:1,table:1}),$notTransContent:t({pre:1,script:1,style:1,textarea:1}),html:C,head:x,style:m,script:m,body:v,base:{},link:{},meta:{},title:m,col:{},tr:t({td:1,th:1}),img:{},embed:{},colgroup:t({thead:1,col:1,tbody:1,tr:1,tfoot:1}),noscript:v,td:v,br:{},th:v,center:v,kbd:p,button:e(c,r),basefont:{},h5:p,h4:p,samp:p,h6:p,ol:b,h1:p,h3:p,option:m,h2:p,form:e(n,a,r,c),select:t({optgroup:1,option:1}),font:p,ins:p,menu:b,abbr:p,label:p,table:t({thead:1,col:1,tbody:1,tr:1,colgroup:1,caption:1,tfoot:1}),code:p,tfoot:f,cite:p,li:v,input:{},iframe:v,strong:p,textarea:m,noframes:v,big:p,small:p,span:t({"#":1,br:1,b:1,strong:1,u:1,i:1,em:1,sub:1,sup:1,strike:1,span:1}),hr:p,dt:p,sub:p,optgroup:t({option:1}),param:{},bdo:p,"var":p,div:v,object:g,sup:p,dd:v,strike:p,area:{},dir:b,map:e(t({area:1,form:1,p:1}),n,s,r),applet:g,dl:t({dt:1,dd:1}),del:p,isindex:{},fieldset:e(t({legend:1}),h),thead:f,ul:b,acronym:p,b:p,a:e(t({a:1}),u),blockquote:e(t({td:1,tr:1,tbody:1,li:1}),v),caption:p,i:p,u:p,tbody:f,s:p,address:e(a,c),tt:p,legend:p,q:p,pre:e(l,o),p:e(t({a:1}),p),em:p,dfn:p})}(),attrFix=ie&&browser.version<9?{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder"}:{tabindex:"tabIndex",readonly:"readOnly"},styleBlock=utils.listToMap(["-webkit-box","-moz-box","block","list-item","table","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption"]),domUtils=dom.domUtils={NODE_ELEMENT:1,NODE_DOCUMENT:9,NODE_TEXT:3,NODE_COMMENT:8,NODE_DOCUMENT_FRAGMENT:11,POSITION_IDENTICAL:0,POSITION_DISCONNECTED:1,POSITION_FOLLOWING:2,POSITION_PRECEDING:4,POSITION_IS_CONTAINED:8,POSITION_CONTAINS:16,fillChar:ie&&"6"==browser.version?"\ufeff":"​",keys:{8:1,46:1,16:1,17:1,18:1,37:1,38:1,39:1,40:1,13:1},breakParent:function(t,e){var n,i,o,a=t,r=t;do{for(a=a.parentNode,i?(n=a.cloneNode(!1),n.appendChild(i),i=n,n=a.cloneNode(!1),n.appendChild(o),o=n):(i=a.cloneNode(!1),o=i.cloneNode(!1));n=r.previousSibling;)i.insertBefore(n,i.firstChild);for(;n=r.nextSibling;)o.appendChild(n);r=a}while(e!==a);return n=e.parentNode,n.insertBefore(i,e),n.insertBefore(o,e),n.insertBefore(t,o),domUtils.remove(e),t},trimWhiteTextNode:function(t){function e(e){for(var n;(n=t[e])&&3==n.nodeType&&domUtils.isWhitespace(n);)t.removeChild(n)}e("firstChild"),e("lastChild")},getPosition:function(t,e){if(t===e)return 0;var n,i=[t],o=[e];for(n=t;n=n.parentNode;){if(n===e)return 10;i.push(n)}for(n=e;n=n.parentNode;){if(n===t)return 20;o.push(n)}if(i.reverse(),o.reverse(),i[0]!==o[0])return 1;for(var a=-1;a++,i[a]===o[a];);for(t=i[a],e=o[a];t=t.nextSibling;)if(t===e)return 4;return 2},getNodeIndex:function(t,e){for(var n=t,i=0;n=n.previousSibling;)e&&3==n.nodeType?n.nodeType!=n.nextSibling.nodeType&&i++:i++;return i},inDoc:function(t,e){return 10==domUtils.getPosition(t,e)},findParent:function(t,e,n){if(t&&!domUtils.isBody(t))for(t=n?t:t.parentNode;t;){if(!e||e(t)||domUtils.isBody(t))return e&&!e(t)&&domUtils.isBody(t)?null:t;t=t.parentNode}return null},findParentByTagName:function(t,e,n,i){return e=utils.listToMap(utils.isArray(e)?e:[e]),domUtils.findParent(t,function(t){return e[t.tagName]&&!(i&&i(t))},n)},findParents:function(t,e,n,i){for(var o=e&&(n&&n(t)||!n)?[t]:[];t=domUtils.findParent(t,n);)o.push(t);return i?o:o.reverse()},insertAfter:function(t,e){return t.parentNode.insertBefore(e,t.nextSibling)},remove:function(t,e){var n,i=t.parentNode;if(i){if(e&&t.hasChildNodes())for(;n=t.firstChild;)i.insertBefore(n,t);i.removeChild(t)}return t},getNextDomNode:function(t,e,n,i){return getDomNode(t,"firstChild","nextSibling",e,n,i)},getPreDomNode:function(t,e,n,i){return getDomNode(t,"lastChild","previousSibling",e,n,i)},isBookmarkNode:function(t){return 1==t.nodeType&&t.id&&/^_baidu_bookmark_/i.test(t.id)},getWindow:function(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow},getCommonAncestor:function(t,e){if(t===e)return t;for(var n=[t],i=[e],o=t,a=-1;o=o.parentNode;){if(o===e)return o;n.push(o)}for(o=e;o=o.parentNode;){if(o===t)return o;i.push(o)}for(n.reverse(),i.reverse();a++,n[a]===i[a];);return 0==a?null:n[a-1]},clearEmptySibling:function(t,e,n){function i(t,e){for(var n;t&&!domUtils.isBookmarkNode(t)&&(domUtils.isEmptyInlineElement(t)||!new RegExp("[^\t\n\r"+domUtils.fillChar+"]").test(t.nodeValue));)n=t[e],domUtils.remove(t),t=n}!e&&i(t.nextSibling,"nextSibling"),!n&&i(t.previousSibling,"previousSibling")},split:function(t,e){var n=t.ownerDocument;if(browser.ie&&e==t.nodeValue.length){var i=n.createTextNode("");return domUtils.insertAfter(t,i)}var o=t.splitText(e);if(browser.ie8){var a=n.createTextNode("");domUtils.insertAfter(o,a),domUtils.remove(a)}return o},isWhitespace:function(t){return!new RegExp("[^ \t\n\r"+domUtils.fillChar+"]").test(t.nodeValue)},getXY:function(t){for(var e=0,n=0;t.offsetParent;)n+=t.offsetTop,e+=t.offsetLeft,t=t.offsetParent;return{x:e,y:n}},isEmptyInlineElement:function(t){if(1!=t.nodeType||!dtd.$removeEmpty[t.tagName])return 0;for(t=t.firstChild;t;){if(domUtils.isBookmarkNode(t))return 0;if(1==t.nodeType&&!domUtils.isEmptyInlineElement(t)||3==t.nodeType&&!domUtils.isWhitespace(t))return 0;t=t.nextSibling}return 1},isBlockElm:function(t){return 1==t.nodeType&&(dtd.$block[t.tagName]||styleBlock[domUtils.getComputedStyle(t,"display")])&&!dtd.$nonChild[t.tagName]},getElementsByTagName:function(t,e,n){if(n&&utils.isString(n)){var i=n;n=function(t){var e=!1;return $.each(utils.trim(i).replace(/[ ]{2,}/g," ").split(" "),function(n,i){if($(t).hasClass(i))return e=!0,!1}),e}}e=utils.trim(e).replace(/[ ]{2,}/g," ").split(" ");for(var o,a=[],r=0;o=e[r++];)for(var s,l=t.getElementsByTagName(o),d=0;s=l[d++];)n&&!n(s)||a.push(s);return a},unSelectable:ie&&browser.ie9below||browser.opera?function(t){t.onselectstart=function(){return!1},t.onclick=t.onkeyup=t.onkeydown=function(){return!1},t.unselectable="on",t.setAttribute("unselectable","on");for(var e,n=0;e=t.all[n++];)switch(e.tagName.toLowerCase()){case"iframe":case"textarea":case"input":case"select":break;default:e.unselectable="on",t.setAttribute("unselectable","on")}}:function(t){t.style.MozUserSelect=t.style.webkitUserSelect=t.style.msUserSelect=t.style.KhtmlUserSelect="none"},removeAttributes:function(t,e){e=utils.isArray(e)?e:utils.trim(e).replace(/[ ]{2,}/g," ").split(" ");for(var n,i=0;n=e[i++];){switch(n=attrFix[n]||n){case"className":t[n]="";break;case"style":t.style.cssText="",!browser.ie&&t.removeAttributeNode(t.getAttributeNode("style"))}t.removeAttribute(n)}},createElement:function(t,e,n){return domUtils.setAttributes(t.createElement(e),n)},setAttributes:function(t,e){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];switch(n){case"class":t.className=i;break;case"style":t.style.cssText=t.style.cssText+";"+i;break;case"innerHTML":t[n]=i;break;case"value":t.value=i;break;default:t.setAttribute(attrFix[n]||n,i)}}return t},getComputedStyle:function(t,e){return utils.transUnitToPx(utils.fixColor(e,$(t).css(e)))},preventDefault:function(t){t.preventDefault?t.preventDefault():t.returnValue=!1},removeStyle:function(t,e){browser.ie?("color"==e&&(e="(^|;)"+e),t.style.cssText=t.style.cssText.replace(new RegExp(e+"[^:]*:[^;]+;?","ig"),"")):t.style.removeProperty?t.style.removeProperty(e):t.style.removeAttribute(utils.cssStyleToDomStyle(e)),t.style.cssText||domUtils.removeAttributes(t,["style"])},getStyle:function(t,e){var n=t.style[utils.cssStyleToDomStyle(e)];return utils.fixColor(e,n)},setStyle:function(t,e,n){t.style[utils.cssStyleToDomStyle(e)]=n,utils.trim(t.style.cssText)||this.removeAttributes(t,"style")},removeDirtyAttr:function(t){for(var e,n=0,i=t.getElementsByTagName("*");e=i[n++];)e.removeAttribute("_moz_dirty");t.removeAttribute("_moz_dirty")},getChildCount:function(t,e){var n=0,i=t.firstChild;for(e=e||function(){return 1};i;)e(i)&&n++,
i=i.nextSibling;return n},isEmptyNode:function(t){return!t.firstChild||0==domUtils.getChildCount(t,function(t){return!domUtils.isBr(t)&&!domUtils.isBookmarkNode(t)&&!domUtils.isWhitespace(t)})},isBr:function(t){return 1==t.nodeType&&"BR"==t.tagName},isFillChar:function(t,e){return 3==t.nodeType&&!t.nodeValue.replace(new RegExp((e?"^":"")+domUtils.fillChar),"").length},isEmptyBlock:function(t,e){if(1!=t.nodeType)return 0;if(e=e||new RegExp("[ \t\r\n"+domUtils.fillChar+"]","g"),t[browser.ie?"innerText":"textContent"].replace(e,"").length>0)return 0;for(var n in dtd.$isNotEmpty)if(t.getElementsByTagName(n).length)return 0;return 1},isCustomeNode:function(t){return 1==t.nodeType&&t.getAttribute("_ue_custom_node_")},fillNode:function(t,e){var n=browser.ie?t.createTextNode(domUtils.fillChar):t.createElement("br");e.innerHTML="",e.appendChild(n)},isBoundaryNode:function(t,e){for(var n;!domUtils.isBody(t);)if(n=t,t=t.parentNode,n!==t[e])return!1;return!0},isFillChar:function(t,e){return 3==t.nodeType&&!t.nodeValue.replace(new RegExp((e?"^":"")+domUtils.fillChar),"").length},isBody:function(t){return $(t).hasClass("edui-body-container")}},fillCharReg=new RegExp(domUtils.fillChar,"g");!function(){function t(t){t.collapsed=t.startContainer&&t.endContainer&&t.startContainer===t.endContainer&&t.startOffset==t.endOffset}function e(t){return!t.collapsed&&1==t.startContainer.nodeType&&t.startContainer===t.endContainer&&t.endOffset-t.startOffset==1}function n(e,n,i,o){return 1==n.nodeType&&(dtd.$empty[n.tagName]||dtd.$nonChild[n.tagName])&&(i=domUtils.getNodeIndex(n)+(e?0:1),n=n.parentNode),e?(o.startContainer=n,o.startOffset=i,o.endContainer||o.collapse(!0)):(o.endContainer=n,o.endOffset=i,o.startContainer||o.collapse(!1)),t(o),o}function i(t,e){try{if(r&&domUtils.inDoc(r,t))if(r.nodeValue.replace(fillCharReg,"").length)r.nodeValue=r.nodeValue.replace(fillCharReg,"");else{var n=r.parentNode;for(domUtils.remove(r);n&&domUtils.isEmptyInlineElement(n)&&(browser.safari?!(domUtils.getPosition(n,e)&domUtils.POSITION_CONTAINS):!n.contains(e));)r=n.parentNode,domUtils.remove(n),n=r}}catch(i){}}function o(t,e){var n;for(t=t[e];t&&domUtils.isFillChar(t);)n=t[e],domUtils.remove(t),t=n}function a(t,e){var n,i,o=t.startContainer,a=t.endContainer,r=t.startOffset,s=t.endOffset,l=t.document,d=l.createDocumentFragment();if(1==o.nodeType&&(o=o.childNodes[r]||(n=o.appendChild(l.createTextNode("")))),1==a.nodeType&&(a=a.childNodes[s]||(i=a.appendChild(l.createTextNode("")))),o===a&&3==o.nodeType)return d.appendChild(l.createTextNode(o.substringData(r,s-r))),e&&(o.deleteData(r,s-r),t.collapse(!0)),d;for(var c,u,h=d,p=domUtils.findParents(o,!0),f=domUtils.findParents(a,!0),m=0;p[m]==f[m];)m++;for(var g,v=m;g=p[v];v++){for(c=g.nextSibling,g==o?n||(3==t.startContainer.nodeType?(h.appendChild(l.createTextNode(o.nodeValue.slice(r))),e&&o.deleteData(r,o.nodeValue.length-r)):h.appendChild(e?o:o.cloneNode(!0))):(u=g.cloneNode(!1),h.appendChild(u));c&&c!==a&&c!==f[v];)g=c.nextSibling,h.appendChild(e?c:c.cloneNode(!0)),c=g;h=u}h=d,p[m]||(h.appendChild(p[m-1].cloneNode(!1)),h=h.firstChild);for(var b,v=m;b=f[v];v++){if(c=b.previousSibling,b==a?i||3!=t.endContainer.nodeType||(h.appendChild(l.createTextNode(a.substringData(0,s))),e&&a.deleteData(0,s)):(u=b.cloneNode(!1),h.appendChild(u)),v!=m||!p[m])for(;c&&c!==o;)b=c.previousSibling,h.insertBefore(e?c:c.cloneNode(!0),h.firstChild),c=b;h=u}return e&&t.setStartBefore(f[m]?p[m]?f[m]:p[m-1]:f[m-1]).collapse(!0),n&&domUtils.remove(n),i&&domUtils.remove(i),d}var r,s=0,l=domUtils.fillChar,d=dom.Range=function(t,e){var n=this;n.startContainer=n.startOffset=n.endContainer=n.endOffset=null,n.document=t,n.collapsed=!0,n.body=e};d.prototype={deleteContents:function(){var t;return this.collapsed||a(this,1),browser.webkit&&(t=this.startContainer,3!=t.nodeType||t.nodeValue.length||(this.setStartBefore(t).collapse(!0),domUtils.remove(t))),this},inFillChar:function(){var t=this.startContainer;return!(!this.collapsed||3!=t.nodeType||t.nodeValue.replace(new RegExp("^"+domUtils.fillChar),"").length+1!=t.nodeValue.length)},setStart:function(t,e){return n(!0,t,e,this)},setEnd:function(t,e){return n(!1,t,e,this)},setStartAfter:function(t){return this.setStart(t.parentNode,domUtils.getNodeIndex(t)+1)},setStartBefore:function(t){return this.setStart(t.parentNode,domUtils.getNodeIndex(t))},setEndAfter:function(t){return this.setEnd(t.parentNode,domUtils.getNodeIndex(t)+1)},setEndBefore:function(t){return this.setEnd(t.parentNode,domUtils.getNodeIndex(t))},setStartAtFirst:function(t){return this.setStart(t,0)},setStartAtLast:function(t){return this.setStart(t,3==t.nodeType?t.nodeValue.length:t.childNodes.length)},setEndAtFirst:function(t){return this.setEnd(t,0)},setEndAtLast:function(t){return this.setEnd(t,3==t.nodeType?t.nodeValue.length:t.childNodes.length)},selectNode:function(t){return this.setStartBefore(t).setEndAfter(t)},selectNodeContents:function(t){return this.setStart(t,0).setEndAtLast(t)},cloneRange:function(){var t=this;return new d(t.document).setStart(t.startContainer,t.startOffset).setEnd(t.endContainer,t.endOffset)},collapse:function(t){var e=this;return t?(e.endContainer=e.startContainer,e.endOffset=e.startOffset):(e.startContainer=e.endContainer,e.startOffset=e.endOffset),e.collapsed=!0,e},shrinkBoundary:function(t){function e(t){return 1==t.nodeType&&!domUtils.isBookmarkNode(t)&&!dtd.$empty[t.tagName]&&!dtd.$nonChild[t.tagName]}for(var n,i=this,o=i.collapsed;1==i.startContainer.nodeType&&(n=i.startContainer.childNodes[i.startOffset])&&e(n);)i.setStart(n,0);if(o)return i.collapse(!0);if(!t)for(;1==i.endContainer.nodeType&&i.endOffset>0&&(n=i.endContainer.childNodes[i.endOffset-1])&&e(n);)i.setEnd(n,n.childNodes.length);return i},trimBoundary:function(t){this.txtToElmBoundary();var e=this.startContainer,n=this.startOffset,i=this.collapsed,o=this.endContainer;if(3==e.nodeType){if(0==n)this.setStartBefore(e);else if(n>=e.nodeValue.length)this.setStartAfter(e);else{var a=domUtils.split(e,n);e===o?this.setEnd(a,this.endOffset-n):e.parentNode===o&&(this.endOffset+=1),this.setStartBefore(a)}if(i)return this.collapse(!0)}return t||(n=this.endOffset,o=this.endContainer,3==o.nodeType&&(0==n?this.setEndBefore(o):(n<o.nodeValue.length&&domUtils.split(o,n),this.setEndAfter(o)))),this},txtToElmBoundary:function(t){function e(t,e){var n=t[e+"Container"],i=t[e+"Offset"];3==n.nodeType&&(i?i>=n.nodeValue.length&&t["set"+e.replace(/(\w)/,function(t){return t.toUpperCase()})+"After"](n):t["set"+e.replace(/(\w)/,function(t){return t.toUpperCase()})+"Before"](n))}return!t&&this.collapsed||(e(this,"start"),e(this,"end")),this},insertNode:function(t){var e=t,n=1;11==t.nodeType&&(e=t.firstChild,n=t.childNodes.length),this.trimBoundary(!0);var i=this.startContainer,o=this.startOffset,a=i.childNodes[o];return a?i.insertBefore(t,a):i.appendChild(t),e.parentNode===this.endContainer&&(this.endOffset=this.endOffset+n),this.setStartBefore(e)},setCursor:function(t,e){return this.collapse(!t).select(e)},createBookmark:function(t,e){var n,i=this.document.createElement("span");return i.style.cssText="display:none;line-height:0px;",i.appendChild(this.document.createTextNode("‍")),i.id="_baidu_bookmark_start_"+(e?"":s++),this.collapsed||(n=i.cloneNode(!0),n.id="_baidu_bookmark_end_"+(e?"":s++)),this.insertNode(i),n&&this.collapse().insertNode(n).setEndBefore(n),this.setStartAfter(i),{start:t?i.id:i,end:n?t?n.id:n:null,id:t}},moveToBookmark:function(t){var e=t.id?this.document.getElementById(t.start):t.start,n=t.end&&t.id?this.document.getElementById(t.end):t.end;return this.setStartBefore(e),domUtils.remove(e),n?(this.setEndBefore(n),domUtils.remove(n)):this.collapse(!0),this},adjustmentBoundary:function(){if(!this.collapsed){for(;!domUtils.isBody(this.startContainer)&&this.startOffset==this.startContainer[3==this.startContainer.nodeType?"nodeValue":"childNodes"].length&&this.startContainer[3==this.startContainer.nodeType?"nodeValue":"childNodes"].length;)this.setStartAfter(this.startContainer);for(;!domUtils.isBody(this.endContainer)&&!this.endOffset&&this.endContainer[3==this.endContainer.nodeType?"nodeValue":"childNodes"].length;)this.setEndBefore(this.endContainer)}return this},getClosedNode:function(){var t;if(!this.collapsed){var n=this.cloneRange().adjustmentBoundary().shrinkBoundary();if(e(n)){var i=n.startContainer.childNodes[n.startOffset];i&&1==i.nodeType&&(dtd.$empty[i.tagName]||dtd.$nonChild[i.tagName])&&(t=i)}}return t},select:browser.ie?function(t,e){var n;this.collapsed||this.shrinkBoundary();var a=this.getClosedNode();if(a&&!e){try{n=this.document.body.createControlRange(),n.addElement(a),n.select()}catch(s){}return this}var d,c=this.createBookmark(),u=c.start;if(n=this.document.body.createTextRange(),n.moveToElementText(u),n.moveStart("character",1),this.collapsed){if(!t&&3!=this.startContainer.nodeType){var h=this.document.createTextNode(l),p=this.document.createElement("span");p.appendChild(this.document.createTextNode(l)),u.parentNode.insertBefore(p,u),u.parentNode.insertBefore(h,u),i(this.document,h),r=h,o(p,"previousSibling"),o(u,"nextSibling"),n.moveStart("character",-1),n.collapse(!0)}}else{var f=this.document.body.createTextRange();d=c.end,f.moveToElementText(d),n.setEndPoint("EndToEnd",f)}this.moveToBookmark(c),p&&domUtils.remove(p);try{n.select()}catch(s){}return this}:function(t){function e(t){function e(e,n,i){3==e.nodeType&&e.nodeValue.length<n&&(t[i+"Offset"]=e.nodeValue.length)}e(t.startContainer,t.startOffset,"start"),e(t.endContainer,t.endOffset,"end")}var n,a=domUtils.getWindow(this.document),s=a.getSelection();if(browser.gecko?this.body.focus():a.focus(),s){if(s.removeAllRanges(),this.collapsed&&!t){var d=this.startContainer,c=d;1==d.nodeType&&(c=d.childNodes[this.startOffset]),3==d.nodeType&&this.startOffset||(c?c.previousSibling&&3==c.previousSibling.nodeType:d.lastChild&&3==d.lastChild.nodeType)||(n=this.document.createTextNode(l),this.insertNode(n),i(this.document,n),o(n,"previousSibling"),o(n,"nextSibling"),r=n,this.setStart(n,browser.webkit?1:0).collapse(!0))}var u=this.document.createRange();if(this.collapsed&&browser.opera&&1==this.startContainer.nodeType){var c=this.startContainer.childNodes[this.startOffset];if(c){for(;c&&domUtils.isBlockElm(c)&&1==c.nodeType&&c.childNodes[0];)c=c.childNodes[0];c&&this.setStartBefore(c).collapse(!0)}else c=this.startContainer.lastChild,c&&domUtils.isBr(c)&&this.setStartBefore(c).collapse(!0)}e(this),u.setStart(this.startContainer,this.startOffset),u.setEnd(this.endContainer,this.endOffset),s.addRange(u)}return this},createAddress:function(t,e){function n(t){for(var n,i=t?o.startContainer:o.endContainer,a=domUtils.findParents(i,!0,function(t){return!domUtils.isBody(t)}),r=[],s=0;n=a[s++];)r.push(domUtils.getNodeIndex(n,e));var l=0;if(e)if(3==i.nodeType){for(var d=i.previousSibling;d&&3==d.nodeType;)l+=d.nodeValue.replace(fillCharReg,"").length,d=d.previousSibling;l+=t?o.startOffset:o.endOffset}else if(i=i.childNodes[t?o.startOffset:o.endOffset])l=domUtils.getNodeIndex(i,e);else{i=t?o.startContainer:o.endContainer;for(var c=i.firstChild;c;)if(domUtils.isFillChar(c))c=c.nextSibling;else if(l++,3==c.nodeType)for(;c&&3==c.nodeType;)c=c.nextSibling;else c=c.nextSibling}else l=t?domUtils.isFillChar(i)?0:o.startOffset:o.endOffset;return l<0&&(l=0),r.push(l),r}var i={},o=this;return i.startAddress=n(!0),t||(i.endAddress=o.collapsed?[].concat(i.startAddress):n()),i},moveToAddress:function(t,e){function n(t,e){for(var n,o,a,r=i.body,s=0,l=t.length;s<l;s++)if(a=t[s],n=r,r=r.childNodes[a],!r){o=a;break}e?r?i.setStartBefore(r):i.setStart(n,o):r?i.setEndBefore(r):i.setEnd(n,o)}var i=this;return n(t.startAddress,!0),!e&&t.endAddress&&n(t.endAddress),i},equals:function(t){for(var e in this)if(this.hasOwnProperty(e)&&this[e]!==t[e])return!1;return!0},scrollIntoView:function(){var t=$('<span style="padding:0;margin:0;display:block;border:0">&nbsp;</span>');this.cloneRange().insertNode(t.get(0));var e=$(window).scrollTop(),n=$(window).height(),i=t.offset().top;(i<e-n||i>e+n)&&(i>e+n?window.scrollTo(0,i-n+t.height()):window.scrollTo(0,e-i)),t.remove()},getOffset:function(){var t=this.createBookmark(),e=$(t.start).css("display","inline-block").offset();return this.moveToBookmark(t),e}}}(),function(){function t(t,e){var n=domUtils.getNodeIndex;t=t.duplicate(),t.collapse(e);var i=t.parentElement();if(!i.hasChildNodes())return{container:i,offset:0};for(var o,a,r=i.children,s=t.duplicate(),l=0,d=r.length-1,c=-1;l<=d;){c=Math.floor((l+d)/2),o=r[c],s.moveToElementText(o);var u=s.compareEndPoints("StartToStart",t);if(u>0)d=c-1;else{if(!(u<0))return{container:i,offset:n(o)};l=c+1}}if(c==-1){if(s.moveToElementText(i),s.setEndPoint("StartToStart",t),a=s.text.replace(/(\r\n|\r)/g,"\n").length,r=i.childNodes,!a)return o=r[r.length-1],{container:o,offset:o.nodeValue.length};for(var h=r.length;a>0;)a-=r[--h].nodeValue.length;return{container:r[h],offset:-a}}if(s.collapse(u>0),s.setEndPoint(u>0?"StartToStart":"EndToStart",t),a=s.text.replace(/(\r\n|\r)/g,"\n").length,!a)return dtd.$empty[o.tagName]||dtd.$nonChild[o.tagName]?{container:i,offset:n(o)+(u>0?0:1)}:{container:o,offset:u>0?0:o.childNodes.length};for(;a>0;)try{var p=o;o=o[u>0?"previousSibling":"nextSibling"],a-=o.nodeValue.length}catch(f){return{container:i,offset:n(p)}}return{container:o,offset:u>0?-a:o.nodeValue.length+a}}function e(e,n){if(e.item)n.selectNode(e.item(0));else{var i=t(e,!0);n.setStart(i.container,i.offset),0!=e.compareEndPoints("StartToEnd",e)&&(i=t(e,!1),n.setEnd(i.container,i.offset))}return n}function n(t,e){var n;try{n=t.getNative(e).createRange()}catch(i){return null}var o=n.item?n.item(0):n.parentElement();return(o.ownerDocument||o)===t.document?n:null}var i=dom.Selection=function(t,e){var i=this;i.document=t,i.body=e,browser.ie9below&&$(e).on("beforedeactivate",function(){i._bakIERange=i.getIERange()}).on("activate",function(){try{var t=n(i);t&&i.rangeInBody(t)||!i._bakIERange||i._bakIERange.select()}catch(e){}i._bakIERange=null})};i.prototype={hasNativeRange:function(){var t;if(!browser.ie||browser.ie9above){var e=this.getNative();if(!e.rangeCount)return!1;t=e.getRangeAt(0)}else t=n(this);return this.rangeInBody(t)},getNative:function(t){var e=this.document;try{return e?browser.ie9below||t?e.selection:domUtils.getWindow(e).getSelection():null}catch(n){return null}},getIERange:function(t){var e=n(this,t);return e&&this.rangeInBody(e,t)||!this._bakIERange?e:this._bakIERange},rangeInBody:function(t,e){var n=browser.ie9below||e?t.item?t.item():t.parentElement():t.startContainer;return n===this.body||domUtils.inDoc(n,this.body)},cache:function(){this.clear(),this._cachedRange=this.getRange(),this._cachedStartElement=this.getStart(),this._cachedStartElementPath=this.getStartElementPath()},getStartElementPath:function(){if(this._cachedStartElementPath)return this._cachedStartElementPath;var t=this.getStart();return t?domUtils.findParents(t,!0,null,!0):[]},clear:function(){this._cachedStartElementPath=this._cachedRange=this._cachedStartElement=null},isFocus:function(){return this.hasNativeRange()},getRange:function(){function t(t){for(var e=n.body.firstChild,i=t.collapsed;e&&e.firstChild;)t.setStart(e,0),e=e.firstChild;t.startContainer||t.setStart(n.body,0),i&&t.collapse(!0)}var n=this;if(null!=n._cachedRange)return this._cachedRange;var i=new dom.Range(n.document,n.body);if(browser.ie9below){var o=n.getIERange();if(o&&this.rangeInBody(o))try{e(o,i)}catch(a){t(i)}else t(i)}else{var r=n.getNative();if(r&&r.rangeCount&&n.rangeInBody(r.getRangeAt(0))){var s=r.getRangeAt(0),l=r.getRangeAt(r.rangeCount-1);i.setStart(s.startContainer,s.startOffset).setEnd(l.endContainer,l.endOffset),i.collapsed&&domUtils.isBody(i.startContainer)&&!i.startOffset&&t(i)}else{if(this._bakRange&&(this._bakRange.startContainer===this.body||domUtils.inDoc(this._bakRange.startContainer,this.body)))return this._bakRange;t(i)}}return this._bakRange=i},getStart:function(){if(this._cachedStartElement)return this._cachedStartElement;var t,e,n,i,o=browser.ie9below?this.getIERange():this.getRange();if(browser.ie9below){if(!o)return this.document.body.firstChild;if(o.item)return o.item(0);for(t=o.duplicate(),t.text.length>0&&t.moveStart("character",1),t.collapse(1),e=t.parentElement(),i=n=o.parentElement();n=n.parentNode;)if(n==e){e=i;break}}else if(e=o.startContainer,1==e.nodeType&&e.hasChildNodes()&&(e=e.childNodes[Math.min(e.childNodes.length-1,o.startOffset)]),3==e.nodeType)return e.parentNode;return e},getText:function(){var t,e;return this.isFocus()&&(t=this.getNative())?(e=browser.ie9below?t.createRange():t.getRangeAt(0),browser.ie9below?e.text:e.toString()):""}}}(),function(){function t(t,e){var n;if(e.textarea)if(utils.isString(e.textarea)){for(var i,o=0,a=domUtils.getElementsByTagName(t,"textarea");i=a[o++];)if(i.id=="umeditor_textarea_"+e.options.textarea){n=i;break}}else n=e.textarea;n||(t.appendChild(n=domUtils.createElement(document,"textarea",{name:e.options.textarea,id:"umeditor_textarea_"+e.options.textarea,style:"display:none"})),e.textarea=n),n.value=e.hasContents()?e.options.allHtmlEnabled?e.getAllHtml():e.getContent(null,null,!0):""}function e(t){for(var e in UM.plugins)t.options.excludePlugins.indexOf(e)==-1&&(UM.plugins[e].call(t),t.plugins[e]=1);t.langIsReady=!0,t.fireEvent("langReady")}function n(t){for(var e in t)return e}var i,o=0,a=UM.Editor=function(t){var i=this;i.uid=o++,EventBase.call(i),i.commands={},i.options=utils.extend(utils.clone(t||{}),UMEDITOR_CONFIG,!0),i.shortcutkeys={},i.inputRules=[],i.outputRules=[],i.setOpt({isShow:!0,initialContent:"",initialStyle:"",autoClearinitialContent:!1,textarea:"editorValue",focus:!1,focusInEnd:!0,autoClearEmptyNode:!0,fullscreen:!1,readonly:!1,zIndex:999,enterTag:"p",lang:"zh-cn",langPath:i.options.UMEDITOR_HOME_URL+"lang/",theme:"default",themePath:i.options.UMEDITOR_HOME_URL+"themes/",allHtmlEnabled:!1,autoSyncData:!0,autoHeightEnabled:!0,excludePlugins:""}),i.plugins={},utils.isEmptyObject(UM.I18N)?utils.loadFile(document,{src:i.options.langPath+i.options.lang+"/"+i.options.lang+".js",tag:"script",type:"text/javascript",defer:"defer"},function(){e(i)}):(i.options.lang=n(UM.I18N),e(i))};a.prototype={ready:function(t){var e=this;t&&(e.isReady?t.apply(e):e.addListener("ready",t))},setOpt:function(t,e){var n={};utils.isString(t)?n[t]=e:n=t,utils.extend(this.options,n,!0)},getOpt:function(t){return this.options[t]||""},destroy:function(){var t=this;t.fireEvent("destroy");var e=t.container.parentNode;e===document.body&&(e=t.container);var n=t.textarea;n?n.style.display="":(n=document.createElement("textarea"),e.parentNode.insertBefore(n,e)),n.style.width=t.body.offsetWidth+"px",n.style.height=t.body.offsetHeight+"px",n.value=t.getContent(),n.id=t.key,e.contains(n)&&$(n).insertBefore(e),e.innerHTML="",domUtils.remove(e),UM.clearCache(t.id);for(var i in t)t.hasOwnProperty(i)&&delete this[i]},initialCont:function(t){if(t){if(t.getAttribute("name")&&(this.options.textarea=t.getAttribute("name")),t&&/script|textarea/gi.test(t.tagName)){var e=document.createElement("div");t.parentNode.insertBefore(e,t),this.options.initialContent=UM.htmlparser(t.value||t.innerHTML||this.options.initialContent).toHtml(),t.className&&(e.className=t.className),t.style.cssText&&(e.style.cssText=t.style.cssText),/textarea/i.test(t.tagName)?(this.textarea=t,this.textarea.style.display="none"):(t.parentNode.removeChild(t),t.id&&(e.id=t.id)),t=e,t.innerHTML=""}return t}return null},render:function(t){var e=this,n=e.options,i=function(e){return parseInt($(t).css(e))};if(utils.isString(t)&&(t=document.getElementById(t)),t){this.id=t.getAttribute("id"),UM.setEditor(this),utils.cssRule("edui-style-body",e.options.initialStyle,document),t=this.initialCont(t),t.className+=" edui-body-container",n.initialFrameWidth?n.minFrameWidth=n.initialFrameWidth:n.minFrameWidth=n.initialFrameWidth=$(t).width()||UM.defaultWidth,n.initialFrameHeight?n.minFrameHeight=n.initialFrameHeight:n.initialFrameHeight=n.minFrameHeight=$(t).height()||UM.defaultHeight,t.style.width=/%$/.test(n.initialFrameWidth)?"100%":n.initialFrameWidth-i("padding-left")-i("padding-right")+"px";var o=/%$/.test(n.initialFrameHeight)?"100%":n.initialFrameHeight-i("padding-top")-i("padding-bottom");this.options.autoHeightEnabled?(t.style.minHeight=o+"px",t.style.height="",browser.ie&&browser.version<=6&&(t.style.height=o,t.style.setExpression("height","this.scrollHeight <= "+o+' ? "'+o+'px" : "auto"'))):$(t).height(o),t.style.zIndex=n.zIndex,this._setup(t)}},_setup:function(e){var n=this,i=n.options;e.contentEditable=!0,document.body.spellcheck=!1,n.document=document,n.window=document.defaultView||document.parentWindow,n.body=e,n.$body=$(e),n.selection=new dom.Selection(document,n.body),n._isEnabled=!1;var o;browser.gecko&&(o=this.selection.getNative())&&o.removeAllRanges(),this._initEvents();for(var a=e.parentNode;a&&!domUtils.isBody(a);a=a.parentNode)if("FORM"==a.tagName){n.form=a,n.options.autoSyncData?$(e).on("blur",function(){t(a,n)}):$(a).on("submit",function(){t(this,n)});break}if(i.initialContent)if(i.autoClearinitialContent){var r=n.execCommand;n.execCommand=function(){return n.fireEvent("firstBeforeExecCommand"),r.apply(n,arguments)},this._setDefaultContent(i.initialContent)}else this.setContent(i.initialContent,!1,!0);domUtils.isEmptyNode(n.body)&&(n.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>"),i.focus&&setTimeout(function(){n.focus(n.options.focusInEnd),!n.options.autoClearinitialContent&&n._selectionChange()},0),n.container||(n.container=e.parentNode),n._bindshortcutKeys(),n.isReady=1,n.fireEvent("ready"),i.onready&&i.onready.call(n),browser.ie&&!browser.ie9above||$(n.body).on("blur focus",function(t){var e=n.selection.getNative();if("blur"==t.type)e.rangeCount>0&&(n._bakRange=e.getRangeAt(0));else{try{n._bakRange&&e.addRange(n._bakRange)}catch(t){}n._bakRange=null}}),!i.isShow&&n.setHide(),i.readonly&&n.setDisabled()},sync:function(e){var n=this,i=e?document.getElementById(e):domUtils.findParent(n.body.parentNode,function(t){return"FORM"==t.tagName},!0);i&&t(i,n)},setHeight:function(t,e){!e&&(this.options.initialFrameHeight=t),this.options.autoHeightEnabled?($(this.body).css({"min-height":t+"px"}),browser.ie&&browser.version<=6&&this.container&&(this.container.style.height=t,this.container.style.setExpression("height","this.scrollHeight <= "+t+' ? "'+t+'px" : "auto"'))):$(this.body).height(t),this.fireEvent("resize")},setWidth:function(t){this.$container&&this.$container.width(t),$(this.body).width(t-1*$(this.body).css("padding-left").replace("px","")-1*$(this.body).css("padding-right").replace("px","")),this.fireEvent("resize")},addshortcutkey:function(t,e){var n={};e?n[t]=e:n=t,utils.extend(this.shortcutkeys,n)},_bindshortcutKeys:function(){var t=this,e=this.shortcutkeys;t.addListener("keydown",function(n,i){var o=i.keyCode||i.which;for(var a in e)for(var r,s=e[a].split(","),l=0;r=s[l++];){r=r.split(":");var d=r[0],c=r[1];(/^(ctrl)(\+shift)?\+(\d+)$/.test(d.toLowerCase())||/^(\d+)$/.test(d))&&(("ctrl"==RegExp.$1?i.ctrlKey||i.metaKey:0)&&(""!=RegExp.$2?i[RegExp.$2.slice(1)+"Key"]:1)&&o==RegExp.$3||o==RegExp.$1)&&(t.queryCommandState(a,c)!=-1&&t.execCommand(a,c),domUtils.preventDefault(i))}})},getContent:function(t,e,n,i,o){var a=this;if(t&&utils.isFunction(t)&&(e=t,t=""),e?!e():!this.hasContents())return"";a.fireEvent("beforegetcontent");var r=UM.htmlparser(a.body.innerHTML,i);return a.filterOutputRule(r),a.fireEvent("aftergetcontent",r),r.toHtml(o)},getAllHtml:function(){var t=this,e=[];if(t.fireEvent("getAllHtml",e),browser.ie&&browser.version>8){var n="";utils.each(t.document.styleSheets,function(t){n+=t.href?'<link rel="stylesheet" type="text/css" href="'+t.href+'" />':"<style>"+t.cssText+"</style>"}),utils.each(t.document.getElementsByTagName("script"),function(t){n+=t.outerHTML})}return"<html><head>"+(t.options.charset?'<meta http-equiv="Content-Type" content="text/html; charset='+t.options.charset+'"/>':"")+(n||t.document.getElementsByTagName("head")[0].innerHTML)+e.join("\n")+"</head><body "+(ie&&browser.version<9?'class="view"':"")+">"+t.getContent(null,null,!0)+"</body></html>"},getPlainTxt:function(){var t=new RegExp(domUtils.fillChar,"g"),e=this.body.innerHTML.replace(/[\n\r]/g,"");return e=e.replace(/<(p|div)[^>]*>(<br\/?>|&nbsp;)<\/\1>/gi,"\n").replace(/<br\/?>/gi,"\n").replace(/<[^>\/]+>/g,"").replace(/(\n)?<\/([^>]+)>/g,function(t,e,n){return dtd.$block[n]?"\n":e?e:""}),e.replace(t,"").replace(/\u00a0/g," ").replace(/&nbsp;/g," ")},getContentTxt:function(){var t=new RegExp(domUtils.fillChar,"g");return this.body[browser.ie?"innerText":"textContent"].replace(t,"").replace(/\u00a0/g," ")},setContent:function(e,n,i){function o(t){return"DIV"==t.tagName&&t.getAttribute("cdata_tag")}var a=this;a.fireEvent("beforesetcontent",e);var r=UM.htmlparser(e);if(a.filterInputRule(r),e=r.toHtml(),a.body.innerHTML=(n?a.body.innerHTML:"")+e,"p"==a.options.enterTag){var s,l=this.body.firstChild;if(!l||1==l.nodeType&&(dtd.$cdata[l.tagName]||o(l)||domUtils.isCustomeNode(l))&&l===this.body.lastChild)this.body.innerHTML="<p>"+(browser.ie?"&nbsp;":"<br/>")+"</p>"+this.body.innerHTML;else for(var d=a.document.createElement("p");l;){for(;l&&(3==l.nodeType||1==l.nodeType&&dtd.p[l.tagName]&&!dtd.$cdata[l.tagName]);)s=l.nextSibling,d.appendChild(l),l=s;if(d.firstChild){if(!l){a.body.appendChild(d);break}l.parentNode.insertBefore(d,l),d=a.document.createElement("p")}l=l.nextSibling}}a.fireEvent("aftersetcontent"),a.fireEvent("contentchange"),!i&&a._selectionChange(),a._bakRange=a._bakIERange=a._bakNativeRange=null;var c;browser.gecko&&(c=this.selection.getNative())&&c.removeAllRanges(),a.options.autoSyncData&&a.form&&t(a.form,a)},focus:function(t){try{var e=this,n=e.selection.getRange();t?n.setStartAtLast(e.body.lastChild).setCursor(!1,!0):n.select(!0),this.fireEvent("focus")}catch(i){}},blur:function(){var t=this.selection.getNative();t.empty?t.empty():t.removeAllRanges(),this.fireEvent("blur")},isFocus:function(){return this.fireEvent("isfocus")===!0||this.selection.isFocus()},_initEvents:function(){var t=this,e=t.body,n=function(){t._proxyDomEvent.apply(t,arguments)};$(e).on("click contextmenu mousedown keydown keyup keypress mouseup mouseover mouseout selectstart",n).on("focus blur",n).on("mouseup keydown",function(e){"keydown"==e.type&&(e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)||2!=e.button&&t._selectionChange(250,e)})},_proxyDomEvent:function(t){return this.fireEvent(t.type.replace(/^on/,""),t)},_selectionChange:function(t,e){var n,o,a=this,r=!1;if(browser.ie&&browser.version<9&&e&&"mouseup"==e.type){var s=this.selection.getRange();s.collapsed||(r=!0,n=e.clientX,o=e.clientY)}clearTimeout(i),i=setTimeout(function(){if(a.selection.getNative()){var t;if(r&&"None"==a.selection.getNative().type){t=a.document.body.createTextRange();try{t.moveToPoint(n,o)}catch(i){t=null}}var s;t&&(s=a.selection.getIERange,a.selection.getIERange=function(){return t}),a.selection.cache(),s&&(a.selection.getIERange=s),a.selection._cachedRange&&a.selection._cachedStartElement&&(a.fireEvent("beforeselectionchange"),a.fireEvent("selectionchange",!!e),a.fireEvent("afterselectionchange"),a.selection.clear())}},t||50)},_callCmdFn:function(t,e){e=Array.prototype.slice.call(e,0);var n,i,o=e.shift().toLowerCase();return n=this.commands[o]||UM.commands[o],i=n&&n[t],n&&i||"queryCommandState"!=t?i?i.apply(this,[o].concat(e)):void 0:0},execCommand:function(t){if(!this.isFocus()){var e=this.selection._bakRange;e?e.select():this.focus(!0)}t=t.toLowerCase();var n,i=this,o=i.commands[t]||UM.commands[t];return o&&o.execCommand?(o.notNeedUndo||i.__hasEnterExecCommand?(n=this._callCmdFn("execCommand",arguments),!i.__hasEnterExecCommand&&!o.ignoreContentChange&&!i._ignoreContentChange&&i.fireEvent("contentchange")):(i.__hasEnterExecCommand=!0,i.queryCommandState.apply(i,arguments)!=-1&&(i.fireEvent("saveScene"),i.fireEvent("beforeexeccommand",t),n=this._callCmdFn("execCommand",arguments),!o.ignoreContentChange&&!i._ignoreContentChange&&i.fireEvent("contentchange"),i.fireEvent("afterexeccommand",t),i.fireEvent("saveScene")),i.__hasEnterExecCommand=!1),!i.__hasEnterExecCommand&&!o.ignoreContentChange&&!i._ignoreContentChange&&i._selectionChange(),n):null},queryCommandState:function(t){try{return this._callCmdFn("queryCommandState",arguments)}catch(e){return 0}},queryCommandValue:function(t){try{return this._callCmdFn("queryCommandValue",arguments)}catch(e){return null}},hasContents:function(t){if(t)for(var e,n=0;e=t[n++];)if(this.body.getElementsByTagName(e).length>0)return!0;if(!domUtils.isEmptyBlock(this.body))return!0;for(t=["div"],n=0;e=t[n++];)for(var i,o=domUtils.getElementsByTagName(this.body,e),a=0;i=o[a++];)if(domUtils.isCustomeNode(i))return!0;return!1},reset:function(){this.fireEvent("reset")},isEnabled:function(){return 1!=this._isEnabled},setEnabled:function(){var t,e=this;if(e.body.contentEditable=!0,e.lastBk){t=e.selection.getRange();try{t.moveToBookmark(e.lastBk),delete e.lastBk}catch(n){t.setStartAtFirst(e.body).collapse(!0)}t.select(!0)}e.bkqueryCommandState&&(e.queryCommandState=e.bkqueryCommandState,delete e.bkqueryCommandState),e._bkproxyDomEvent&&(e._proxyDomEvent=e._bkproxyDomEvent,delete e._bkproxyDomEvent),e.fireEvent("setEnabled")},enable:function(){return this.setEnabled()},setDisabled:function(t,e){var n=this;n.body.contentEditable=!1,n._except=t?utils.isArray(t)?t:[t]:[],n.lastBk||(n.lastBk=n.selection.getRange().createBookmark(!0)),n.bkqueryCommandState||(n.bkqueryCommandState=n.queryCommandState,n.queryCommandState=function(t){return utils.indexOf(n._except,t)!=-1?n.bkqueryCommandState.apply(n,arguments):-1}),e||n._bkproxyDomEvent||(n._bkproxyDomEvent=n._proxyDomEvent,n._proxyDomEvent=function(){return!1}),n.fireEvent("selectionchange"),n.fireEvent("setDisabled",n._except)},disable:function(t){return this.setDisabled(t)},_setDefaultContent:function(){function t(){var e=this;e.document.getElementById("initContent")&&(e.body.innerHTML="<p>"+(ie?"":"<br/>")+"</p>",e.removeListener("firstBeforeExecCommand focus",t),setTimeout(function(){e.focus(),e._selectionChange()},0))}return function(e){var n=this;n.body.innerHTML='<p id="initContent">'+e+"</p>",n.addListener("firstBeforeExecCommand focus",t)}}(),setShow:function(){var t=this,e=t.selection.getRange();if("none"==t.container.style.display){try{e.moveToBookmark(t.lastBk),delete t.lastBk}catch(n){e.setStartAtFirst(t.body).collapse(!0)}setTimeout(function(){e.select(!0)},100),t.container.style.display=""}},show:function(){return this.setShow()},setHide:function(){var t=this;t.lastBk||(t.lastBk=t.selection.getRange().createBookmark(!0)),t.container.style.display="none"},hide:function(){return this.setHide()},getLang:function(t){var e=UM.I18N[this.options.lang];if(!e)throw Error("not import language file");t=(t||"").split(".");for(var n,i=0;(n=t[i++])&&(e=e[n],e););return e},getContentLength:function(t,e){var n=this.getContent(!1,!1,!0).length;if(t){e=(e||[]).concat(["hr","img","iframe"]),n=this.getContentTxt().replace(/[\t\r\n]+/g,"").length;for(var i,o=0;i=e[o++];)n+=this.body.getElementsByTagName(i).length}return n},addInputRule:function(t,e){t.ignoreUndo=e,this.inputRules.push(t)},filterInputRule:function(t,e){for(var n,i=0;n=this.inputRules[i++];)e&&n.ignoreUndo||n.call(this,t)},addOutputRule:function(t,e){t.ignoreUndo=e,this.outputRules.push(t)},filterOutputRule:function(t,e){for(var n,i=0;n=this.outputRules[i++];)e&&n.ignoreUndo||n.call(this,t)}},utils.inherits(a,EventBase)}();var filterWord=UM.filterWord=function(){function t(t){return/(class="?Mso|style="[^"]*\bmso\-|w:WordDocument|<(v|o):|lang=)/gi.test(t)}function e(t){return t=t.replace(/[\d.]+\w+/g,function(t){return utils.transUnitToPx(t)})}function n(t){return t.replace(/[\t\r\n]+/g," ").replace(/<!--[\s\S]*?-->/gi,"").replace(/<v:shape [^>]*>[\s\S]*?.<\/v:shape>/gi,function(t){if(browser.opera)return"";try{if(/Bitmap/i.test(t))return"";var n=t.match(/width:([ \d.]*p[tx])/i)[1],i=t.match(/height:([ \d.]*p[tx])/i)[1],o=t.match(/src=\s*"([^"]*)"/i)[1];
return'<img width="'+e(n)+'" height="'+e(i)+'" src="'+o+'" />'}catch(a){return""}}).replace(/<\/?div[^>]*>/g,"").replace(/v:\w+=(["']?)[^'"]+\1/g,"").replace(/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|xml|meta|link|style|\w+:\w+)(?=[\s\/>]))[^>]*>/gi,"").replace(/<p [^>]*class="?MsoHeading"?[^>]*>(.*?)<\/p>/gi,"<p><strong>$1</strong></p>").replace(/\s+(class|lang|align)\s*=\s*(['"]?)([\w-]+)\2/gi,function(t,e,n,i){return"class"==e&&"MsoListParagraph"==i?t:""}).replace(/<(font|span)[^>]*>(\s*)<\/\1>/gi,function(t,e,n){return n.replace(/[\t\r\n ]+/g," ")}).replace(/(<[a-z][^>]*)\sstyle=(["'])([^\2]*?)\2/gi,function(t,n,i,o){for(var a,r=[],s=o.replace(/^\s+|\s+$/,"").replace(/&#39;/g,"'").replace(/&quot;/gi,"'").split(/;\s*/g),l=0;a=s[l];l++){var d,c,u=a.split(":");if(2==u.length){if(d=u[0].toLowerCase(),c=u[1].toLowerCase(),/^(background)\w*/.test(d)&&0==c.replace(/(initial|\s)/g,"").length||/^(margin)\w*/.test(d)&&/^0\w+$/.test(c))continue;switch(d){case"mso-padding-alt":case"mso-padding-top-alt":case"mso-padding-right-alt":case"mso-padding-bottom-alt":case"mso-padding-left-alt":case"mso-margin-alt":case"mso-margin-top-alt":case"mso-margin-right-alt":case"mso-margin-bottom-alt":case"mso-margin-left-alt":case"mso-height":case"mso-width":case"mso-vertical-align-alt":/<table/.test(n)||(r[l]=d.replace(/^mso-|-alt$/g,"")+":"+e(c));continue;case"horiz-align":r[l]="text-align:"+c;continue;case"vert-align":r[l]="vertical-align:"+c;continue;case"font-color":case"mso-foreground":r[l]="color:"+c;continue;case"mso-background":case"mso-highlight":r[l]="background:"+c;continue;case"mso-default-height":r[l]="min-height:"+e(c);continue;case"mso-default-width":r[l]="min-width:"+e(c);continue;case"mso-padding-between-alt":r[l]="border-collapse:separate;border-spacing:"+e(c);continue;case"text-line-through":"single"!=c&&"double"!=c||(r[l]="text-decoration:line-through");continue;case"mso-zero-height":"yes"==c&&(r[l]="display:none");continue;case"margin":if(!/[1-9]/.test(c))continue}if(/^(mso|column|font-emph|lang|layout|line-break|list-image|nav|panose|punct|row|ruby|sep|size|src|tab-|table-border|text-(?:decor|trans)|top-bar|version|vnd|word-break)/.test(d)||/text\-indent|padding|margin/.test(d)&&/\-[\d.]+/.test(c))continue;r[l]=d+":"+u[1]}}return n+(r.length?' style="'+r.join(";").replace(/;{2,}/g,";")+'"':"")}).replace(/[\d.]+(cm|pt)/g,function(t){return utils.transUnitToPx(t)})}return function(e){return t(e)?n(e):e}}();!function(){function t(t,e,n){return t.push(p),e+(n?1:-1)}function e(t,e){for(var n=0;n<e;n++)t.push(h)}function n(r,s,l,d){switch(r.type){case"root":for(var c,u=0;c=r.children[u++];)l&&"element"==c.type&&!dtd.$inlineWithA[c.tagName]&&u>1&&(t(s,d,!0),e(s,d)),n(c,s,l,d);break;case"text":i(r,s);break;case"element":o(r,s,l,d);break;case"comment":a(r,s,l)}return s}function i(t,e){"pre"==t.parentNode.tagName?e.push(t.data):e.push(u[t.parentNode.tagName]?utils.html(t.data):t.data.replace(/[ ]{2}/g," &nbsp;"))}function o(i,o,a,r){var s="";if(i.attrs){s=[];var l=i.attrs;for(var d in l)s.push(d+(void 0!==l[d]?'="'+(c[d]?utils.html(l[d]).replace(/["]/g,function(t){return"&quot;"}):utils.unhtml(l[d]))+'"':""));s=s.join(" ")}if(o.push("<"+i.tagName+(s?" "+s:"")+(dtd.$empty[i.tagName]?"/":"")+">"),a&&!dtd.$inlineWithA[i.tagName]&&"pre"!=i.tagName&&i.children&&i.children.length&&(r=t(o,r,!0),e(o,r)),i.children&&i.children.length)for(var u,h=0;u=i.children[h++];)a&&"element"==u.type&&!dtd.$inlineWithA[u.tagName]&&h>1&&(t(o,r),e(o,r)),n(u,o,a,r);dtd.$empty[i.tagName]||(a&&!dtd.$inlineWithA[i.tagName]&&"pre"!=i.tagName&&i.children&&i.children.length&&(r=t(o,r),e(o,r)),o.push("</"+i.tagName+">"))}function a(t,e){e.push("<!--"+t.data+"-->")}function r(t,e){var n;if("element"==t.type&&t.getAttr("id")==e)return t;if(t.children&&t.children.length)for(var i,o=0;i=t.children[o++];)if(n=r(i,e))return n}function s(t,e,n){if("element"==t.type&&t.tagName==e&&n.push(t),t.children&&t.children.length)for(var i,o=0;i=t.children[o++];)s(i,e,n)}function l(t,e){if(t.children&&t.children.length)for(var n,i=0;n=t.children[i];)l(n,e),n.parentNode&&(n.children&&n.children.length&&e(n),n.parentNode&&i++);else e(t)}var d=UM.uNode=function(t){this.type=t.type,this.data=t.data,this.tagName=t.tagName,this.parentNode=t.parentNode,this.attrs=t.attrs||{},this.children=t.children},c={href:1,src:1,_src:1,_href:1,cdata_data:1},u={style:1,script:1},h="    ",p="\n";d.createElement=function(t){return/[<>]/.test(t)?UM.htmlparser(t).children[0]:new d({type:"element",children:[],tagName:t})},d.createText=function(t,e){return new UM.uNode({type:"text",data:e?t:utils.unhtml(t||"")})},d.prototype={toHtml:function(t){var e=[];return n(this,e,t,0),e.join("")},innerHTML:function(t){if("element"!=this.type||dtd.$empty[this.tagName])return this;if(utils.isString(t)){if(this.children)for(var e,n=0;e=this.children[n++];)e.parentNode=null;this.children=[];for(var e,i=UM.htmlparser(t),n=0;e=i.children[n++];)this.children.push(e),e.parentNode=this;return this}var i=new UM.uNode({type:"root",children:this.children});return i.toHtml()},innerText:function(t,e){if("element"!=this.type||dtd.$empty[this.tagName])return this;if(t){if(this.children)for(var n,i=0;n=this.children[i++];)n.parentNode=null;return this.children=[],this.appendChild(d.createText(t,e)),this}return this.toHtml().replace(/<[^>]+>/g,"")},getData:function(){return"element"==this.type?"":this.data},firstChild:function(){return this.children?this.children[0]:null},lastChild:function(){return this.children?this.children[this.children.length-1]:null},previousSibling:function(){for(var t,e=this.parentNode,n=0;t=e.children[n];n++)if(t===this)return 0==n?null:e.children[n-1]},nextSibling:function(){for(var t,e=this.parentNode,n=0;t=e.children[n++];)if(t===this)return e.children[n]},replaceChild:function(t,e){if(this.children){t.parentNode&&t.parentNode.removeChild(t);for(var n,i=0;n=this.children[i];i++)if(n===e)return this.children.splice(i,1,t),e.parentNode=null,t.parentNode=this,t}},appendChild:function(t){if("root"==this.type||"element"==this.type&&!dtd.$empty[this.tagName]){this.children||(this.children=[]),t.parentNode&&t.parentNode.removeChild(t);for(var e,n=0;e=this.children[n];n++)if(e===t){this.children.splice(n,1);break}return this.children.push(t),t.parentNode=this,t}},insertBefore:function(t,e){if(this.children){t.parentNode&&t.parentNode.removeChild(t);for(var n,i=0;n=this.children[i];i++)if(n===e)return this.children.splice(i,0,t),t.parentNode=this,t}},insertAfter:function(t,e){if(this.children){t.parentNode&&t.parentNode.removeChild(t);for(var n,i=0;n=this.children[i];i++)if(n===e)return this.children.splice(i+1,0,t),t.parentNode=this,t}},removeChild:function(t,e){if(this.children)for(var n,i=0;n=this.children[i];i++)if(n===t){if(this.children.splice(i,1),n.parentNode=null,e&&n.children&&n.children.length)for(var o,a=0;o=n.children[a];a++)this.children.splice(i+a,0,o),o.parentNode=this;return n}},getAttr:function(t){return this.attrs&&this.attrs[t.toLowerCase()]},setAttr:function(t,e){if(!t)return void delete this.attrs;if(this.attrs||(this.attrs={}),utils.isObject(t))for(var n in t)t[n]?this.attrs[n.toLowerCase()]=t[n]:delete this.attrs[n];else e?this.attrs[t.toLowerCase()]=e:delete this.attrs[t]},hasAttr:function(t){var e=this.getAttr(t);return null!==e&&void 0!==e},getIndex:function(){for(var t,e=this.parentNode,n=0;t=e.children[n];n++)if(t===this)return n;return-1},getNodeById:function(t){var e;if(this.children&&this.children.length)for(var n,i=0;n=this.children[i++];)if(e=r(n,t))return e},getNodesByTagName:function(t){t=utils.trim(t).replace(/[ ]{2,}/g," ").split(" ");var e=[],n=this;return utils.each(t,function(t){if(n.children&&n.children.length)for(var i,o=0;i=n.children[o++];)s(i,t,e)}),e},getStyle:function(t){var e=this.getAttr("style");if(!e)return"";var n=new RegExp("(^|;)\\s*"+t+":([^;]+)","i"),i=e.match(n);return i&&i[0]?i[2]:""},setStyle:function(t,e){function n(t,e){var n=new RegExp("(^|;)\\s*"+t+":([^;]+;?)","gi");i=i.replace(n,"$1"),e&&(i=t+":"+utils.unhtml(e)+";"+i)}var i=this.getAttr("style");if(i||(i=""),utils.isObject(t))for(var o in t)n(o,t[o]);else n(t,e);this.setAttr("style",utils.trim(i))},hasClass:function(t){if(this.hasAttr("class")){var e=this.getAttr("class").split(/\s+/),n=!1;return $.each(e,function(e,i){i===t&&(n=!0)}),n}return!1},addClass:function(t){var e=null,n=!1;this.hasAttr("class")?(e=this.getAttr("class"),e=e.split(/\s+/),e.forEach(function(e){if(e===t)return void(n=!0)}),!n&&e.push(t),this.setAttr("class",e.join(" "))):this.setAttr("class",t)},removeClass:function(t){if(this.hasAttr("class")){var e=this.getAttr("class");e=e.replace(new RegExp("\\b"+t+"\\b","g"),""),this.setAttr("class",utils.trim(e).replace(/[ ]{2,}/g," "))}},traversal:function(t){return this.children&&this.children.length&&l(this,t),this}}}();var htmlparser=UM.htmlparser=function(t,e){function n(t,e){if(h[t.tagName]){var n=c.createElement(h[t.tagName]);t.appendChild(n),n.appendChild(c.createText(e)),t=n}else t.appendChild(c.createText(e))}function i(t,e,n){var o;if(o=u[e]){for(var a,s=t;"root"!=s.type;){if(utils.isArray(o)?utils.indexOf(o,s.tagName)!=-1:o==s.tagName){t=s,a=!0;break}s=s.parentNode}a||(t=i(t,utils.isArray(o)?o[0]:o))}var l=new c({parentNode:t,type:"element",tagName:e.toLowerCase(),children:dtd.$empty[e]?null:[]});if(n){for(var h,p={};h=r.exec(n);)p[h[1].toLowerCase()]=d[h[1].toLowerCase()]?h[2]||h[3]||h[4]:utils.unhtml(h[2]||h[3]||h[4]);l.attrs=p}return t.children.push(l),dtd.$empty[e]?t:l}function o(t,e){t.children.push(new c({type:"comment",data:e,parentNode:t}))}var a=/<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)-->)|(?:([^\s\/>]+)\s*((?:(?:"[^"]*")|(?:'[^']*')|[^"'<>])*)\/?>))/g,r=/([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,s={b:1,code:1,i:1,u:1,strike:1,s:1,tt:1,strong:1,q:1,samp:1,em:1,span:1,sub:1,img:1,sup:1,font:1,big:1,small:1,iframe:1,a:1,br:1,pre:1};t=t.replace(new RegExp(domUtils.fillChar,"g"),""),e||(t=t.replace(new RegExp("[\\r\\t\\n"+(e?"":" ")+"]*</?(\\w+)\\s*(?:[^>]*)>[\\r\\t\\n"+(e?"":" ")+"]*","g"),function(t,n){return n&&s[n.toLowerCase()]?t.replace(/(^[\n\r]+)|([\n\r]+$)/g,""):t.replace(new RegExp("^[\\r\\n"+(e?"":" ")+"]+"),"").replace(new RegExp("[\\r\\n"+(e?"":" ")+"]+$"),"")}));for(var l,d={href:1,src:1},c=UM.uNode,u={td:"tr",tr:["tbody","thead","tfoot"],tbody:"table",th:"tr",thead:"table",tfoot:"table",caption:"table",li:["ul","ol"],dt:"dl",dd:"dl",option:"select"},h={ol:"li",ul:"li"},p=0,f=0,m=new c({type:"root",children:[]}),g=m;l=a.exec(t);){p=l.index;try{if(p>f&&n(g,t.slice(f,p)),l[3])dtd.$cdata[g.tagName]?n(g,l[0]):g=i(g,l[3].toLowerCase(),l[4]);else if(l[1]){if("root"!=g.type)if(dtd.$cdata[g.tagName]&&!dtd.$cdata[l[1]])n(g,l[0]);else{for(var v=g;"element"==g.type&&g.tagName!=l[1].toLowerCase();)if(g=g.parentNode,"root"==g.type)throw g=v,"break";g=g.parentNode}}else l[2]&&o(g,l[2])}catch(b){}f=a.lastIndex}return f<t.length&&n(g,t.slice(f)),m},filterNode=UM.filterNode=function(){function t(e,n){switch(e.type){case"text":break;case"element":var i;if(i=n[e.tagName])if("-"===i)e.parentNode.removeChild(e);else if(utils.isFunction(i)){var o=e.parentNode,a=e.getIndex();if(i(e),e.parentNode){if(e.children)for(var r,s=0;r=e.children[s];)t(r,n),r.parentNode&&s++}else for(var r,s=a;r=o.children[s];)t(r,n),r.parentNode&&s++}else{var l=i.$;if(l&&e.attrs){var d,c={};for(var u in l){if(d=e.getAttr(u),"style"==u&&utils.isArray(l[u])){var h=[];utils.each(l[u],function(t){var n;(n=e.getStyle(t))&&h.push(t+":"+n)}),d=h.join(";")}d&&(c[u]=d)}e.attrs=c}if(e.children)for(var r,s=0;r=e.children[s];)t(r,n),r.parentNode&&s++}else if(dtd.$cdata[e.tagName])e.parentNode.removeChild(e);else{var o=e.parentNode,a=e.getIndex();e.parentNode.removeChild(e,!0);for(var r,s=a;r=o.children[s];)t(r,n),r.parentNode&&s++}break;case"comment":e.parentNode.removeChild(e)}}return function(e,n){if(utils.isEmptyObject(n))return e;var i;(i=n["-"])&&utils.each(i.split(" "),function(t){n[t]="-"});for(var o,a=0;o=e.children[a];)t(o,n),o.parentNode&&a++;return e}}();UM.commands.inserthtml={execCommand:function(t,e,n){var i,o,a=this;if(e&&a.fireEvent("beforeinserthtml",e)!==!0){if(i=a.selection.getRange(),o=i.document.createElement("div"),o.style.display="inline",!n){var r=UM.htmlparser(e);a.options.filterRules&&UM.filterNode(r,a.options.filterRules),a.filterInputRule(r),e=r.toHtml()}if(o.innerHTML=utils.trim(e),!i.collapsed){var s=i.startContainer;if(domUtils.isFillChar(s)&&i.setStartBefore(s),s=i.endContainer,domUtils.isFillChar(s)&&i.setEndAfter(s),i.txtToElmBoundary(),i.endContainer&&1==i.endContainer.nodeType&&(s=i.endContainer.childNodes[i.endOffset],s&&domUtils.isBr(s)&&i.setEndAfter(s)),0==i.startOffset&&(s=i.startContainer,domUtils.isBoundaryNode(s,"firstChild")&&(s=i.endContainer,i.endOffset==(3==s.nodeType?s.nodeValue.length:s.childNodes.length)&&domUtils.isBoundaryNode(s,"lastChild")&&(a.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>",i.setStart(a.body.firstChild,0).collapse(!0)))),!i.collapsed&&i.deleteContents(),1==i.startContainer.nodeType){var l,d=i.startContainer.childNodes[i.startOffset];if(d&&domUtils.isBlockElm(d)&&(l=d.previousSibling)&&domUtils.isBlockElm(l)){for(i.setEnd(l,l.childNodes.length).collapse();d.firstChild;)l.appendChild(d.firstChild);domUtils.remove(d)}}}var d,c,l,u,h,p=0;for(i.inFillChar()&&(d=i.startContainer,domUtils.isFillChar(d)?(i.setStartBefore(d).collapse(!0),domUtils.remove(d)):domUtils.isFillChar(d,!0)&&(d.nodeValue=d.nodeValue.replace(fillCharReg,""),i.startOffset--,i.collapsed&&i.collapse(!0)));d=o.firstChild;){if(p){for(var f=a.document.createElement("p");d&&(3==d.nodeType||!dtd.$block[d.tagName]);)h=d.nextSibling,f.appendChild(d),d=h;f.firstChild&&(d=f)}if(i.insertNode(d),h=d.nextSibling,!p&&d.nodeType==domUtils.NODE_ELEMENT&&domUtils.isBlockElm(d)&&(c=domUtils.findParent(d,function(t){return domUtils.isBlockElm(t)}),c&&"body"!=c.tagName.toLowerCase()&&(!dtd[c.tagName][d.nodeName]||d.parentNode!==c))){if(dtd[c.tagName][d.nodeName])for(u=d.parentNode;u!==c;)l=u,u=u.parentNode;else l=c;domUtils.breakParent(d,l||u);var l=d.previousSibling;domUtils.trimWhiteTextNode(l),l.childNodes.length||domUtils.remove(l),!browser.ie&&(m=d.nextSibling)&&domUtils.isBlockElm(m)&&m.lastChild&&!domUtils.isBr(m.lastChild)&&m.appendChild(a.document.createElement("br")),p=1}var m=d.nextSibling;if(!o.firstChild&&m&&domUtils.isBlockElm(m)){i.setStart(m,0).collapse(!0);break}i.setEndAfter(d).collapse()}if(d=i.startContainer,h&&domUtils.isBr(h)&&domUtils.remove(h),domUtils.isBlockElm(d)&&domUtils.isEmptyNode(d))if(h=d.nextSibling)domUtils.remove(d),1==h.nodeType&&dtd.$block[h.tagName]&&i.setStart(h,0).collapse(!0).shrinkBoundary();else try{d.innerHTML=browser.ie?domUtils.fillChar:"<br/>"}catch(g){i.setStartBefore(d),domUtils.remove(d)}try{if(browser.ie9below&&1==i.startContainer.nodeType&&!i.startContainer.childNodes[i.startOffset]){var v=i.startContainer,l=v.childNodes[i.startOffset-1];if(l&&1==l.nodeType&&dtd.$empty[l.tagName]){var b=this.document.createTextNode(domUtils.fillChar);i.insertNode(b).setStart(b,0).collapse(!0)}}setTimeout(function(){i.select(!0)})}catch(g){}setTimeout(function(){i=a.selection.getRange(),i.scrollIntoView(),a.fireEvent("afterinserthtml")},200)}}},UM.commands.insertimage={execCommand:function(t,e){if(e=utils.isArray(e)?e:[e],e.length){var n,i=this,o=[],a="";if(n=e[0],1==e.length)a='<img src="'+n.src+'" '+(n._src?' _src="'+n._src+'" ':"")+(n.width?'width="'+n.width+'" ':"")+(n.height?' height="'+n.height+'" ':"")+("left"==n.floatStyle||"right"==n.floatStyle?' style="float:'+n.floatStyle+';"':"")+(n.title&&""!=n.title?' title="'+n.title+'"':"")+(n.border&&"0"!=n.border?' border="'+n.border+'"':"")+(n.alt&&""!=n.alt?' alt="'+n.alt+'"':"")+(n.hspace&&"0"!=n.hspace?' hspace = "'+n.hspace+'"':"")+(n.vspace&&"0"!=n.vspace?' vspace = "'+n.vspace+'"':"")+"/>","center"==n.floatStyle&&(a='<p style="text-align: center">'+a+"</p>"),o.push(a);else for(var r=0;n=e[r++];)a="<p "+("center"==n.floatStyle?'style="text-align: center" ':"")+'><img src="'+n.src+'" '+(n.width?'width="'+n.width+'" ':"")+(n._src?' _src="'+n._src+'" ':"")+(n.height?' height="'+n.height+'" ':"")+' style="'+(n.floatStyle&&"center"!=n.floatStyle?"float:"+n.floatStyle+";":"")+(n.border||"")+'" '+(n.title?' title="'+n.title+'"':"")+" /></p>",o.push(a);i.execCommand("insertHtml",o.join(""),!0)}}},UM.plugins.justify=function(){var t=this;$.each("justifyleft justifyright justifycenter justifyfull".split(" "),function(e,n){t.commands[n]={execCommand:function(t){return this.document.execCommand(t)},queryCommandValue:function(t){var e=this.document.queryCommandValue(t);return e===!0||"true"===e?t.replace(/justify/,""):""},queryCommandState:function(t){return this.document.queryCommandState(t)?1:0}}})},UM.plugins.font=function(){var t=this,e={forecolor:"forecolor",backcolor:"backcolor",fontsize:"fontsize",fontfamily:"fontname"},n={forecolor:"color",backcolor:"background-color",fontsize:"font-size",fontfamily:"font-family"},i={forecolor:"color",fontsize:"size",fontfamily:"face"};t.setOpt({fontfamily:[{name:"songti",val:"宋体,SimSun"},{name:"yahei",val:"微软雅黑,Microsoft YaHei"},{name:"kaiti",val:"楷体,楷体_GB2312, SimKai"},{name:"heiti",val:"黑体, SimHei"},{name:"lishu",val:"隶书, SimLi"},{name:"andaleMono",val:"andale mono"},{name:"arial",val:"arial, helvetica,sans-serif"},{name:"arialBlack",val:"arial black,avant garde"},{name:"comicSansMs",val:"comic sans ms"},{name:"impact",val:"impact,chicago"},{name:"timesNewRoman",val:"times new roman"},{name:"sans-serif",val:"sans-serif"}],fontsize:[10,12,16,18,24,32,48]}),t.addOutputRule(function(t){utils.each(t.getNodesByTagName("font"),function(t){if("font"==t.tagName){var e=[];for(var n in t.attrs)switch(n){case"size":var i=t.attrs[n];$.each({10:"1",12:"2",16:"3",18:"4",24:"5",32:"6",48:"7"},function(t,e){if(e==i)return i=t,!1}),e.push("font-size:"+i+"px");break;case"color":e.push("color:"+t.attrs[n]);break;case"face":e.push("font-family:"+t.attrs[n]);break;case"style":e.push(t.attrs[n])}t.attrs={style:e.join(";")}}t.tagName="span","span"==t.parentNode.tagName&&1==t.parentNode.children.length&&($.each(t.attrs,function(e,n){t.parentNode.attrs[e]="style"==e?t.parentNode.attrs[e]+n:n}),t.parentNode.removeChild(t,!0))})});for(var o in e)!function(o){t.commands[o]={execCommand:function(t,i){if("transparent"!=i){var o=this.selection.getRange();if(!o.collapsed){if("fontsize"==t&&(i={10:"1",12:"2",16:"3",18:"4",24:"5",32:"6",48:"7"}[(i+"").replace(/px/,"")]),this.document.execCommand(e[t],!1,i),browser.gecko&&$.each(this.$body.find("a"),function(t,e){var n=e.parentNode;if(n.lastChild===n.firstChild&&/FONT|SPAN/.test(n.tagName)){var i=n.cloneNode(!1);i.innerHTML=e.innerHTML,$(e).html("").append(i).insertBefore(n),$(n).remove()}}),!browser.ie){var a=this.selection.getNative().getRangeAt(0),r=a.commonAncestorContainer,o=this.selection.getRange(),s=o.createBookmark(!0);$(r).find("a").each(function(t,e){var n=e.parentNode;if("FONT"==n.nodeName){var i=n.cloneNode(!1);i.innerHTML=e.innerHTML,$(e).html("").append(i)}}),o.moveToBookmark(s).select()}return!0}var l=$("<span></span>").css(n[t],i)[0];o.insertNode(l).setStart(l,0).setCursor()}},queryCommandValue:function(e){var o=t.selection.getStart(),a=$(o).css(n[e]);return void 0===a&&(a=$(o).attr(i[e])),a?utils.fixColor(e,a).replace(/px/,""):""},queryCommandState:function(t){return this.queryCommandValue(t)}}}(o)},UM.plugins.link=function(){var t=this;t.setOpt("autourldetectinie",!1),browser.ie&&this.options.autourldetectinie===!1&&this.addListener("keyup",function(t,e){var n=this,i=e.keyCode;if(13==i||32==i){var o=n.selection.getRange(),a=o.startContainer;if(13==i){if("P"==a.nodeName){var r=a.previousSibling;if(r&&1==r.nodeType){var r=r.lastChild;r&&"A"==r.nodeName&&!r.getAttribute("_href")&&domUtils.remove(r,!0)}}}else 32==i&&3==a.nodeType&&/^\s$/.test(a.nodeValue)&&(a=a.previousSibling,a&&"A"==a.nodeName&&!a.getAttribute("_href")&&domUtils.remove(a,!0))}}),this.addOutputRule(function(t){$.each(t.getNodesByTagName("a"),function(t,e){var n=utils.html(e.getAttr("_href"));/^(ftp|https?|\/|file)/.test(n)||(n="http://"+n),e.setAttr("href",n),e.setAttr("_href"),""==e.getAttr("title")&&e.setAttr("title")})}),this.addInputRule(function(t){$.each(t.getNodesByTagName("a"),function(t,e){e.setAttr("_href",utils.html(e.getAttr("href")))})}),t.commands.link={execCommand:function(t,e){var n=this,i=n.selection.getRange();if(i.collapsed){var o=i.startContainer;(o=domUtils.findParentByTagName(o,"a",!0))?($(o).attr(e),i.selectNode(o).select()):i.insertNode($("<a>"+e.href+"</a>").attr(e)[0]).select()}else n.document.execCommand("createlink",!1,"_umeditor_link"),utils.each(domUtils.getElementsByTagName(n.body,"a",function(t){return"_umeditor_link"==t.getAttribute("href")}),function(t){"_umeditor_link"==$(t).text()&&$(t).text(e.href),domUtils.setAttributes(t,e),i.selectNode(t).select()})},queryCommandState:function(){return this.queryCommandValue("link")?1:0},queryCommandValue:function(){var t,e=this.selection.getStartElementPath();return $.each(e,function(e,n){if("A"==n.nodeName)return t=n,!1}),t}},t.commands.unlink={execCommand:function(){this.document.execCommand("unlink")}}},UM.commands.print={execCommand:function(){var t=this,e="editor_print_"+ +new Date;$('<iframe src="" id="'+e+'" name="'+e+'" frameborder="0"></iframe>').attr("id",e).css({width:"0px",height:"0px",overflow:"hidden","float":"left",position:"absolute",top:"-10000px",left:"-10000px"}).appendTo(t.$container.find(".edui-dialog-container"));var n=window.open("",e,""),i=n.document;i.open(),i.write("<html><head></head><body><div>"+this.getContent(null,null,!0)+"</div><script>setTimeout(function(){window.print();setTimeout(function(){window.parent.$('#"+e+"').remove();},100);},200);</script></body></html>"),i.close()},notNeedUndo:1},UM.plugins.paragraph=function(){var t=this;t.setOpt("paragraph",{p:"",h1:"",h2:"",h3:"",h4:"",h5:"",h6:""}),t.commands.paragraph={execCommand:function(t,e){return this.document.execCommand("formatBlock",!1,"<"+e+">")},queryCommandValue:function(){try{var t=this.document.queryCommandValue("formatBlock")}catch(e){}return t}}},UM.plugins.horizontal=function(){var t=this;t.commands.horizontal={execCommand:function(){this.document.execCommand("insertHorizontalRule");var e=t.selection.getRange().txtToElmBoundary(!0),n=e.startContainer;if(domUtils.isBody(e.startContainer)){var i=e.startContainer.childNodes[e.startOffset];i||(i=$("<p></p>").appendTo(e.startContainer).html(browser.ie?"&nbsp;":"<br/>")[0]),e.setStart(i,0).setCursor()}else{for(;dtd.$inline[n.tagName]&&n.lastChild===n.firstChild;){var o=n.parentNode;o.appendChild(n.firstChild),o.removeChild(n),n=o}for(;dtd.$inline[n.tagName];)n=n.parentNode;if(1==n.childNodes.length&&"HR"==n.lastChild.nodeName){var a=n.lastChild;$(a).insertBefore(n),e.setStart(n,0).setCursor()}else{a=$("hr",n)[0],domUtils.breakParent(a,n);var r=a.previousSibling;r&&domUtils.isEmptyBlock(r)&&$(r).remove(),e.setStart(a.nextSibling,0).setCursor()}}}}},UM.commands.cleardoc={execCommand:function(){var t=this,e=t.selection.getRange();t.body.innerHTML="<p>"+(ie?"":"<br/>")+"</p>",e.setStart(t.body.firstChild,0).setCursor(!1,!0),setTimeout(function(){t.fireEvent("clearDoc")},0)}},UM.plugins.undo=function(){function t(t,e){if(t.length!=e.length)return 0;for(var n=0,i=t.length;n<i;n++)if(t[n]!=e[n])return 0;return 1}function e(e,n){return e.collapsed!=n.collapsed?0:t(e.startAddress,n.startAddress)&&t(e.endAddress,n.endAddress)?1:0}function n(){this.list=[],this.index=0,this.hasUndo=!1,this.hasRedo=!1,this.undo=function(){if(this.hasUndo){if(!this.list[this.index-1]&&1==this.list.length)return void this.reset();for(;this.list[this.index].content==this.list[this.index-1].content;)if(this.index--,0==this.index)return this.restore(0);this.restore(--this.index)}},this.redo=function(){if(this.hasRedo){for(;this.list[this.index].content==this.list[this.index+1].content;)if(this.index++,this.index==this.list.length-1)return this.restore(this.index);this.restore(++this.index)}},this.restore=function(){var t=this.editor,e=this.list[this.index],n=UM.htmlparser(e.content.replace(l,""));t.options.autoClearEmptyNode=!1,t.filterInputRule(n,!0),t.options.autoClearEmptyNode=c,t.body.innerHTML=n.toHtml(),t.fireEvent("afterscencerestore"),browser.ie&&utils.each(domUtils.getElementsByTagName(t.document,"td th caption p"),function(e){domUtils.isEmptyNode(e)&&domUtils.fillNode(t.document,e)});try{var i=new dom.Range(t.document,t.body).moveToAddress(e.address);if(browser.ie&&i.collapsed&&1==i.startContainer.nodeType){var o=i.startContainer.childNodes[i.startOffset];(!o||1==o.nodeType&&dtd.$empty[o])&&i.insertNode(t.document.createTextNode(" ")).collapse(!0)}i.select(d[i.startContainer.nodeName.toLowerCase()])}catch(a){}this.update(),this.clearKey(),t.fireEvent("reset",!0)},this.getScene=function(){var t=this.editor,e=t.selection.getRange(),n=e.createAddress(!1,!0);t.fireEvent("beforegetscene");var i=UM.htmlparser(t.body.innerHTML,!0);t.options.autoClearEmptyNode=!1,t.filterOutputRule(i,!0),t.options.autoClearEmptyNode=c;var o=i.toHtml();return browser.ie&&(o=o.replace(/>&nbsp;</g,"><").replace(/\s*</g,"<").replace(/>\s*/g,">")),t.fireEvent("aftergetscene"),{address:n,content:o}},this.save=function(t,n){clearTimeout(o);var i=this.getScene(n),a=this.list[this.index];a&&a.content==i.content&&(t?1:e(a.address,i.address))||(this.list=this.list.slice(0,this.index+1),this.list.push(i),this.list.length>r&&this.list.shift(),this.index=this.list.length-1,this.clearKey(),this.update())},this.update=function(){this.hasRedo=!!this.list[this.index+1],this.hasUndo=!!this.list[this.index-1]},this.reset=function(){this.list=[],this.index=0,this.hasUndo=!1,this.hasRedo=!1,this.clearKey()},this.clearKey=function(){p=0,u=null}}function i(){this.undoManger.save()}var o,a=this,r=a.options.maxUndoCount||20,s=a.options.maxInputCount||20,l=new RegExp(domUtils.fillChar+"|</hr>","gi"),d={ol:1,ul:1,table:1,tbody:1,tr:1,body:1},c=a.options.autoClearEmptyNode;a.undoManger=new n,a.undoManger.editor=a,a.addListener("saveScene",function(){var t=Array.prototype.splice.call(arguments,1);this.undoManger.save.apply(this.undoManger,t)}),a.addListener("beforeexeccommand",i),a.addListener("afterexeccommand",i),a.addListener("reset",function(t,e){e||this.undoManger.reset()}),a.commands.redo=a.commands.undo={execCommand:function(t){this.undoManger[t]()},queryCommandState:function(t){return this.undoManger["has"+("undo"==t.toLowerCase()?"Undo":"Redo")]?0:-1},notNeedUndo:1};var u,h={16:1,17:1,18:1,37:1,38:1,39:1,40:1},p=0,f=!1;a.addListener("ready",function(){$(this.body).on("compositionstart",function(){f=!0}).on("compositionend",function(){f=!1})}),a.addshortcutkey({Undo:"ctrl+90",Redo:"ctrl+89,shift+ctrl+z"});var m=!0;a.addListener("keydown",function(t,e){function n(t){t.selection.getRange().collapsed&&t.fireEvent("contentchange"),t.undoManger.save(!1,!0),t.fireEvent("selectionchange")}var i=this,a=e.keyCode||e.which;if(!(h[a]||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)){if(f)return;if(!i.selection.getRange().collapsed)return i.undoManger.save(!1,!0),void(m=!1);0==i.undoManger.list.length&&i.undoManger.save(!0),clearTimeout(o),o=setTimeout(function(){if(f)var t=setInterval(function(){f||(n(i),clearInterval(t))},300);else n(i)},200),u=a,p++,p>=s&&n(i)}}),a.addListener("keyup",function(t,e){var n=e.keyCode||e.which;if(!(h[n]||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey)){if(f)return;m||(this.undoManger.save(!1,!0),m=!0)}})},UM.plugins.paste=function(){function t(t){var e=this.document;if(!e.getElementById("baidu_pastebin")){var n=this.selection.getRange(),i=n.createBookmark(),o=e.createElement("div");o.id="baidu_pastebin",browser.webkit&&o.appendChild(e.createTextNode(domUtils.fillChar+domUtils.fillChar)),this.body.appendChild(o),i.start.style.display="",o.style.cssText="position:absolute;width:1px;height:1px;overflow:hidden;left:-1000px;white-space:nowrap;top:"+$(i.start).position().top+"px",n.selectNodeContents(o).select(!0),setTimeout(function(){if(browser.webkit)for(var a,r=0,s=e.querySelectorAll("#baidu_pastebin");a=s[r++];){if(!domUtils.isEmptyNode(a)){o=a;break}domUtils.remove(a)}try{o.parentNode.removeChild(o)}catch(l){}n.moveToBookmark(i).select(!0),t(o)},0)}}function e(t){var e;if(t.firstChild){for(var i,o=domUtils.getElementsByTagName(t,"span"),a=0;i=o[a++];)"_baidu_cut_start"!=i.id&&"_baidu_cut_end"!=i.id||domUtils.remove(i);if(browser.webkit){for(var r,s=t.querySelectorAll("div br"),a=0;r=s[a++];){var l=r.parentNode;"DIV"==l.tagName&&1==l.childNodes.length&&(l.innerHTML="<p><br/></p>",domUtils.remove(l))}for(var d,c=t.querySelectorAll("#baidu_pastebin"),a=0;d=c[a++];){var u=n.document.createElement("p");for(d.parentNode.insertBefore(u,d);d.firstChild;)u.appendChild(d.firstChild);domUtils.remove(d)}for(var h,p=t.querySelectorAll("meta"),a=0;h=p[a++];)domUtils.remove(h);var s=t.querySelectorAll("br");for(a=0;h=s[a++];)/^apple-/i.test(h.className)&&domUtils.remove(h)}if(browser.gecko){var f=t.querySelectorAll("[_moz_dirty]");for(a=0;h=f[a++];)h.removeAttribute("_moz_dirty")}if(!browser.ie)for(var h,m=t.querySelectorAll("span.Apple-style-span"),a=0;h=m[a++];)domUtils.remove(h,!0);e=t.innerHTML,e=UM.filterWord(e);var g=UM.htmlparser(e);if(n.options.filterRules&&UM.filterNode(g,n.options.filterRules),n.filterInputRule(g),browser.webkit){var v=g.lastChild();v&&"element"==v.type&&"br"==v.tagName&&g.removeChild(v),utils.each(n.body.querySelectorAll("div"),function(t){domUtils.isEmptyBlock(t)&&domUtils.remove(t)})}if(e={html:g.toHtml()},n.fireEvent("beforepaste",e,g),!e.html)return;n.execCommand("insertHtml",e.html,!0),n.fireEvent("afterpaste",e)}}var n=this;n.addListener("ready",function(){$(n.body).on("cut",function(){var t=n.selection.getRange();!t.collapsed&&n.undoManger&&n.undoManger.save()}).on(browser.ie||browser.opera?"keydown":"paste",function(i){(!browser.ie&&!browser.opera||(i.ctrlKey||i.metaKey)&&"86"==i.keyCode)&&t.call(n,function(t){e(t)})})})},UM.plugins.list=function(){var t=this;t.setOpt({insertorderedlist:{decimal:"","lower-alpha":"","lower-roman":"","upper-alpha":"","upper-roman":""},insertunorderedlist:{circle:"",disc:"",square:""}}),this.addInputRule(function(t){utils.each(t.getNodesByTagName("li"),function(t){0==t.children.length&&t.parentNode.removeChild(t)})}),t.commands.insertorderedlist=t.commands.insertunorderedlist={execCommand:function(t){this.document.execCommand(t);var e=this.selection.getRange(),n=e.createBookmark(!0);return this.$body.find("ol,ul").each(function(t,e){var n=e.parentNode;"P"==n.tagName&&n.lastChild===n.firstChild&&($(e).children().each(function(t,e){var i=n.cloneNode(!1);$(i).append(e.innerHTML),$(e).html("").append(i)}),$(e).insertBefore(n),$(n).remove()),dtd.$inline[n.tagName]&&("SPAN"==n.tagName&&$(e).children().each(function(t,e){var i=n.cloneNode(!1);if("P"!=e.firstChild.nodeName){for(;e.firstChild;)i.appendChild(e.firstChild);$("<p></p>").appendTo(e).append(i)}else{for(;e.firstChild;)i.appendChild(e.firstChild);$(e.firstChild).append(i)}}),domUtils.remove(n,!0))}),e.moveToBookmark(n).select(),!0},queryCommandState:function(t){return this.document.queryCommandState(t)}}},function(){var t={textarea:function(t,e){var n=e.ownerDocument.createElement("textarea");return n.style.cssText="resize:none;border:0;padding:0;margin:0;overflow-y:auto;outline:0",browser.ie&&browser.version<8&&(n.style.width=e.offsetWidth+"px",n.style.height=e.offsetHeight+"px",e.onresize=function(){n.style.width=e.offsetWidth+"px",n.style.height=e.offsetHeight+"px"}),e.appendChild(n),{container:n,setContent:function(t){n.value=t},getContent:function(){return n.value},select:function(){var t;browser.ie?(t=n.createTextRange(),t.collapse(!0),t.select()):(n.setSelectionRange(0,0),n.focus())},dispose:function(){e.removeChild(n),e.onresize=null,n=null,e=null}}}};UM.plugins.source=function(){function e(e){return t.textarea(i,e)}var n,i=this,o=this.options,a=!1;o.sourceEditor="textarea",i.setOpt({sourceEditorFirst:!1});var r,s=i.getContent;
i.commands.source={execCommand:function(){if(a=!a){r=i.selection.getRange().createAddress(!1,!0),i.undoManger&&i.undoManger.save(!0),browser.gecko&&(i.body.contentEditable=!1),i.body.style.cssText+=";position:absolute;left:-32768px;top:-32768px;",i.fireEvent("beforegetcontent");var t=UM.htmlparser(i.body.innerHTML);i.filterOutputRule(t),t.traversal(function(t){if("element"==t.type)switch(t.tagName){case"td":case"th":case"caption":t.children&&1==t.children.length&&"br"==t.firstChild().tagName&&t.removeChild(t.firstChild());break;case"pre":t.innerText(t.innerText().replace(/&nbsp;/g," "))}}),i.fireEvent("aftergetcontent");var o=t.toHtml(!0);n=e(i.body.parentNode),n.setContent(o);var l=function(t){return parseInt($(i.body).css(t))};$(n.container).width($(i.body).width()+l("padding-left")+l("padding-right")).height($(i.body).height()),setTimeout(function(){n.select()}),i.getContent=function(){return n.getContent()||"<p>"+(browser.ie?"":"<br/>")+"</p>"}}else{i.$body.css({position:"",left:"",top:""});var d=n.getContent()||"<p>"+(browser.ie?"":"<br/>")+"</p>";d=d.replace(new RegExp("[\\r\\t\\n ]*</?(\\w+)\\s*(?:[^>]*)>","g"),function(t,e){return e&&!dtd.$inlineWithA[e.toLowerCase()]?t.replace(/(^[\n\r\t ]*)|([\n\r\t ]*$)/g,""):t.replace(/(^[\n\r\t]*)|([\n\r\t]*$)/g,"")}),i.setContent(d),n.dispose(),n=null,i.getContent=s;var c=i.body.firstChild;c||(i.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>"),i.undoManger&&i.undoManger.save(!0),browser.gecko&&(i.body.contentEditable=!0);try{i.selection.getRange().moveToAddress(r).select()}catch(u){}}this.fireEvent("sourcemodechanged",a)},queryCommandState:function(){return 0|a},notNeedUndo:1};var l=i.queryCommandState;i.queryCommandState=function(t){return t=t.toLowerCase(),a?t in{source:1,fullscreen:1}?l.apply(this,arguments):-1:l.apply(this,arguments)}}}(),UM.plugins.enterkey=function(){var t,e=this,n=e.options.enterTag;e.addListener("keyup",function(n,i){var o=i.keyCode||i.which;if(13==o){var a,r=e.selection.getRange(),s=r.startContainer;if(browser.ie)e.fireEvent("saveScene",!0,!0);else{if(/h\d/i.test(t)){if(browser.gecko){var l=domUtils.findParentByTagName(s,["h1","h2","h3","h4","h5","h6","blockquote","caption","table"],!0);l||(e.document.execCommand("formatBlock",!1,"<p>"),a=1)}else if(1==s.nodeType){var d,c=e.document.createTextNode("");if(r.insertNode(c),d=domUtils.findParentByTagName(c,"div",!0)){for(var u=e.document.createElement("p");d.firstChild;)u.appendChild(d.firstChild);d.parentNode.insertBefore(u,d),domUtils.remove(d),r.setStartBefore(c).setCursor(),a=1}domUtils.remove(c)}e.undoManger&&a&&e.undoManger.save()}browser.opera&&r.select()}}}),e.addListener("keydown",function(i,o){var a=o.keyCode||o.which;if(13==a){if(e.fireEvent("beforeenterkeydown"))return void domUtils.preventDefault(o);e.fireEvent("saveScene",!0,!0),t="";var r=e.selection.getRange();if(!r.collapsed){var s=r.startContainer,l=r.endContainer,d=domUtils.findParentByTagName(s,"td",!0),c=domUtils.findParentByTagName(l,"td",!0);if(d&&c&&d!==c||!d&&c||d&&!c)return void(o.preventDefault?o.preventDefault():o.returnValue=!1)}"p"==n&&(browser.ie||(s=domUtils.findParentByTagName(r.startContainer,["ol","ul","p","h1","h2","h3","h4","h5","h6","blockquote","caption"],!0),s||browser.opera?(t=s.tagName,"p"==s.tagName.toLowerCase()&&browser.gecko&&domUtils.removeDirtyAttr(s)):(e.document.execCommand("formatBlock",!1,"<p>"),browser.gecko&&(r=e.selection.getRange(),s=domUtils.findParentByTagName(r.startContainer,"p",!0),s&&domUtils.removeDirtyAttr(s)))))}}),browser.ie&&e.addListener("setDisabled",function(){$(e.body).find("p").each(function(t,e){domUtils.isEmptyBlock(e)&&(e.innerHTML="&nbsp;")})})},UM.commands.preview={execCommand:function(){var t=window.open("","_blank",""),e=t.document,n=this.getContent(null,null,!0),i=this.getOpt("UMEDITOR_HOME_URL"),o=n.indexOf("mathquill-embedded-latex")!=-1?'<link rel="stylesheet" href="'+i+'third-party/mathquill/mathquill.css"/><script src="'+i+'third-party/jquery.min.js"></script><script src="'+i+'third-party/mathquill/mathquill.min.js"></script>':"";e.open(),e.write("<html><head>"+o+"</head><body><div>"+n+"</div></body></html>"),e.close()},notNeedUndo:1},UM.plugins.basestyle=function(){var t=["bold","underline","superscript","subscript","italic","strikethrough"],e=this;e.addshortcutkey({Bold:"ctrl+66",Italic:"ctrl+73",Underline:"ctrl+shift+85",strikeThrough:"ctrl+shift+83"}),e.addOutputRule(function(t){$.each(t.getNodesByTagName("b i u strike s"),function(t,e){switch(e.tagName){case"b":e.tagName="strong";break;case"i":e.tagName="em";break;case"u":e.tagName="span",e.setStyle("text-decoration","underline");break;case"s":case"strike":e.tagName="span",e.setStyle("text-decoration","line-through")}})}),$.each(t,function(t,n){e.commands[n]={execCommand:function(t){var e=this.selection.getRange();if(e.collapsed&&1!=this.queryCommandState(t)){var n=this.document.createElement({bold:"strong",underline:"u",superscript:"sup",subscript:"sub",italic:"em",strikethrough:"strike"}[t]);return e.insertNode(n).setStart(n,0).setCursor(!1),!0}return this.document.execCommand(t)},queryCommandState:function(t){if(browser.gecko)return this.document.queryCommandState(t);var e=this.selection.getStartElementPath(),n=!1;return $.each(e,function(e,i){switch(t){case"bold":if("STRONG"==i.nodeName||"B"==i.nodeName)return n=1,!1;break;case"underline":if("U"==i.nodeName||"SPAN"==i.nodeName&&"underline"==$(i).css("text-decoration"))return n=1,!1;break;case"superscript":if("SUP"==i.nodeName)return n=1,!1;break;case"subscript":if("SUB"==i.nodeName)return n=1,!1;break;case"italic":if("EM"==i.nodeName||"I"==i.nodeName)return n=1,!1;break;case"strikethrough":if("S"==i.nodeName||"STRIKE"==i.nodeName||"SPAN"==i.nodeName&&"line-through"==$(i).css("text-decoration"))return n=1,!1}}),n}}})},UM.plugins.selectall=function(){var t=this;t.commands.selectall={execCommand:function(){var t=this,e=t.body,n=t.selection.getRange();n.selectNodeContents(e),domUtils.isEmptyBlock(e)&&(browser.opera&&e.firstChild&&1==e.firstChild.nodeType&&n.setStartAtFirst(e.firstChild),n.collapse(!0)),n.select(!0)},notNeedUndo:1},t.addshortcutkey({selectAll:"ctrl+65"})},UM.plugins.removeformat=function(){var t=this;t.setOpt({removeFormatTags:"b,big,code,del,dfn,em,font,i,ins,kbd,q,samp,small,span,strike,strong,sub,sup,tt,u,var",removeFormatAttributes:"class,style,lang,width,height,align,hspace,valign"}),t.commands.removeformat={execCommand:function(t,e,n,i,o){function a(t){if(3==t.nodeType||"span"!=t.tagName.toLowerCase())return 0;if(browser.ie){var e=t.attributes;if(e.length){for(var n=0,i=e.length;n<i;n++)if(e[n].specified)return 0;return 1}}return!t.attributes.length}function r(t){var e=t.createBookmark();if(t.collapsed&&t.enlarge(!0),!o){var i=domUtils.findParentByTagName(t.startContainer,"a",!0);i&&t.setStartBefore(i),i=domUtils.findParentByTagName(t.endContainer,"a",!0),i&&t.setEndAfter(i)}for(s=t.createBookmark(),m=s.start;(l=m.parentNode)&&!domUtils.isBlockElm(l);)domUtils.breakParent(m,l),domUtils.clearEmptySibling(m);if(s.end){for(m=s.end;(l=m.parentNode)&&!domUtils.isBlockElm(l);)domUtils.breakParent(m,l),domUtils.clearEmptySibling(m);for(var r,u=domUtils.getNextDomNode(s.start,!1,h);u&&u!=s.end;)r=domUtils.getNextDomNode(u,!0,h),dtd.$empty[u.tagName.toLowerCase()]||domUtils.isBookmarkNode(u)||(d.test(u.tagName)?n?(domUtils.removeStyle(u,n),a(u)&&"text-decoration"!=n&&domUtils.remove(u,!0)):domUtils.remove(u,!0):dtd.$tableContent[u.tagName]||dtd.$list[u.tagName]||(domUtils.removeAttributes(u,c),a(u)&&domUtils.remove(u,!0))),u=r}var p=s.start.parentNode;!domUtils.isBlockElm(p)||dtd.$tableContent[p.tagName]||dtd.$list[p.tagName]||domUtils.removeAttributes(p,c),p=s.end.parentNode,s.end&&domUtils.isBlockElm(p)&&!dtd.$tableContent[p.tagName]&&!dtd.$list[p.tagName]&&domUtils.removeAttributes(p,c),t.moveToBookmark(s).moveToBookmark(e);for(var f,m=t.startContainer,g=t.collapsed;1==m.nodeType&&domUtils.isEmptyNode(m)&&dtd.$removeEmpty[m.tagName];)f=m.parentNode,t.setStartBefore(m),t.startContainer===t.endContainer&&t.endOffset--,domUtils.remove(m),m=f;if(!g)for(m=t.endContainer;1==m.nodeType&&domUtils.isEmptyNode(m)&&dtd.$removeEmpty[m.tagName];)f=m.parentNode,t.setEndBefore(m),domUtils.remove(m),m=f}var s,l,d=new RegExp("^(?:"+(e||this.options.removeFormatTags).replace(/,/g,"|")+")$","i"),c=n?[]:(i||this.options.removeFormatAttributes).split(","),u=new dom.Range(this.document),h=function(t){return 1==t.nodeType};u=this.selection.getRange(),u.collapsed||(r(u),u.select())}}},UM.plugins.keystrokes=function(){var t=this,e=!0;t.addListener("keydown",function(n,i){var o=i.keyCode||i.which,a=t.selection.getRange();if(!a.collapsed&&!(i.ctrlKey||i.shiftKey||i.altKey||i.metaKey)&&(o>=65&&o<=90||o>=48&&o<=57||o>=96&&o<=111||{13:1,8:1,46:1}[o])){var r=a.startContainer;if(domUtils.isFillChar(r)&&a.setStartBefore(r),r=a.endContainer,domUtils.isFillChar(r)&&a.setEndAfter(r),a.txtToElmBoundary(),a.endContainer&&1==a.endContainer.nodeType&&(r=a.endContainer.childNodes[a.endOffset],r&&domUtils.isBr(r)&&a.setEndAfter(r)),0==a.startOffset&&(r=a.startContainer,domUtils.isBoundaryNode(r,"firstChild")&&(r=a.endContainer,a.endOffset==(3==r.nodeType?r.nodeValue.length:r.childNodes.length)&&domUtils.isBoundaryNode(r,"lastChild"))))return t.fireEvent("saveScene"),t.body.innerHTML="<p>"+(browser.ie?"":"<br/>")+"</p>",a.setStart(t.body.firstChild,0).setCursor(!1,!0),void t._selectionChange()}if(8==o){if(a=t.selection.getRange(),e=a.collapsed,t.fireEvent("delkeydown",i))return;var s,l;if(a.collapsed&&a.inFillChar()&&(s=a.startContainer,domUtils.isFillChar(s)?(a.setStartBefore(s).shrinkBoundary(!0).collapse(!0),domUtils.remove(s)):(s.nodeValue=s.nodeValue.replace(new RegExp("^"+domUtils.fillChar),""),a.startOffset--,a.collapse(!0).select(!0))),s=a.getClosedNode())return t.fireEvent("saveScene"),a.setStartBefore(s),domUtils.remove(s),a.setCursor(),t.fireEvent("saveScene"),void domUtils.preventDefault(i);if(!browser.ie&&(s=domUtils.findParentByTagName(a.startContainer,"table",!0),l=domUtils.findParentByTagName(a.endContainer,"table",!0),s&&!l||!s&&l||s!==l))return void i.preventDefault();if(s=a.startContainer,a.collapsed&&1==s.nodeType){var d=s.childNodes[a.startOffset-1];d&&1==d.nodeType&&"BR"==d.tagName&&(t.fireEvent("saveScene"),a.setStartBefore(d).collapse(!0),domUtils.remove(d),a.select(),t.fireEvent("saveScene"))}if(browser.chrome&&a.collapsed){for(;0==a.startOffset&&!domUtils.isEmptyBlock(a.startContainer);)a.setStartBefore(a.startContainer);var c=a.startContainer.childNodes[a.startOffset-1];c&&"BR"==c.nodeName&&(a.setStartBefore(c),t.fireEvent("saveScene"),$(c).remove(),a.setCursor(),t.fireEvent("saveScene"))}}if(browser.gecko&&46==o){var u=t.selection.getRange();if(u.collapsed&&(s=u.startContainer,domUtils.isEmptyBlock(s))){for(var h=s.parentNode;1==domUtils.getChildCount(h)&&!domUtils.isBody(h);)s=h,h=h.parentNode;return void(s===h.lastChild&&i.preventDefault())}}}),t.addListener("keyup",function(t,n){var i,o=n.keyCode||n.which,a=this;if(8==o){if(a.fireEvent("delkeyup"))return;if(i=a.selection.getRange(),i.collapsed){var r,s=["h1","h2","h3","h4","h5","h6"];if((r=domUtils.findParentByTagName(i.startContainer,s,!0))&&domUtils.isEmptyBlock(r)){var l=r.previousSibling;if(l&&"TABLE"!=l.nodeName)return domUtils.remove(r),void i.setStartAtLast(l).setCursor(!1,!0);var d=r.nextSibling;if(d&&"TABLE"!=d.nodeName)return domUtils.remove(r),void i.setStartAtFirst(d).setCursor(!1,!0)}if(domUtils.isBody(i.startContainer)){var r=domUtils.createElement(a.document,"p",{innerHTML:browser.ie?domUtils.fillChar:"<br/>"});i.insertNode(r).setStart(r,0).setCursor(!1,!0)}}if(!e&&(3==i.startContainer.nodeType||1==i.startContainer.nodeType&&domUtils.isEmptyBlock(i.startContainer)))if(browser.ie){var c=i.document.createElement("span");i.insertNode(c).setStartBefore(c).collapse(!0),i.select(),domUtils.remove(c)}else i.select()}})},UM.plugins.autosave=function(){function t(t){var r=null;if(!(new Date-n<i)){if(!t.hasContents())return void(o&&a.removeItem(o));n=new Date,t._saveFlag=null,r=e.body.innerHTML,t.fireEvent("beforeautosave",{content:r})!==!1&&(a.saveLocalData(o,r),t.fireEvent("afterautosave",{content:r}))}}var e=this,n=new Date,i=20,o=null;e.setOpt("saveInterval",500);var a=UM.LocalStorage=function(){function t(){var t=document.createElement("div");return t.style.display="none",t.addBehavior?(t.addBehavior("#default#userdata"),{getItem:function(e){var i=null;try{document.body.appendChild(t),t.load(n),i=t.getAttribute(e),document.body.removeChild(t)}catch(o){}return i},setItem:function(e,i){document.body.appendChild(t),t.setAttribute(e,i),t.save(n),document.body.removeChild(t)},removeItem:function(e){document.body.appendChild(t),t.removeAttribute(e),t.save(n),document.body.removeChild(t)}}):null}var e=window.localStorage||t()||null,n="localStorage";return{saveLocalData:function(t,n){return!(!e||!n)&&(e.setItem(t,n),!0)},getLocalData:function(t){return e?e.getItem(t):null},removeItem:function(t){e&&e.removeItem(t)}}}();e.addListener("ready",function(){var t="-drafts-data",n=null;n=e.key?e.key+t:(e.container.parentNode.id||"ue-common")+t,o=(location.protocol+location.host+location.pathname).replace(/[.:\/]/g,"_")+n}),e.addListener("contentchange",function(){o&&(e._saveFlag&&window.clearTimeout(e._saveFlag),e.options.saveInterval>0?e._saveFlag=window.setTimeout(function(){t(e)},e.options.saveInterval):t(e))}),e.commands.clearlocaldata={execCommand:function(t,e){o&&a.getLocalData(o)&&a.removeItem(o)},notNeedUndo:!0,ignoreContentChange:!0},e.commands.getlocaldata={execCommand:function(t,e){return o?a.getLocalData(o)||"":""},notNeedUndo:!0,ignoreContentChange:!0},e.commands.drafts={execCommand:function(t,n){o&&(e.body.innerHTML=a.getLocalData(o)||"<p>"+(browser.ie?"&nbsp;":"<br/>")+"</p>",e.focus(!0))},queryCommandState:function(){return o?null===a.getLocalData(o)?-1:0:-1},notNeedUndo:!0,ignoreContentChange:!0}},UM.plugins.autoupload=function(){function getPasteImage(t){return t.clipboardData&&t.clipboardData.items&&1==t.clipboardData.items.length&&/^image\//.test(t.clipboardData.items[0].type)?t.clipboardData.items:null}function getDropImage(t){return t.dataTransfer&&t.dataTransfer.files?t.dataTransfer.files:null}var me=this;me.setOpt("pasteImageEnabled",!0),me.setOpt("dropFileEnabled",!0);var sendAndInsertImage=function(file,editor){var fd=new FormData;fd.append(editor.options.imageFieldName||"upfile",file,file.name||"blob."+file.type.substr("image/".length)),fd.append("type","ajax");var xhr=new XMLHttpRequest;xhr.open("post",me.options.imageUrl,!0),xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),xhr.addEventListener("load",function(e){try{var json=eval("("+e.target.response+")"),link=json.url,picLink=me.options.imagePath+link;editor.execCommand("insertimage",{src:picLink,_src:picLink})}catch(er){}}),xhr.send(fd)};me.addListener("ready",function(){if(window.FormData&&window.FileReader){var t=function(t){var e,n=!1;if(e="paste"==t.type?getPasteImage(t.originalEvent):getDropImage(t.originalEvent)){for(var i,o=e.length;o--;)i=e[o],i.getAsFile&&(i=i.getAsFile()),i&&i.size>0&&/image\/\w+/i.test(i.type)&&(sendAndInsertImage(i,me),n=!0);if(n)return!1}};me.getOpt("pasteImageEnabled")&&me.$body.on("paste",t),me.getOpt("dropFileEnabled")&&me.$body.on("drop",t),me.$body.on("dragover",function(t){if("Files"==t.originalEvent.dataTransfer.types[0])return!1})}})},function(t){function e(e,n,i){if(e.prototype=t.extend2(t.extend({},n),(UM.ui[i]||o).prototype,!0),e.prototype.supper=(UM.ui[i]||o).prototype,UM.ui[i]&&UM.ui[i].prototype.defaultOpt){var a=UM.ui[i].prototype.defaultOpt,r=e.prototype.defaultOpt;e.prototype.defaultOpt=t.extend({},a,r||{})}return e}function n(e,n){t[a+n]=e,t.fn[a+n]=function(n){var i,o=Array.prototype.slice.call(arguments,1);return this.each(function(a,r){var s=t(r),l=s.edui();if(l||(e(n&&t.isPlainObject(n)?n:{},s),s.edui(l)),"string"==t.type(n))if("this"==n)i=l;else{if(i=l[n].apply(l,o),i!==l&&void 0!==i)return!1;i=null}}),null!==i?i:this}}t.parseTmpl=function(t,e){var n="var __p=[],print=function(){__p.push.apply(__p,arguments);};with(obj||{}){__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(t,e){return"',"+e.replace(/\\'/g,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(t,e){return"');"+e.replace(/\\'/g,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+"');}return __p.join('');",i=new Function("obj",n);return e?i(e):i},t.extend2=function(e,n){for(var i=arguments,o="boolean"==t.type(i[i.length-1])&&i[i.length-1],a="boolean"==t.type(i[i.length-1])?i.length-1:i.length,r=1;r<a;r++){var s=i[r];for(var l in s)o&&e.hasOwnProperty(l)||(e[l]=s[l])}return e},t.IE6=!!window.ActiveXObject&&6==parseFloat(navigator.userAgent.match(/msie (\d+)/i)[1]);var i=[],o=function(){},a="edui";o.prototype={on:function(e,n){return this.root().on(e,t.proxy(n,this)),this},off:function(e,n){return this.root().off(e,t.proxy(n,this)),this},trigger:function(t,e){return this.root().trigger(t,e)!==!1&&this},root:function(t){return this._$el||(this._$el=t)},destroy:function(){},data:function(t,e){return void 0!==e?(this.root().data(a+t,e),this):this.root().data(a+t)},register:function(e,n,o){i.push({evtname:e,$els:t.isArray(n)?n:[n],handler:t.proxy(o,n)})}},t.fn.edui=function(t){return t?this.data("eduiwidget",t):this.data("eduiwidget")};var r=1;UM.ui={define:function(i,o,s){var l=UM.ui[i]=e(function(e,n){var o=function(){};t.extend(o.prototype,l.prototype,{guid:i+r++,widgetName:i});var s=new o;if("string"==t.type(e))return s.init&&s.init({}),s.root().edui(s),s.root().find("a").click(function(t){t.preventDefault()}),s.root()[a+i].apply(s.root(),arguments);n&&s.root(n),s.init&&s.init(!e||t.isPlainObject(e)?t.extend2(e||{},s.defaultOpt||{},!0):e);try{s.root().find("a").click(function(t){t.preventDefault()})}catch(d){}return s.root().edui(s)},o,s);n(l,i)}},t(function(){t(document).on("click mouseup mousedown dblclick mouseover",function(e){t.each(i,function(n,i){i.evtname==e.type&&t.each(i.$els,function(n,o){o[0]===e.target||t.contains(o[0],e.target)||i.handler(e)})})})})}(jQuery),UM.ui.define("button",{tpl:'<<%if(!texttype){%>div class="edui-btn edui-btn-<%=icon%> <%if(name){%>edui-btn-name-<%=name%><%}%>" unselectable="on" onmousedown="return false" <%}else{%>a class="edui-text-btn"<%}%><% if(title) {%> data-original-title="<%=title%>" <%};%>> <% if(icon) {%><div unselectable="on" class="edui-icon-<%=icon%> edui-icon"></div><% }; %><%if(text) {%><span unselectable="on" onmousedown="return false" class="edui-button-label"><%=text%></span><%}%><%if(caret && text){%><span class="edui-button-spacing"></span><%}%><% if(caret) {%><span unselectable="on" onmousedown="return false" class="edui-caret"></span><% };%></<%if(!texttype){%>div<%}else{%>a<%}%>>',defaultOpt:{text:"",title:"",icon:"",width:"",caret:!1,texttype:!1,click:function(){}},init:function(t){var e=this;return e.root($($.parseTmpl(e.tpl,t))).click(function(n){e.wrapclick(t.click,n)}),e.root().hover(function(){e.root().hasClass("edui-disabled")||e.root().toggleClass("edui-hover")}),e},wrapclick:function(t,e){return this.disabled()||(this.root().trigger("wrapclick"),$.proxy(t,this,e)()),this},label:function(t){return void 0===t?this.root().find(".edui-button-label").text():(this.root().find(".edui-button-label").text(t),this)},disabled:function(t){return void 0===t?this.root().hasClass("edui-disabled"):(this.root().toggleClass("edui-disabled",t),this.root().hasClass("edui-disabled")&&this.root().removeClass("edui-hover"),this)},active:function(t){return void 0===t?this.root().hasClass("edui-active"):(this.root().toggleClass("edui-active",t),this)},mergeWith:function(t){var e=this;e.data("$mergeObj",t),t.edui().data("$mergeObj",e.root()),$.contains(document.body,t[0])||t.appendTo(e.root()),e.on("click",function(){e.wrapclick(function(){t.edui().show()})}).register("click",e.root(),function(e){t.hide()})}}),function(){UM.ui.define("toolbar",{tpl:'<div class="edui-toolbar"  ><div class="edui-btn-toolbar" unselectable="on" onmousedown="return false"  ></div></div>',init:function(){var t=this.root($(this.tpl));this.data("$btnToolbar",t.find(".edui-btn-toolbar"))},appendToBtnmenu:function(t){var e=this.data("$btnToolbar");t=$.isArray(t)?t:[t],$.each(t,function(t,n){e.append(n)})}})}(),UM.ui.define("menu",{show:function(t,e,n,i,o){n=n||"position",this.trigger("beforeshow")!==!1&&(this.root().css($.extend({display:"block"},t?{top:t[n]().top+("right"==e?0:t.outerHeight())-(i||0),left:t[n]().left+("right"==e?t.outerWidth():0)-(o||0)}:{})),this.trigger("aftershow"))},hide:function(t){var e;this.trigger("beforehide")!==!1&&((e=this.root().data("parentmenu"))&&(e.data("parentmenu")||t)&&e.edui().hide(),this.root().css("display","none"),this.trigger("afterhide"))},attachTo:function(t){var e=this;t.data("$mergeObj")||(t.data("$mergeObj",e.root()),t.on("wrapclick",function(t){e.show()}),e.register("click",t,function(t){e.hide()}),e.data("$mergeObj",t))}}),UM.ui.define("dropmenu",{tmpl:'<ul class="edui-dropdown-menu" aria-labelledby="dropdownMenu" ><%for(var i=0,ci;ci=data[i++];){%><%if(ci.divider){%><li class="edui-divider"></li><%}else{%><li <%if(ci.active||ci.disabled){%>class="<%= ci.active|| \'\' %> <%=ci.disabled||\'\' %>" <%}%> data-value="<%= ci.value%>"><a href="#" tabindex="-1"><em class="edui-dropmenu-checkbox"><i class="edui-icon-ok"></i></em><%= ci.label%></a></li><%}%><%}%></ul>',defaultOpt:{data:[],click:function(){}},init:function(t){var e=this,n={click:1,mouseover:1,mouseout:1};this.root($($.parseTmpl(this.tmpl,t))).on("click",'li[class!="edui-disabled edui-divider edui-dropdown-submenu"]',function(n){$.proxy(t.click,e,n,$(this).data("value"),$(this))()}).find("li").each(function(i,o){var a=$(this);if(!a.hasClass("edui-disabled edui-divider edui-dropdown-submenu")){var r=t.data[i];$.each(n,function(t){r[t]&&a[t](function(n){$.proxy(r[t],o)(n,r,e.root)})})}})},disabled:function(t){$("li[class!=edui-divider]",this.root()).each(function(){var e=$(this);t===!0?e.addClass("edui-disabled"):$.isFunction(t)?e.toggleClass("edui-disabled",t(li)):e.removeClass("edui-disabled")})},val:function(t){var e;if($('li[class!="edui-divider edui-disabled edui-dropdown-submenu"]',this.root()).each(function(){var n=$(this);if(void 0===t){if(n.find("em.edui-dropmenu-checked").length)return e=n.data("value"),!1}else n.find("em").toggleClass("edui-dropmenu-checked",n.data("value")==t)}),void 0===t)return e},addSubmenu:function(t,e,n){n=n||0;var i=$("li[class!=edui-divider]",this.root()),o=$('<li class="edui-dropdown-submenu"><a tabindex="-1" href="#">'+t+"</a></li>").append(e);n>=0&&n<i.length?o.insertBefore(i[n]):n<0?o.insertBefore(i[0]):n>=i.length&&o.appendTo(i)}},"menu"),UM.ui.define("splitbutton",{tpl:'<div class="edui-splitbutton <%if (name){%>edui-splitbutton-<%= name %><%}%>"  unselectable="on" <%if(title){%>data-original-title="<%=title%>"<%}%>><div class="edui-btn"  unselectable="on" ><%if(icon){%><div  unselectable="on" class="edui-icon-<%=icon%> edui-icon"></div><%}%><%if(text){%><%=text%><%}%></div><div  unselectable="on" class="edui-btn edui-dropdown-toggle" ><div  unselectable="on" class="edui-caret"></div></div></div>',defaultOpt:{text:"",title:"",click:function(){}},init:function(t){var e=this;return e.root($($.parseTmpl(e.tpl,t))),e.root().find(".edui-btn:first").click(function(n){e.disabled()||$.proxy(t.click,e)()}),e.root().find(".edui-dropdown-toggle").click(function(){e.disabled()||e.trigger("arrowclick")}),e.root().hover(function(){e.root().hasClass("edui-disabled")||e.root().toggleClass("edui-hover")}),e},wrapclick:function(t,e){return this.disabled()||$.proxy(t,this,e)(),this},disabled:function(t){return void 0===t?this.root().hasClass("edui-disabled"):(this.root().toggleClass("edui-disabled",t).find(".edui-btn").toggleClass("edui-disabled",t),this)},active:function(t){return void 0===t?this.root().hasClass("edui-active"):(this.root().toggleClass("edui-active",t).find(".edui-btn:first").toggleClass("edui-active",t),this)},mergeWith:function(t){var e=this;e.data("$mergeObj",t),t.edui().data("$mergeObj",e.root()),$.contains(document.body,t[0])||t.appendTo(e.root()),e.root().delegate(".edui-dropdown-toggle","click",function(){e.wrapclick(function(){t.edui().show()})}),e.register("click",e.root().find(".edui-dropdown-toggle"),function(e){t.hide()})}}),UM.ui.define("colorsplitbutton",{tpl:'<div class="edui-splitbutton <%if (name){%>edui-splitbutton-<%= name %><%}%>"  unselectable="on" <%if(title){%>data-original-title="<%=title%>"<%}%>><div class="edui-btn"  unselectable="on" ><%if(icon){%><div  unselectable="on" class="edui-icon-<%=icon%> edui-icon"></div><%}%><div class="edui-splitbutton-color-label" <%if (color) {%>style="background: <%=color%>"<%}%>></div><%if(text){%><%=text%><%}%></div><div  unselectable="on" class="edui-btn edui-dropdown-toggle" ><div  unselectable="on" class="edui-caret"></div></div></div>',defaultOpt:{color:""},init:function(t){var e=this;e.supper.init.call(e,t)},colorLabel:function(){return this.root().find(".edui-splitbutton-color-label")}},"splitbutton"),UM.ui.define("popup",{tpl:'<div class="edui-dropdown-menu edui-popup"<%if(!<%=stopprop%>){%>onmousedown="return false"<%}%>><div class="edui-popup-body" unselectable="on" onmousedown="return false"><%=subtpl%></div><div class="edui-popup-caret"></div></div>',defaultOpt:{stopprop:!1,subtpl:"",width:"",height:""},init:function(t){return this.root($($.parseTmpl(this.tpl,t))),this},mergeTpl:function(t){return $.parseTmpl(this.tpl,{subtpl:t})},show:function(t,e){e||(e={});var n=e.fnname||"position";this.trigger("beforeshow")!==!1&&(this.root().css($.extend({display:"block"},t?{top:t[n]().top+("right"==e.dir?0:t.outerHeight())-(e.offsetTop||0),left:t[n]().left+("right"==e.dir?t.outerWidth():0)-(e.offsetLeft||0),position:"absolute"}:{})),this.root().find(".edui-popup-caret").css({top:e.caretTop||0,left:e.caretLeft||0,position:"absolute"}).addClass(e.caretDir||"up"),this.trigger("aftershow"))},hide:function(){this.root().css("display","none"),this.trigger("afterhide")},attachTo:function(t,e){var n=this;t.data("$mergeObj")||(t.data("$mergeObj",n.root()),t.on("wrapclick",function(i){n.show(t,e)}),n.register("click",t,function(t){n.hide()}),n.data("$mergeObj",t))},getBodyContainer:function(){return this.root().find(".edui-popup-body")}}),UM.ui.define("scale",{tpl:'<div class="edui-scale" unselectable="on"><span class="edui-scale-hand0"></span><span class="edui-scale-hand1"></span><span class="edui-scale-hand2"></span><span class="edui-scale-hand3"></span><span class="edui-scale-hand4"></span><span class="edui-scale-hand5"></span><span class="edui-scale-hand6"></span><span class="edui-scale-hand7"></span></div>',defaultOpt:{$doc:$(document),$wrap:$(document)},init:function(t){return t.$doc&&(this.defaultOpt.$doc=t.$doc),t.$wrap&&(this.defaultOpt.$wrap=t.$wrap),this.root($($.parseTmpl(this.tpl,t))),this.initStyle(),this.startPos=this.prePos={x:0,y:0},this.dragId=-1,this},initStyle:function(){utils.cssRule("edui-style-scale",".edui-scale{display:none;position:absolute;border:1px solid #38B2CE;cursor:hand;}.edui-scale span{position:absolute;left:0;top:0;width:7px;height:7px;overflow:hidden;font-size:0px;display:block;background-color:#3C9DD0;}.edui-scale .edui-scale-hand0{cursor:nw-resize;top:0;margin-top:-4px;left:0;margin-left:-4px;}.edui-scale .edui-scale-hand1{cursor:n-resize;top:0;margin-top:-4px;left:50%;margin-left:-4px;}.edui-scale .edui-scale-hand2{cursor:ne-resize;top:0;margin-top:-4px;left:100%;margin-left:-3px;}.edui-scale .edui-scale-hand3{cursor:w-resize;top:50%;margin-top:-4px;left:0;margin-left:-4px;}.edui-scale .edui-scale-hand4{cursor:e-resize;top:50%;margin-top:-4px;left:100%;margin-left:-3px;}.edui-scale .edui-scale-hand5{cursor:sw-resize;top:100%;margin-top:-3px;left:0;margin-left:-4px;}.edui-scale .edui-scale-hand6{cursor:s-resize;top:100%;margin-top:-3px;left:50%;margin-left:-4px;}.edui-scale .edui-scale-hand7{cursor:se-resize;top:100%;margin-top:-3px;left:100%;margin-left:-3px;}")},_eventHandler:function(t){var e=this,n=e.defaultOpt.$doc;switch(t.type){case"mousedown":var i,i=t.target||t.srcElement;i.className.indexOf("edui-scale-hand")!=-1&&(e.dragId=i.className.slice(-1),e.startPos.x=e.prePos.x=t.clientX,e.startPos.y=e.prePos.y=t.clientY,n.bind("mousemove",$.proxy(e._eventHandler,e)));break;case"mousemove":e.dragId!=-1&&(e.updateContainerStyle(e.dragId,{x:t.clientX-e.prePos.x,y:t.clientY-e.prePos.y}),e.prePos.x=t.clientX,e.prePos.y=t.clientY,e.updateTargetElement());break;case"mouseup":if(e.dragId!=-1){e.dragId=-1,e.updateTargetElement();var o=e.data("$scaleTarget");o.parent()&&e.attachTo(e.data("$scaleTarget"))}n.unbind("mousemove",$.proxy(e._eventHandler,e))}},updateTargetElement:function(){var t=this,e=t.root(),n=t.data("$scaleTarget");n.css({width:e.width(),height:e.height()}),t.attachTo(n)},updateContainerStyle:function(t,e){var n,i=this,o=i.root(),a=[[0,0,-1,-1],[0,0,0,-1],[0,0,1,-1],[0,0,-1,0],[0,0,1,0],[0,0,-1,1],[0,0,0,1],[0,0,1,1]];0!=a[t][0]&&(n=parseInt(o.offset().left)+e.x,o.css("left",i._validScaledProp("left",n))),0!=a[t][1]&&(n=parseInt(o.offset().top)+e.y,o.css("top",i._validScaledProp("top",n))),0!=a[t][2]&&(n=o.width()+a[t][2]*e.x,o.css("width",i._validScaledProp("width",n))),0!=a[t][3]&&(n=o.height()+a[t][3]*e.y,o.css("height",i._validScaledProp("height",n)))},_validScaledProp:function(t,e){var n=this.root(),i=this.defaultOpt.$doc,o=function(t,n,i){return t+n>i?i-n:e};switch(e=isNaN(e)?0:e,t){case"left":return e<0?0:o(e,n.width(),i.width());case"top":return e<0?0:o(e,n.height(),i.height());case"width":return e<=0?1:o(e,n.offset().left,i.width());case"height":return e<=0?1:o(e,n.offset().top,i.height())}},show:function(t){var e=this;t&&e.attachTo(t),e.root().bind("mousedown",$.proxy(e._eventHandler,e)),e.defaultOpt.$doc.bind("mouseup",$.proxy(e._eventHandler,e)),e.root().show(),e.trigger("aftershow")},hide:function(){var t=this;t.root().unbind("mousedown",$.proxy(t._eventHandler,t)),t.defaultOpt.$doc.unbind("mouseup",$.proxy(t._eventHandler,t)),t.root().hide(),t.trigger("afterhide")},attachTo:function(t){var e=this,n=t.offset(),i=e.root(),o=e.defaultOpt.$wrap,a=o.offset();e.data("$scaleTarget",t),e.root().css({position:"absolute",width:t.width(),height:t.height(),left:n.left-a.left-parseInt(o.css("border-left-width"))-parseInt(i.css("border-left-width")),top:n.top-a.top-parseInt(o.css("border-top-width"))-parseInt(i.css("border-top-width"))})},getScaleTarget:function(){return this.data("$scaleTarget")[0]}}),UM.ui.define("colorpicker",{tpl:function(t){for(var e="ffffff,000000,eeece1,1f497d,4f81bd,c0504d,9bbb59,8064a2,4bacc6,f79646,f2f2f2,7f7f7f,ddd9c3,c6d9f0,dbe5f1,f2dcdb,ebf1dd,e5e0ec,dbeef3,fdeada,d8d8d8,595959,c4bd97,8db3e2,b8cce4,e5b9b7,d7e3bc,ccc1d9,b7dde8,fbd5b5,bfbfbf,3f3f3f,938953,548dd4,95b3d7,d99694,c3d69b,b2a2c7,92cddc,fac08f,a5a5a5,262626,494429,17365d,366092,953734,76923c,5f497a,31859b,e36c09,7f7f7f,0c0c0c,1d1b10,0f243e,244061,632423,4f6128,3f3151,205867,974806,c00000,ff0000,ffc000,ffff00,92d050,00b050,00b0f0,0070c0,002060,7030a0,".split(","),n='<div unselectable="on" onmousedown="return false" class="edui-colorpicker<%if (name){%> edui-colorpicker-<%=name%><%}%>" ><table unselectable="on" onmousedown="return false"><tr><td colspan="10">'+t.lang_themeColor+'</td> </tr><tr class="edui-colorpicker-firstrow" >',i=0;i<e.length;i++)i&&i%10===0&&(n+="</tr>"+(60==i?'<tr><td colspan="10">'+t.lang_standardColor+"</td></tr>":"")+"<tr"+(60==i?' class="edui-colorpicker-firstrow"':"")+">"),n+=i<70?'<td><a unselectable="on" onmousedown="return false" title="'+e[i]+'" class="edui-colorpicker-colorcell" data-color="#'+e[i]+'" style="background-color:#'+e[i]+";border:solid #ccc;"+(i<10||i>=60?"border-width:1px;":i>=10&&i<20?"border-width:1px 1px 0 1px;":"border-width:0 1px 0 1px;")+'"></a></td>':"";return n+="</tr></table></div>"},init:function(t){var e=this;e.root($($.parseTmpl(e.supper.mergeTpl(e.tpl(t)),t))),e.root().on("click",function(t){
e.trigger("pickcolor",$(t.target).data("color"))})}},"popup"),function(){var t="combobox",e="edui-combobox-item",n="edui-combobox-item-hover",i="edui-combobox-checked-icon",o="edui-combobox-item-label";UM.ui.define(t,function(){return{tpl:'<ul class="dropdown-menu edui-combobox-menu<%if (comboboxName!==\'\') {%> edui-combobox-<%=comboboxName%><%}%>" unselectable="on" onmousedown="return false" role="menu" aria-labelledby="dropdownMenu"><%if(autoRecord) {%><%for( var i=0, len = recordStack.length; i<len; i++ ) {%><%var index = recordStack[i];%><li class="<%=itemClassName%><%if( selected == index ) {%> edui-combobox-checked<%}%>" data-item-index="<%=index%>" unselectable="on" onmousedown="return false"><span class="edui-combobox-icon" unselectable="on" onmousedown="return false"></span><label class="<%=labelClassName%>" style="<%=itemStyles[ index ]%>" unselectable="on" onmousedown="return false"><%=items[index]%></label></li><%}%><%if( i ) {%><li class="edui-combobox-item-separator"></li><%}%><%}%><%for( var i=0, label; label = items[i]; i++ ) {%><li class="<%=itemClassName%><%if( selected == i ) {%> edui-combobox-checked<%}%> edui-combobox-item-<%=i%>" data-item-index="<%=i%>" unselectable="on" onmousedown="return false"><span class="edui-combobox-icon" unselectable="on" onmousedown="return false"></span><label class="<%=labelClassName%>" style="<%=itemStyles[ i ]%>" unselectable="on" onmousedown="return false"><%=label%></label></li><%}%></ul>',defaultOpt:{recordStack:[],items:[],value:[],comboboxName:"",selected:"",autoRecord:!0,recordCount:5},init:function(t){var n=this;$.extend(n._optionAdaptation(t),n._createItemMapping(t.recordStack,t.items),{itemClassName:e,iconClass:i,labelClassName:o}),this._transStack(t),n.root($($.parseTmpl(n.tpl,t))),this.data("options",t).initEvent()},initEvent:function(){var t=this;t.initSelectItem(),this.initItemActive()},initSelectItem:function(){var t=this,n="."+o;t.root().delegate("."+e,"click",function(){var e=$(this),i=e.attr("data-item-index");return t.trigger("comboboxselect",{index:i,label:e.find(n).text(),value:t.data("options").value[i]}).select(i),t.hide(),!1})},initItemActive:function(){var t={mouseenter:"addClass",mouseleave:"removeClass"};$.IE6&&this.root().delegate("."+e,"mouseenter mouseleave",function(e){$(this)[t[e.type]](n)}).one("afterhide",function(){})},select:function(t){var e=this.data("options").itemCount,n=this.data("options").autowidthitem;return n&&!n.length&&(n=this.data("options").items),0==e?null:(t<0?t=e+t%e:t>=e&&(t=e-1),this.trigger("changebefore",n[t]),this._update(t),this.trigger("changeafter",n[t]),null)},selectItemByLabel:function(t){var e=this.data("options").itemMapping,n=this,i=null;!$.isArray(t)&&(t=[t]),$.each(t,function(t,o){if(i=e[o],void 0!==i)return n.select(i),!1})},_transStack:function(t){var e=[],n=-1,i=-1;$.each(t.recordStack,function(o,a){n=t.itemMapping[a],$.isNumeric(n)&&(e.push(n),a==t.selected&&(i=n))}),t.recordStack=e,t.selected=i,e=null},_optionAdaptation:function(t){if(!("itemStyles"in t)){t.itemStyles=[];for(var e=0,n=t.items.length;e<n;e++)t.itemStyles.push("")}return t.autowidthitem=t.autowidthitem||t.items,t.itemCount=t.items.length,t},_createItemMapping:function(t,e){var n={},i={recordStack:[],mapping:{}};return $.each(e,function(t,e){n[e]=t}),i.itemMapping=n,$.each(t,function(t,e){void 0!==n[e]&&(i.recordStack.push(n[e]),i.mapping[e]=n[e])}),i},_update:function(t){var e=this.data("options"),n=[],i=null;$.each(e.recordStack,function(e,i){i!=t&&n.push(i)}),n.unshift(t),n.length>e.recordCount&&(n.length=e.recordCount),e.recordStack=n,e.selected=t,i=$($.parseTmpl(this.tpl,e)),this.root().html(i.html()),i=null,n=null}}}(),"menu")}(),function(){var t="buttoncombobox";UM.ui.define(t,function(){return{defaultOpt:{label:"",title:""},init:function(t){var e=this,n=$.eduibutton({caret:!0,name:t.comboboxName,title:t.title,text:t.label,click:function(){e.show(this.root())}});e.supper.init.call(e,t),e.on("changebefore",function(t,e){n.eduibutton("label",e)}),e.data("button",n),e.attachTo(n)},button:function(){return this.data("button")}}}(),"combobox")}(),UM.ui.define("modal",{tpl:'<div class="edui-modal" tabindex="-1" ><div class="edui-modal-header"><div class="edui-close" data-hide="modal"></div><h3 class="edui-title"><%=title%></h3></div><div class="edui-modal-body"  style="<%if(width){%>width:<%=width%>px;<%}%><%if(height){%>height:<%=height%>px;<%}%>"> </div><% if(cancellabel || oklabel) {%><div class="edui-modal-footer"><div class="edui-modal-tip"></div><%if(oklabel){%><div class="edui-btn edui-btn-primary" data-ok="modal"><%=oklabel%></div><%}%><%if(cancellabel){%><div class="edui-btn" data-hide="modal"><%=cancellabel%></div><%}%></div><%}%></div>',defaultOpt:{title:"",cancellabel:"",oklabel:"",width:"",height:"",backdrop:!0,keyboard:!0},init:function(t){var e=this;e.root($($.parseTmpl(e.tpl,t||{}))),e.data("options",t),t.okFn&&e.on("ok",$.proxy(t.okFn,e)),t.cancelFn&&e.on("beforehide",$.proxy(t.cancelFn,e)),e.root().delegate('[data-hide="modal"]',"click",$.proxy(e.hide,e)).delegate('[data-ok="modal"]',"click",$.proxy(e.ok,e)),$('[data-hide="modal"],[data-ok="modal"]',e.root()).hover(function(){$(this).toggleClass("edui-hover")})},toggle:function(){var t=this;return t[t.data("isShown")?"hide":"show"]()},show:function(){var t=this;t.trigger("beforeshow"),t.data("isShown")||(t.data("isShown",!0),t.escape(),t.backdrop(function(){t.autoCenter(),t.root().show().focus().trigger("aftershow")}))},showTip:function(t){$(".edui-modal-tip",this.root()).html(t).fadeIn()},hideTip:function(t){$(".edui-modal-tip",this.root()).fadeOut(function(){$(this).html("")})},autoCenter:function(){!$.IE6&&this.root().css("margin-left",-(this.root().width()/2))},hide:function(){var t=this;t.trigger("beforehide"),t.data("isShown")&&(t.data("isShown",!1),t.escape(),t.hideModal())},escape:function(){var t=this;t.data("isShown")&&t.data("options").keyboard?t.root().on("keyup",function(e){27==e.which&&t.hide()}):t.data("isShown")||t.root().off("keyup")},hideModal:function(){var t=this;t.root().hide(),t.backdrop(function(){t.removeBackdrop(),t.trigger("afterhide")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(t){var e=this;e.data("isShown")&&e.data("options").backdrop&&(e.$backdrop=$('<div class="edui-modal-backdrop" />').click("static"==e.data("options").backdrop?$.proxy(e.root()[0].focus,e.root()[0]):$.proxy(e.hide,e))),e.trigger("afterbackdrop"),t&&t()},attachTo:function(t){var e=this;t.data("$mergeObj")||(t.data("$mergeObj",e.root()),t.on("click",function(){e.toggle(t)}),e.data("$mergeObj",t))},ok:function(){var t=this;t.trigger("beforeok"),t.trigger("ok",t)!==!1&&t.hide()},getBodyContainer:function(){return this.root().find(".edui-modal-body")}}),UM.ui.define("tooltip",{tpl:'<div class="edui-tooltip" unselectable="on" onmousedown="return false"><div class="edui-tooltip-arrow" unselectable="on" onmousedown="return false"></div><div class="edui-tooltip-inner" unselectable="on" onmousedown="return false"></div></div>',init:function(t){var e=this;e.root($($.parseTmpl(e.tpl,t||{})))},content:function(t){var e=this,n=$(t.currentTarget).attr("data-original-title");e.root().find(".edui-tooltip-inner").text(n)},position:function(t){var e=this,n=$(t.currentTarget);e.root().css($.extend({display:"block"},n?{top:n.outerHeight(),left:(n.outerWidth()-e.root().outerWidth())/2}:{}))},show:function(t){if(!$(t.currentTarget).hasClass("edui-disabled")){var e=this;e.content(t),e.root().appendTo($(t.currentTarget)),e.position(t),e.root().css("display","block")}},hide:function(){var t=this;t.root().css("display","none")},attachTo:function(t){function e(t){var e=this;$.contains(document.body,e.root()[0])||e.root().appendTo(t),e.data("tooltip",e.root()),t.each(function(){$(this).attr("data-original-title")&&$(this).on("mouseenter",$.proxy(e.show,e)).on("mouseleave click",$.proxy(e.hide,e))})}var n=this;"undefined"===$.type(t)?$("[data-original-title]").each(function(t,i){e.call(n,$(i))}):t.data("tooltip")||e.call(n,t)}}),UM.ui.define("tab",{init:function(t){var e=this,n=t.selector;$.type(n)&&(e.root($(n,t.context)),e.data("context",t.context),$(n,e.data("context")).on("click",function(t){e.show(t)}))},show:function(t){var e,n,i,t,o=this,a=$(t.target),r=a.closest("ul");e=a.attr("data-context"),e=e&&e.replace(/.*(?=#[^\s]*$)/,"");var s=a.parent("li");s.length&&!s.hasClass("edui-active")&&(n=r.find(".edui-active:last a")[0],t=$.Event("beforeshow",{target:a[0],relatedTarget:n}),o.trigger(t),t.isDefaultPrevented()||(i=$(e,o.data("context")),o.activate(a.parent("li"),r),o.activate(i,i.parent(),function(){o.trigger({type:"aftershow",relatedTarget:n})})))},activate:function(t,e,n){if(void 0===t)return $(".edui-tab-item.edui-active",this.root()).index();var i=e.find("> .edui-active");i.removeClass("edui-active"),t.addClass("edui-active"),n&&n()}}),UM.ui.define("separator",{tpl:'<div class="edui-separator" unselectable="on" onmousedown="return false" ></div>',init:function(t){var e=this;return e.root($($.parseTmpl(e.tpl,t))),e}}),function(){var t={},e={},n=[],i=null,o={},a={},r={},s=null;utils.extend(UM,{defaultWidth:500,defaultHeight:500,registerUI:function(e,n){utils.each(e.split(/\s+/),function(e){t[e]=n})},setEditor:function(t){!e[t.id]&&(e[t.id]=t)},registerWidget:function(t,e,n){o[t]=$.extend2(e,{$root:"",_preventDefault:!1,root:function(t){return this.$root||(this.$root=t)},preventDefault:function(){this._preventDefault=!0},clear:!1}),n&&(a[t]=n)},getWidgetData:function(t){return o[t]},setWidgetBody:function(t,e,n){n._widgetData||utils.extend(n,{_widgetData:{},getWidgetData:function(t){return this._widgetData[t]},getWidgetCallback:function(t){var n=this;return function(){return a[t].apply(n,[n,e].concat(Array.prototype.slice.call(arguments,0)))}}});var i=o[t];return i?(i=n._widgetData[t],i||(i=o[t],i=n._widgetData[t]="function"==$.type(i)?i:utils.clone(i)),i.root(e.edui().getBodyContainer()),i.initContent(n,e),i._preventDefault||i.initEvent(n,e),void(i.width&&e.width(i.width))):null},setActiveWidget:function(t){i=t},getEditor:function(t,n){var i=e[t]||(e[t]=this.createEditor(t,n));return s=s?Math.max(i.getOpt("zIndex"),s):i.getOpt("zIndex"),i},setTopEditor:function(t){$.each(e,function(e,n){t==n?t.$container&&t.$container.css("zIndex",s+1):n.$container&&n.$container.css("zIndex",n.getOpt("zIndex"))})},clearCache:function(t){e[t]&&delete e[t]},delEditor:function(t){var n;(n=e[t])&&n.destroy()},ready:function(t){n.push(t)},createEditor:function(t,e){function i(){var e=this.createUI("#"+t,o);o.key=t,o.ready(function(){$.each(n,function(t,e){$.proxy(e,o)()})});var i=o.options;i.initialFrameWidth?i.minFrameWidth=i.initialFrameWidth:i.minFrameWidth=i.initialFrameWidth=o.$body.width()||UM.defaultWidth,e.css({width:i.initialFrameWidth,zIndex:o.getOpt("zIndex")}),UM.browser.ie&&6===UM.browser.version&&document.execCommand("BackgroundImageCache",!1,!0),o.render(t),$.eduitooltip&&$.eduitooltip("attachTo",$("[data-original-title]",e)).css("z-index",o.getOpt("zIndex")+1),e.find("a").click(function(t){t.preventDefault()}),o.fireEvent("afteruiready")}var o=new UM.Editor(e),a=this;return o.langIsReady?$.proxy(i,a)():o.addListener("langReady",$.proxy(i,a)),o},createUI:function(e,n){var i=$(e),o=$('<div class="edui-container"><div class="edui-editor-body"></div></div>').insertBefore(i);if(n.$container=o,n.container=o[0],n.$body=i,browser.ie&&browser.ie9above){var a=$('<span style="padding:0;margin:0;height:0;width:0"></span>');a.insertAfter(o)}return $.each(t,function(t,e){var i=e.call(n,t);i&&(r[t]=i)}),o.find(".edui-editor-body").append(i).before(this.createToolbar(n.options,n)),o.find(".edui-toolbar").append($('<div class="edui-dialog-container"></div>')),o},createToolbar:function(t,e){var n=$.eduitoolbar(),i=n.edui();if(t.toolbar&&t.toolbar.length){var o=[];$.each(t.toolbar,function(t,e){$.each(e.split(/\s+/),function(t,e){if("|"==e)$.eduiseparator&&o.push($.eduiseparator());else{var n=r[e];"fullscreen"==e?n&&o.unshift(n):n&&o.push(n)}}),o.length&&i.appendToBtnmenu(o)})}else n.find(".edui-btn-toolbar").remove();return n}})}(),UM.registerUI("bold italic redo undo underline strikethrough superscript subscript insertorderedlist insertunorderedlist cleardoc selectall link unlink print preview justifyleft justifycenter justifyright justifyfull removeformat horizontal drafts",function(t){var e=this,n=$.eduibutton({icon:t,click:function(){e.execCommand(t)},title:this.getLang("labelMap")[t]||""});return this.addListener("selectionchange",function(){var e=this.queryCommandState(t);n.edui().disabled(e==-1).active(1==e)}),n}),function(){function t(t){var e=this;if(!t)throw new Error("invalid params, notfound editor");e.editor=t,r[t.uid]=this,t.addListener("destroy",function(){delete r[t.uid],e.editor=null})}var e={},n=["width","height","position","top","left","margin","padding","overflowX","overflowY"],i={},o={},a={},r={};UM.registerUI("fullscreen",function(e){var n=this,i=$.eduibutton({icon:"fullscreen",title:n.options.labelMap&&n.options.labelMap[e]||n.getLang("labelMap."+e),click:function(){n.execCommand(e),UM.setTopEditor(n)}});return n.addListener("selectionchange",function(){var t=this.queryCommandState(e);i.edui().disabled(t==-1).active(1==t)}),n.addListener("ready",function(){n.options.fullscreen&&t.getInstance(n).toggle()}),i}),UM.commands.fullscreen={execCommand:function(e){t.getInstance(this).toggle()},queryCommandState:function(t){return this._edui_fullscreen_status},notNeedUndo:1},t.prototype={toggle:function(){var t=this.editor,e=this.isFullState();t.fireEvent("beforefullscreenchange",!e),this.update(!e),e?this.revert():this.enlarge(),t.fireEvent("afterfullscreenchange",!e),"true"===t.body.contentEditable&&t.fireEvent("fullscreenchanged",!e),t.fireEvent("selectionchange")},enlarge:function(){this.saveSataus(),this.setDocumentStatus(),this.resize()},revert:function(){var t=this.editor.options,e=/%$/.test(t.initialFrameHeight)?"100%":t.initialFrameHeight-this.getStyleValue("padding-top")-this.getStyleValue("padding-bottom")-this.getStyleValue("border-width");$.IE6&&this.getEditorHolder().style.setExpression("height","this.scrollHeight <= "+e+' ? "'+e+'px" : "auto"'),this.revertContainerStatus(),this.revertContentAreaStatus(),this.revertDocumentStatus()},update:function(t){this.editor._edui_fullscreen_status=t},resize:function(){var t=null,e=0,n=0,i=0,o=0,a=this.editor,r=null,s=null;this.isFullState()&&(t=$(window),n=t.width(),e=t.height(),s=this.getEditorHolder(),i=parseInt(domUtils.getComputedStyle(s,"border-width"),10)||0,i+=parseInt(domUtils.getComputedStyle(a.container,"border-width"),10)||0,o+=parseInt(domUtils.getComputedStyle(s,"padding-left"),10)+parseInt(domUtils.getComputedStyle(s,"padding-right"),10)||0,$.IE6&&s.style.setExpression("height",null),r=this.getBound(),$(a.container).css({width:n+"px",height:e+"px",position:$.IE6?"absolute":"fixed",top:r.top,left:r.left,margin:0,padding:0,overflowX:"hidden",overflowY:"hidden"}),$(s).css({width:n-2*i-o+"px",height:e-2*i-(a.options.withoutToolbar?0:$(".edui-toolbar",a.container).outerHeight())-$(".edui-bottombar",a.container).outerHeight()+"px",overflowX:"hidden",overflowY:"auto"}))},saveSataus:function(){for(var t=this.editor.container.style,i=null,o={},a=0,r=n.length;a<r;a++)i=n[a],o[i]=t[i];e[this.editor.uid]=o,this.saveContentAreaStatus(),this.saveDocumentStatus()},saveContentAreaStatus:function(){var t=$(this.getEditorHolder());i[this.editor.uid]={width:t.css("width"),overflowX:t.css("overflowX"),overflowY:t.css("overflowY"),height:t.css("height")}},saveDocumentStatus:function(){var t=$(this.getEditorDocumentBody());o[this.editor.uid]={overflowX:t.css("overflowX"),overflowY:t.css("overflowY")},a[this.editor.uid]={overflowX:$(this.getEditorDocumentElement()).css("overflowX"),overflowY:$(this.getEditorDocumentElement()).css("overflowY")}},revertContainerStatus:function(){$(this.editor.container).css(this.getEditorStatus())},revertContentAreaStatus:function(){var t=this.getEditorHolder(),e=this.getContentAreaStatus();this.supportMin()&&(delete e.height,t.style.height=null),$(t).css(e)},revertDocumentStatus:function(){var t=this.getDocumentStatus();$(this.getEditorDocumentBody()).css("overflowX",t.body.overflowX),$(this.getEditorDocumentElement()).css("overflowY",t.html.overflowY)},setDocumentStatus:function(){$(this.getEditorDocumentBody()).css({overflowX:"hidden",overflowY:"hidden"}),$(this.getEditorDocumentElement()).css({overflowX:"hidden",overflowY:"hidden"})},isFullState:function(){return!!this.editor._edui_fullscreen_status},getEditorStatus:function(){return e[this.editor.uid]},getContentAreaStatus:function(){return i[this.editor.uid]},getEditorDocumentElement:function(){return this.editor.container.ownerDocument.documentElement},getEditorDocumentBody:function(){return this.editor.container.ownerDocument.body},getEditorHolder:function(){return this.editor.body},getDocumentStatus:function(){return{body:o[this.editor.uid],html:a[this.editor.uid]}},supportMin:function(){var t=null;return this._support||(t=document.createElement("div"),this._support="minWidth"in t.style,t=null),this._support},getBound:function(){var t={html:!0,body:!0},e={top:0,left:0},n=null;return $.IE6?(n=this.editor.container.offsetParent,n&&!t[n.nodeName.toLowerCase()]&&(t=n.getBoundingClientRect(),e.top=-t.top,e.left=-t.left),e):e},getStyleValue:function(t){return parseInt(domUtils.getComputedStyle(this.getEditorHolder(),t))}},$.extend(t,{listen:function(){var e=null;t._hasFullscreenListener||(t._hasFullscreenListener=!0,$(window).on("resize",function(){null!==e&&(window.clearTimeout(e),e=null),e=window.setTimeout(function(){for(var t in r)r[t].resize();e=null},50)}))},getInstance:function(e){return r[e.uid]||new t(e),r[e.uid]}}),t.listen()}(),UM.registerUI("link image",function(t){var e,n,i=this,o={title:i.options.labelMap&&i.options.labelMap[t]||i.getLang("labelMap."+t),url:i.options.UMEDITOR_HOME_URL+"dialogs/"+t+"/"+t+".js"},a=$.eduibutton({icon:t,title:this.getLang("labelMap")[t]||""});return utils.loadFile(document,{src:o.url,tag:"script",type:"text/javascript",defer:"defer"},function(){var r=UM.getWidgetData(t);if(r){if(r.buttons){var s=r.buttons.ok;s&&(o.oklabel=s.label||i.getLang("ok"),s.exec&&(o.okFn=function(){return $.proxy(s.exec,null,i,n)()}));var l=r.buttons.cancel;l&&(o.cancellabel=l.label||i.getLang("cancel"),l.exec&&(o.cancelFn=function(){return $.proxy(l.exec,null,i,n)()}))}r.width&&(o.width=r.width),r.height&&(o.height=r.height),n=$.eduimodal(o),n.attr("id","edui-dialog-"+t).addClass("edui-dialog-"+t).find(".edui-modal-body").addClass("edui-dialog-"+t+"-body"),n.edui().on("beforehide",function(){var t=i.selection.getRange();t.equals(e)&&t.select()}).on("beforeshow",function(){var o=this.root(),a=null,r=null;e=i.selection.getRange(),o.parent()[0]||i.$container.find(".edui-dialog-container").append(o),$.IE6&&(a={width:$(window).width(),height:$(window).height()},r=o.parents(".edui-toolbar")[0].getBoundingClientRect(),o.css({position:"absolute",margin:0,left:(a.width-o.width())/2-r.left,top:100-r.top})),UM.setWidgetBody(t,n,i),UM.setTopEditor(i)}).on("afterbackdrop",function(){this.$backdrop.css("zIndex",i.getOpt("zIndex")+1).appendTo(i.$container.find(".edui-dialog-container")),n.css("zIndex",i.getOpt("zIndex")+2)}).on("beforeok",function(){try{e.select()}catch(t){}}).attachTo(a)}}),i.addListener("selectionchange",function(){var e=this.queryCommandState(t);a.edui().disabled(e==-1).active(1==e)}),a}),UM.registerUI("imagescale",function(){var t,e=this;e.setOpt("imageScaleEnabled",!0),browser.webkit&&e.getOpt("imageScaleEnabled")&&(e.addListener("click",function(n,i){var o=e.selection.getRange(),a=o.getClosedNode(),r=i.target;if(a&&"IMG"==a.tagName&&r==a){if(!t){t=$.eduiscale({$wrap:e.$container}).css("zIndex",e.options.zIndex),e.$container.append(t);var s,l=function(){t.edui().hide()},d=function(t){var e=t.target||t.srcElement;e&&e.className.indexOf("edui-scale")==-1&&l(t)};t.edui().on("aftershow",function(){$(document).bind("keydown",l),$(document).bind("mousedown",d),e.selection.getNative().removeAllRanges()}).on("afterhide",function(){$(document).unbind("keydown",l),$(document).unbind("mousedown",d);var n=t.edui().getScaleTarget();n.parentNode&&e.selection.getRange().selectNode(n).select()}).on("mousedown",function(n){e.selection.getNative().removeAllRanges();var i=n.target||n.srcElement;i&&i.className.indexOf("edui-scale-hand")==-1&&(s=setTimeout(function(){t.edui().hide()},200))}).on("mouseup",function(t){var e=t.target||t.srcElement;e&&e.className.indexOf("edui-scale-hand")==-1&&clearTimeout(s)})}t.edui().show($(a))}else t&&"none"!=t.css("display")&&t.edui().hide()}),e.addListener("click",function(t,n){if("IMG"==n.target.tagName){var i=new dom.Range(e.document,e.body);i.selectNode(n.target).select()}}))}),UM.registerUI("autofloat",function(){var t=this,e=t.getLang();t.setOpt({autoFloatEnabled:!0,topOffset:0});var n=t.options.autoFloatEnabled!==!1,i=t.options.topOffset;n&&t.ready(function(){function n(){return UM.ui?1:(alert(e.autofloatMsg),0)}function o(){var t=document.body.style;t.backgroundImage='url("about:blank")',t.backgroundAttachment="fixed"}function a(){if(!m){var e=domUtils.getXY(d),n=domUtils.getComputedStyle(d,"position"),o=domUtils.getComputedStyle(d,"left");d.style.width=d.offsetWidth+"px",d.style.zIndex=1*t.options.zIndex+1,d.parentNode.insertBefore(p,d),u||h&&browser.ie?("absolute"!=d.style.position&&(d.style.position="absolute"),d.style.top=(document.body.scrollTop||document.documentElement.scrollTop)-c+i+"px"):"fixed"!=d.style.position&&(d.style.position="fixed",d.style.top=i+"px",("absolute"==n||"relative"==n)&&parseFloat(o)&&(d.style.left=e.x+"px"))}}function r(){p.parentNode&&p.parentNode.removeChild(p),d.style.cssText=l}function s(){var e=f(t.container),n=t.options.toolbarTopOffset||0;e.top<0&&e.bottom-d.offsetHeight>n?a():r()}var l,d,c,u=browser.ie&&browser.version<=6,h=browser.quirks,p=document.createElement("div"),f=function(t){var e;try{e=t.getBoundingClientRect()}catch(n){e={left:0,top:0,height:0,width:0}}for(var i,o={left:Math.round(e.left),top:Math.round(e.top),height:Math.round(e.bottom-e.top),width:Math.round(e.right-e.left)};(i=t.ownerDocument)!==document&&(t=domUtils.getWindow(i).frameElement);)e=t.getBoundingClientRect(),o.left+=e.left,o.top+=e.top;return o.bottom=o.top+o.height,o.right=o.left+o.width,o},m=!1,g=utils.defer(function(){s()},browser.ie?200:100,!0);t.addListener("destroy",function(){$(window).off("scroll resize",s),t.removeListener("keydown",g)}),n(t)&&(d=$(".edui-toolbar",t.container)[0],t.addListener("afteruiready",function(){setTimeout(function(){c=$(d).offset().top},100)}),l=d.style.cssText,p.style.height=d.offsetHeight+"px",u&&o(),$(window).on("scroll resize",s),t.addListener("keydown",g),t.addListener("resize",function(){r(),p.style.height=d.offsetHeight+"px",s()}),t.addListener("beforefullscreenchange",function(t,e){e&&(r(),m=e)}),t.addListener("fullscreenchanged",function(t,e){e||s(),m=e}),t.addListener("sourcemodechanged",function(t,e){setTimeout(function(){s()},0)}),t.addListener("clearDoc",function(){setTimeout(function(){s()},0)}))})}),UM.registerUI("source",function(t){var e=this;e.addListener("fullscreenchanged",function(){e.$container.find("textarea").width(e.$body.width()-10).height(e.$body.height())});var n=$.eduibutton({icon:t,click:function(){e.execCommand(t),UM.setTopEditor(e)},title:this.getLang("labelMap")[t]||""});return this.addListener("selectionchange",function(){var e=this.queryCommandState(t);n.edui().disabled(e==-1).active(1==e)}),n}),UM.registerUI("paragraph fontfamily fontsize",function(t){function e(t,n){var i=$("<span>").html(t).css({display:"inline",position:"absolute",top:-1e7,left:-1e5}).appendTo(document.body),o=i.width();return i.remove(),i=null,o<50?t:(t=t.slice(0,n?-4:-1),t.length?e(t+"...",!0):"...")}function n(t){var n=[];for(var i in t.items)t.value.push(i),n.push(i),t.autowidthitem.push(e(i));return t.items=n,t.autoRecord=!1,t}function i(t){for(var n=null,i=[],o=0,a=t.items.length;o<a;o++)n=t.items[o].val,i.push(n.split(/\s*,\s*/)[0]),t.itemStyles.push("font-family: "+n),t.value.push(n),t.autowidthitem.push(e(i[o]));return t.items=i,t}function o(t){var e=null,n=[];t.itemStyles=[],t.value=[];for(var i=0,o=t.items.length;i<o;i++)e=t.items[i],n.push(e),t.itemStyles.push("font-size: "+e+"px");return t.value=t.items,t.items=n,t.autoRecord=!1,t}var a=this,r=a.options.labelMap&&a.options.labelMap[t]||a.getLang("labelMap."+t),s={label:r,title:r,comboboxName:t,items:a.options[t]||[],itemStyles:[],value:[],autowidthitem:[]},l=null,d=null;if(0==s.items.length)return null;switch(t){case"paragraph":s=n(s);break;case"fontfamily":s=i(s);break;case"fontsize":s=o(s)}return l=$.eduibuttoncombobox(s).css("zIndex",a.getOpt("zIndex")+1),d=l.edui(),d.on("comboboxselect",function(e,n){a.execCommand(t,n.value)}).on("beforeshow",function(){0===l.parent().length&&l.appendTo(a.$container.find(".edui-dialog-container")),UM.setTopEditor(a)}),this.addListener("selectionchange",function(e){var n=this.queryCommandState(t),i=this.queryCommandValue(t);d.button().edui().disabled(n==-1).active(1==n),i&&(i=i.replace(/['"]/g,"").toLowerCase().split(/['|"]?\s*,\s*[\1]?/),d.selectItemByLabel(i))}),d.button().addClass("edui-combobox")}),UM.registerUI("forecolor backcolor",function(t){function e(){return domUtils.getComputedStyle(o[0],"background-color")}var n=this,i=null,o=null,a=null;return this.addListener("selectionchange",function(){var e=this.queryCommandState(t);a.edui().disabled(e==-1).active(1==e)}),a=$.eduicolorsplitbutton({icon:t,caret:!0,name:t,title:n.getLang("labelMap")[t],click:function(){n.execCommand(t,e())}}),o=a.edui().colorLabel(),i=$.eduicolorpicker({name:t,lang_clearColor:n.getLang("clearColor")||"",lang_themeColor:n.getLang("themeColor")||"",lang_standardColor:n.getLang("standardColor")||""}).on("pickcolor",function(e,i){window.setTimeout(function(){o.css("backgroundColor",i),n.execCommand(t,i)},0)}).on("show",function(){UM.setActiveWidget(colorPickerWidget.root())}).css("zIndex",n.getOpt("zIndex")+1),a.edui().on("arrowclick",function(){i.parent().length||n.$container.find(".edui-dialog-container").append(i),i.edui().show(a,{caretDir:"down",offsetTop:-5,offsetLeft:8,caretLeft:11,caretTop:-8}),UM.setTopEditor(n)}).register("click",a,function(){i.edui().hide()}),a})}(jQuery),UM.I18N["zh-cn"]={labelMap:{anchor:"锚点",undo:"撤销",redo:"重做",bold:"加粗",indent:"首行缩进",snapscreen:"截图",italic:"斜体",underline:"下划线",strikethrough:"删除线",subscript:"下标",fontborder:"字符边框",superscript:"上标",formatmatch:"格式刷",source:"源代码",blockquote:"引用",pasteplain:"纯文本粘贴模式",selectall:"全选",print:"打印",preview:"预览",horizontal:"分隔线",removeformat:"清除格式",time:"时间",date:"日期",unlink:"取消链接",insertrow:"前插入行",insertcol:"前插入列",mergeright:"右合并单元格",mergedown:"下合并单元格",deleterow:"删除行",deletecol:"删除列",splittorows:"拆分成行",splittocols:"拆分成列",splittocells:"完全拆分单元格",mergecells:"合并多个单元格",deletetable:"删除表格",cleardoc:"清空文档",insertparagraphbeforetable:"表格前插入行",insertcode:"代码语言",fontfamily:"字体",fontsize:"字号",paragraph:"段落格式",image:"图片",edittable:"表格属性",edittd:"单元格属性",link:"超链接",emotion:"表情",spechars:"特殊字符",searchreplace:"查询替换",map:"百度地图",gmap:"Google地图",video:"视频",help:"帮助",justifyleft:"居左对齐",justifyright:"居右对齐",justifycenter:"居中对齐",justifyjustify:"两端对齐",forecolor:"字体颜色",backcolor:"背景色",insertorderedlist:"有序列表",insertunorderedlist:"无序列表",fullscreen:"全屏",directionalityltr:"从左向右输入",directionalityrtl:"从右向左输入",rowspacingtop:"段前距",rowspacingbottom:"段后距",highlightcode:"插入代码",pagebreak:"分页",insertframe:"插入Iframe",imagenone:"默认",imageleft:"左浮动",imageright:"右浮动",attachment:"附件",imagecenter:"居中",wordimage:"图片转存",lineheight:"行间距",edittip:"编辑提示",customstyle:"自定义标题",autotypeset:"自动排版",webapp:"百度应用",touppercase:"字母大写",tolowercase:"字母小写",background:"背景",template:"模板",scrawl:"涂鸦",music:"音乐",inserttable:"插入表格",drafts:"草稿箱",formula:"数学公式"},paragraph:{p:"段落",h1:"标题 1",h2:"标题 2",h3:"标题 3",h4:"标题 4",h5:"标题 5",h6:"标题 6"},fontfamily:{songti:"宋体",kaiti:"楷体",heiti:"黑体",lishu:"隶书",yahei:"微软雅黑",andaleMono:"andale mono",arial:"arial",arialBlack:"arial black",comicSansMs:"comic sans ms",impact:"impact",timesNewRoman:"times new roman"},ok:"确认",cancel:"取消",closeDialog:"关闭对话框",tableDrag:"表格拖动必须引入uiUtils.js文件！",autofloatMsg:"工具栏浮动依赖编辑器UI，您首先需要引入UI文件!",anthorMsg:"链接",clearColor:"清空颜色",standardColor:"标准颜色",themeColor:"主题颜色",property:"属性","default":"默认",modify:"修改",justifyleft:"左对齐",justifyright:"右对齐",justifycenter:"居中",justify:"默认",clear:"清除",anchorMsg:"锚点","delete":"删除",clickToUpload:"点击上传",unset:"尚未设置语言文件",t_row:"行",t_col:"列",more:"更多",pasteOpt:"粘贴选项",pasteSourceFormat:"保留源格式",tagFormat:"只保留标签",pasteTextFormat:"只保留文本",image:{"static":{lang_tab_local:"本地上传",lang_tab_imgSearch:"网络图片",lang_input_dragTip:"支持图片拖拽上传",lang_btn_add:"添加"},uploadError:"上传出错"},emotion:{"static":{lang_input_choice:"精选",lang_input_Tuzki:"兔斯基",lang_input_BOBO:"BOBO",lang_input_lvdouwa:"绿豆蛙",lang_input_babyCat:"baby猫",lang_input_bubble:"泡泡",lang_input_youa:"有啊"}},gmap:{"static":{lang_input_address:"地址",lang_input_search:"搜索",address:{value:"北京"}},searchError:"无法定位到该地址!"},link:{"static":{lang_input_text:"文本内容：",lang_input_url:"链接地址：",lang_input_title:"标题：",lang_input_target:"是否在新窗口打开："},validLink:"只支持选中一个链接时生效",httpPrompt:"您输入的超链接中不包含http等协议名称，默认将为您添加http://前缀"},map:{"static":{lang_city:"城市",lang_address:"地址",city:{value:"北京"},lang_search:"搜索",lang_dynamicmap:"插入动态地图"},cityMsg:"请选择城市",errorMsg:"抱歉，找不到该位置！"},video:{"static":{lang_tab_insertV:"插入视频",lang_video_url:"视频网址",lang_video_size:"视频尺寸",lang_videoW:"宽度",lang_videoH:"高度",lang_alignment:"对齐方式",videoSearchTxt:{value:"请输入搜索关键字！"},videoType:{options:["全部","热门","娱乐","搞笑","体育","科技","综艺"]},videoSearchBtn:{value:"百度一下"},videoSearchReset:{value:"清空结果"}},numError:"请输入正确的数值，如123,400",floatLeft:"左浮动",floatRight:"右浮动","default":"默认",block:"独占一行",urlError:"输入的视频地址有误，请检查后再试！",loading:" &nbsp;视频加载中，请等待……",clickToSelect:"点击选中",goToSource:"访问源视频",noVideo:" &nbsp; &nbsp;抱歉，找不到对应的视频，请重试！"},formula:{"static":{lang_tab_common:"常用公式",lang_tab_symbol:"符号",lang_tab_letter:"字母"}}},function(t){t.fn.ajaxfileupload=function(e){var n={params:{},action:"",onStart:function(){},onComplete:function(t){},onCancel:function(){},validate_extensions:!0,valid_extensions:["gif","png","jpg","jpeg"],submit_button:null},i=!1;return e&&t.extend(n,e),this.each(function(){var e=t(this);if(e.data("ajaxUploader-setup")!==!0){e.change(function(){i=!1,null==n.submit_button&&o()}),null==n.submit_button||n.submit_button.click(function(t){t.preventDefault(),i||o()});var o=function(){if(""==e.val())return n.onCancel.apply(e,[n.params]);var o=e.val().split(".").pop().toLowerCase();if(!0===n.validate_extensions&&t.inArray(o,n.valid_extensions)==-1)n.onComplete.apply(e,[{status:!1,message:"The select file type is invalid. File must be "+n.valid_extensions.join(", ")+"."},n.params]);else{i=!0,r(e);var a=n.onStart.apply(e,[n.params]);a!==!1?e.parent("form").submit(function(t){t.stopPropagation()}).submit():i=!1}};e.data("ajaxUploader-setup",!0);var a=function(e,o){var a,r=t(e).contents().text();try{a=JSON.parse(r)}catch(s){a=r}o.siblings().remove(),o.unwrap(),i=!1,n.onComplete.apply(o,[a,n.params])},r=function(e){var i="ajaxUploader-iframe-"+Math.round((new Date).getTime()/1e3);t("body").after('<iframe width="0" height="0" style="display:none;" name="'+i+'" id="'+i+'"/>'),t("#"+i).get(0).onload=function(){a(this,e)},e.wrap(function(){return'<form action="'+n.action+'" method="POST" enctype="multipart/form-data" target="'+i+'" />'}).before(function(){var t,e="";for(t in n.params){var i=n.params[t];"function"==typeof i&&(i=i()),e+='<input type="hidden" name="'+t+'" value="'+i+'" />'}return e})}}})}}(jQuery),function(t){function e(e,n,s){var l,u,h,p=this;return n=n||{},h=t.extend(!0,{async:!0,overwriteCache:!1,complete:null,success:null,error:function(){t(this).each(function(){t(this).html(h.errorMessage)})},errorMessage:"There was an error loading the template.",paged:!1,pageNo:1,elemPerPage:10,append:!1,prepend:!1,
beforeInsert:null,afterInsert:null,bindingOptions:{ignoreUndefined:!1,ignoreNull:!1,ignoreEmptyString:!1}},s),"array"===t.type(n)?o.call(this,e,n,h):(i(e)||(l=t(e),"string"==typeof e&&0===e.indexOf("#")&&(h.isFile=!1)),u=h.isFile||"undefined"==typeof h.isFile&&("undefined"==typeof l||0===l.length),u&&!h.overwriteCache&&C[e]?r(e,p,n,h):u&&!h.overwriteCache&&C.hasOwnProperty(e)?a(e,p,n,h):u?d(e,p,n,h):c(l,p,n,h),this)}function n(e,n){n?_[e]=n:_=t.extend(_,e)}function i(t){return"string"==typeof t&&t.indexOf("/")>-1}function o(n,i,o){o=o||{};var a,r=this,s=i.length,l=o.prepend&&!o.append,d=0,c=0,u=!1;if(o.paged){var h=(o.pageNo-1)*o.elemPerPage;i=i.slice(h,h+o.elemPerPage),s=i.length}return a=t.extend({},o,{complete:function(){this.html&&(l?r.prepend(this.html()):r.append(this.html())),d++,(d===s||u)&&(u&&o&&"function"==typeof o.error&&o.error.call(r),o&&"function"==typeof o.complete&&o.complete())},success:function(){c++,c===s&&o&&"function"==typeof o.success&&o.success()},error:function(){u=!0}}),o.append||o.prepend||r.html(""),l&&i.reverse(),t(i).each(function(){var i=t("<div/>");if(e.call(i,n,this,a),u)return!1}),this}function a(t,e,n,i){k[t]?k[t].push({data:n,selection:e,settings:i}):k[t]=[{data:n,selection:e,settings:i}]}function r(t,e,n,i){var o=C[t].clone();u.call(e,o,n,i),"function"==typeof i.success&&i.success()}function s(){return(new Date).getTime()}function l(t){return t.indexOf("?")!==-1?t+"&_="+s():t+"?_="+s()}function d(e,n,i,o){var a=t("<div/>");C[e]=null;var r=e;o.overwriteCache&&(r=l(r)),t.ajax({url:r,async:o.async,success:function(t){a.html(t),p(a,e,n,i,o)},error:function(){h(e,n,i,o)}})}function c(e,n,i,o){var a=t("<div/>");(e.is("script")||e.is("template"))&&(e=t.parseHTML(t.trim(e.html()))),a.html(e),u.call(n,a,i,o),"function"==typeof o.success&&o.success()}function u(e,n,i){f(e,n,i),t(this).each(function(){var n=t(e.html());i.beforeInsert&&i.beforeInsert(n),i.append?t(this).append(n):i.prepend?t(this).prepend(n):t(this).html(n),i.afterInsert&&i.afterInsert(n)}),"function"==typeof i.complete&&i.complete.call(t(this))}function h(e,n,i,o){var a;for("function"==typeof o.error&&o.error.call(n),t(k[e]).each(function(t,e){"function"==typeof e.settings.error&&e.settings.error.call(e.selection)}),"function"==typeof o.complete&&o.complete.call(n);k[e]&&(a=k[e].shift());)"function"==typeof a.settings.complete&&a.settings.complete.call(a.selection);"undefined"!=typeof k[e]&&k[e].length>0&&(k[e]=[])}function p(t,e,n,i,o){var a;for(C[e]=t.clone(),u.call(n,t,i,o),"function"==typeof o.success&&o.success.call(n);k[e]&&(a=k[e].shift());)u.call(a.selection,C[e].clone(),a.data,a.settings),"function"==typeof a.settings.success&&a.settings.success.call(a.selection)}function f(e,n,i){n=n||{},m("data-content",e,n,i,function(t,e){t.html(x(t,e,"content",i))}),m("data-content-append",e,n,i,function(t,e){t.append(x(t,e,"content",i))}),m("data-content-prepend",e,n,i,function(t,e){t.prepend(x(t,e,"content",i))}),m("data-content-text",e,n,i,function(t,e){t.text(x(t,e,"content",i))}),m("data-src",e,n,i,function(t,e){t.attr("src",x(t,e,"src",i))},function(t){t.remove()}),m("data-href",e,n,i,function(t,e){t.attr("href",x(t,e,"href",i))},function(t){t.remove()}),m("data-alt",e,n,i,function(t,e){t.attr("alt",x(t,e,"alt",i))}),m("data-id",e,n,i,function(t,e){t.attr("id",x(t,e,"id",i))}),m("data-value",e,n,i,function(t,e){t.attr("value",x(t,e,"value",i))}),m("data-link",e,n,i,function(e,n){var o=t("<a/>");o.attr("href",x(e,n,"link",i)),o.html(e.html()),e.html(o)}),m("data-link-wrap",e,n,i,function(e,n){var o=t("<a/>");o.attr("href",x(e,n,"link-wrap",i)),e.wrap(o)}),m("data-options",e,n,i,function(e,n){t(n).each(function(){var n=t("<option/>");n.attr("value",this).text(this).appendTo(e)})}),b(e,n,i)}function m(e,n,i,o,a,r){t("["+e+"]",n).each(function(){var n=t(this),s=n.attr(e),l=w(i,s);return g(n,l,o)?(n.removeAttr(e),void("undefined"!=typeof l&&a?a(n,l):r&&r(n))):void n.remove()})}function g(t,e,n){var i=v(t,n);return(!i.ignoreUndefined||"undefined"!=typeof e)&&((!i.ignoreNull||null!==e)&&(!i.ignoreEmptyString||""!==e))}function v(e,n){var i={};return e instanceof jQuery&&e.attr("data-binding-options")?(i=t.parseJSON(e.attr("data-binding-options")),e.removeAttr("data-binding-options")):"object"==typeof e&&e.hasOwnProperty("bindingOptions")&&(i=e.bindingOptions),t.extend({},n.bindingOptions,i)}function b(e,n,i){t("[data-template-bind]",e).each(function(){var e=t(this),o=t.parseJSON(e.attr("data-template-bind"));e.removeAttr("data-template-bind"),t(o).each(function(){var o;if(o="object"==typeof this.value?w(n,this.value.data):w(n,this.value),this.attribute){if(!g(this,o,i))return void e.remove();switch(this.attribute){case"content":e.html(y(e,o,this));break;case"contentAppend":e.append(y(e,o,this));break;case"contentPrepend":e.prepend(y(e,o,this));break;case"contentText":e.text(y(e,o,this));break;case"options":var a=this;t(o).each(function(){var n=t("<option/>");n.attr("value",this[a.value.value]).text(y(e,this[a.value.content],a)).attr("selected",void 0!=typeof this[a.value.selected]&&this[a.value.selected]).appendTo(e)});break;default:e.attr(this.attribute,y(e,o,this))}}})})}function y(t,e,n,i){return n.formatter&&_[n.formatter]?function(i){return _[n.formatter].call(t,e,n.formatOptions,i)}(i):e}function w(t,e){if("this"===e)return t;for(var n,i=e.split("."),o=t;(n=i.shift())&&"undefined"!=typeof o&&null!=o;)o=o[n];return o}function x(e,n,i,o){var a,r=e.attr("data-format-target");if((r===i||!r&&"content"===i)&&(a=e.attr("data-format"),a&&"function"==typeof _[a])){var s=e.attr("data-format-options");return function(i){return _[a].call(e[0],n,s,t.extend({},i))}(o)}return n}var C={},k={},_={};n("nestedTemplateFormatter",function(e,n,i){if(n){"string"==typeof n&&"{"===n[0]&&(n=t.parseJSON(n));var o=n.parentElement||"div",a=n.template||n;return n.parentElement?t("<"+o+"/>").loadTemplate(a,e,i):t("<"+o+"/>").loadTemplate(a,e,i).children()}}),t.fn.loadTemplate=e,t.addTemplateFormatter=n}(jQuery),!function(t){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],t);else if("object"==typeof exports)t(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";t(jQuery,moment)}}(function(t,e){"use strict";if(!e)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var n=function(n,i){var o,a,r,s,l,d,c,u={},h=!0,p=!1,f=!1,m=0,g=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],v=["days","months","years","decades"],b=["top","bottom","auto"],y=["left","right","auto"],w=["default","top","bottom"],x={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},C={},k=function(){return void 0!==e.tz&&void 0!==i.timeZone&&null!==i.timeZone&&""!==i.timeZone},_=function(t){var n;return n=void 0===t||null===t?e():k()?e.tz(t,d,i.useStrict,i.timeZone):e(t,d,i.useStrict),k()&&n.tz(i.timeZone),n},T=function(t){if("string"!=typeof t||t.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(t){case"y":return-1!==l.indexOf("Y");case"M":return-1!==l.indexOf("M");case"d":return-1!==l.toLowerCase().indexOf("d");case"h":case"H":return-1!==l.toLowerCase().indexOf("h");case"m":return-1!==l.indexOf("m");case"s":return-1!==l.indexOf("s");default:return!1}},S=function(){return T("h")||T("m")||T("s")},N=function(){return T("y")||T("M")||T("d")},$=function(){var e=t("<thead>").append(t("<tr>").append(t("<th>").addClass("prev").attr("data-action","previous").append(t("<span>").addClass(i.icons.previous))).append(t("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",i.calendarWeeks?"6":"5")).append(t("<th>").addClass("next").attr("data-action","next").append(t("<span>").addClass(i.icons.next)))),n=t("<tbody>").append(t("<tr>").append(t("<td>").attr("colspan",i.calendarWeeks?"8":"7")));return[t("<div>").addClass("datepicker-days").append(t("<table>").addClass("table-condensed").append(e).append(t("<tbody>"))),t("<div>").addClass("datepicker-months").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone())),t("<div>").addClass("datepicker-years").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone())),t("<div>").addClass("datepicker-decades").append(t("<table>").addClass("table-condensed").append(e.clone()).append(n.clone()))]},E=function(){var e=t("<tr>"),n=t("<tr>"),o=t("<tr>");return T("h")&&(e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(t("<span>").addClass(i.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:i.tooltips.pickHour}).attr("data-action","showHours"))),o.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(t("<span>").addClass(i.icons.down))))),T("m")&&(T("h")&&(e.append(t("<td>").addClass("separator")),n.append(t("<td>").addClass("separator").html(":")),o.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(t("<span>").addClass(i.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:i.tooltips.pickMinute}).attr("data-action","showMinutes"))),o.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(t("<span>").addClass(i.icons.down))))),T("s")&&(T("m")&&(e.append(t("<td>").addClass("separator")),n.append(t("<td>").addClass("separator").html(":")),o.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(t("<span>").addClass(i.icons.up)))),n.append(t("<td>").append(t("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:i.tooltips.pickSecond}).attr("data-action","showSeconds"))),o.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:i.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(t("<span>").addClass(i.icons.down))))),s||(e.append(t("<td>").addClass("separator")),n.append(t("<td>").append(t("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:i.tooltips.togglePeriod}))),o.append(t("<td>").addClass("separator"))),t("<div>").addClass("timepicker-picker").append(t("<table>").addClass("table-condensed").append([e,n,o]))},M=function(){var e=t("<div>").addClass("timepicker-hours").append(t("<table>").addClass("table-condensed")),n=t("<div>").addClass("timepicker-minutes").append(t("<table>").addClass("table-condensed")),i=t("<div>").addClass("timepicker-seconds").append(t("<table>").addClass("table-condensed")),o=[E()];return T("h")&&o.push(e),T("m")&&o.push(n),T("s")&&o.push(i),o},D=function(){var e=[];return i.showTodayButton&&e.push(t("<td>").append(t("<a>").attr({"data-action":"today",title:i.tooltips.today}).append(t("<span>").addClass(i.icons.today)))),!i.sideBySide&&N()&&S()&&e.push(t("<td>").append(t("<a>").attr({"data-action":"togglePicker",title:i.tooltips.selectTime}).append(t("<span>").addClass(i.icons.time)))),i.showClear&&e.push(t("<td>").append(t("<a>").attr({"data-action":"clear",title:i.tooltips.clear}).append(t("<span>").addClass(i.icons.clear)))),i.showClose&&e.push(t("<td>").append(t("<a>").attr({"data-action":"close",title:i.tooltips.close}).append(t("<span>").addClass(i.icons.close)))),t("<table>").addClass("table-condensed").append(t("<tbody>").append(t("<tr>").append(e)))},O=function(){var e=t("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),n=t("<div>").addClass("datepicker").append($()),o=t("<div>").addClass("timepicker").append(M()),a=t("<ul>").addClass("list-unstyled"),r=t("<li>").addClass("picker-switch"+(i.collapse?" accordion-toggle":"")).append(D());return i.inline&&e.removeClass("dropdown-menu"),s&&e.addClass("usetwentyfour"),T("s")&&!s&&e.addClass("wider"),i.sideBySide&&N()&&S()?(e.addClass("timepicker-sbs"),"top"===i.toolbarPlacement&&e.append(r),e.append(t("<div>").addClass("row").append(n.addClass("col-md-6")).append(o.addClass("col-md-6"))),"bottom"===i.toolbarPlacement&&e.append(r),e):("top"===i.toolbarPlacement&&a.append(r),N()&&a.append(t("<li>").addClass(i.collapse&&S()?"collapse in":"").append(n)),"default"===i.toolbarPlacement&&a.append(r),S()&&a.append(t("<li>").addClass(i.collapse&&N()?"collapse":"").append(o)),"bottom"===i.toolbarPlacement&&a.append(r),e.append(a))},A=function(){var e,o={};return e=n.is("input")||i.inline?n.data():n.find("input").data(),e.dateOptions&&e.dateOptions instanceof Object&&(o=t.extend(!0,o,e.dateOptions)),t.each(i,function(t){var n="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0!==e[n]&&(o[t]=e[n])}),o},P=function(){var e,o=(p||n).position(),a=(p||n).offset(),r=i.widgetPositioning.vertical,s=i.widgetPositioning.horizontal;if(i.widgetParent)e=i.widgetParent.append(f);else if(n.is("input"))e=n.after(f).parent();else{if(i.inline)return void(e=n.append(f));e=n,n.children().first().after(f)}if("auto"===r&&(r=a.top+1.5*f.height()>=t(window).height()+t(window).scrollTop()&&f.height()+n.outerHeight()<a.top?"top":"bottom"),"auto"===s&&(s=e.width()<a.left+f.outerWidth()/2&&a.left+f.outerWidth()>t(window).width()?"right":"left"),"top"===r?f.addClass("top").removeClass("bottom"):f.addClass("bottom").removeClass("top"),"right"===s?f.addClass("pull-right"):f.removeClass("pull-right"),"relative"!==e.css("position")&&(e=e.parents().filter(function(){return"relative"===t(this).css("position")}).first()),0===e.length)throw new Error("datetimepicker component should be placed within a relative positioned container");f.css({top:"top"===r?"auto":o.top+n.outerHeight(),bottom:"top"===r?e.outerHeight()-(e===n?0:o.top):"auto",left:"left"===s?e===n?0:o.left:"auto",right:"left"===s?"auto":e.outerWidth()-n.outerWidth()-(e===n?0:o.left)})},R=function(t){"dp.change"===t.type&&(t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate)||n.trigger(t)},L=function(t){"y"===t&&(t="YYYY"),R({type:"dp.update",change:t,viewDate:a.clone()})},U=function(t){f&&(t&&(c=Math.max(m,Math.min(3,c+t))),f.find(".datepicker > div").hide().filter(".datepicker-"+g[c].clsName).show())},I=function(){var e=t("<tr>"),n=a.clone().startOf("w").startOf("d");for(i.calendarWeeks===!0&&e.append(t("<th>").addClass("cw").text("#"));n.isBefore(a.clone().endOf("w"));)e.append(t("<th>").addClass("dow").text(n.format("dd"))),n.add(1,"d");f.find(".datepicker-days thead").append(e)},j=function(t){return i.disabledDates[t.format("YYYY-MM-DD")]===!0},F=function(t){return i.enabledDates[t.format("YYYY-MM-DD")]===!0},H=function(t){return i.disabledHours[t.format("H")]===!0},B=function(t){return i.enabledHours[t.format("H")]===!0},q=function(e,n){if(!e.isValid())return!1;if(i.disabledDates&&"d"===n&&j(e))return!1;if(i.enabledDates&&"d"===n&&!F(e))return!1;if(i.minDate&&e.isBefore(i.minDate,n))return!1;if(i.maxDate&&e.isAfter(i.maxDate,n))return!1;if(i.daysOfWeekDisabled&&"d"===n&&-1!==i.daysOfWeekDisabled.indexOf(e.day()))return!1;if(i.disabledHours&&("h"===n||"m"===n||"s"===n)&&H(e))return!1;if(i.enabledHours&&("h"===n||"m"===n||"s"===n)&&!B(e))return!1;if(i.disabledTimeIntervals&&("h"===n||"m"===n||"s"===n)){var o=!1;if(t.each(i.disabledTimeIntervals,function(){return e.isBetween(this[0],this[1])?(o=!0,!1):void 0}),o)return!1}return!0},W=function(){for(var e=[],n=a.clone().startOf("y").startOf("d");n.isSame(a,"y");)e.push(t("<span>").attr("data-action","selectMonth").addClass("month").text(n.format("MMM"))),n.add(1,"M");f.find(".datepicker-months td").empty().append(e)},Y=function(){var e=f.find(".datepicker-months"),n=e.find("th"),r=e.find("tbody").find("span");n.eq(0).find("span").attr("title",i.tooltips.prevYear),n.eq(1).attr("title",i.tooltips.selectYear),n.eq(2).find("span").attr("title",i.tooltips.nextYear),e.find(".disabled").removeClass("disabled"),q(a.clone().subtract(1,"y"),"y")||n.eq(0).addClass("disabled"),n.eq(1).text(a.year()),q(a.clone().add(1,"y"),"y")||n.eq(2).addClass("disabled"),r.removeClass("active"),o.isSame(a,"y")&&!h&&r.eq(o.month()).addClass("active"),r.each(function(e){q(a.clone().month(e),"M")||t(this).addClass("disabled")})},z=function(){var t=f.find(".datepicker-years"),e=t.find("th"),n=a.clone().subtract(5,"y"),r=a.clone().add(6,"y"),s="";for(e.eq(0).find("span").attr("title",i.tooltips.prevDecade),e.eq(1).attr("title",i.tooltips.selectDecade),e.eq(2).find("span").attr("title",i.tooltips.nextDecade),t.find(".disabled").removeClass("disabled"),i.minDate&&i.minDate.isAfter(n,"y")&&e.eq(0).addClass("disabled"),e.eq(1).text(n.year()+"-"+r.year()),i.maxDate&&i.maxDate.isBefore(r,"y")&&e.eq(2).addClass("disabled");!n.isAfter(r,"y");)s+='<span data-action="selectYear" class="year'+(n.isSame(o,"y")&&!h?" active":"")+(q(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");t.find("td").html(s)},V=function(){var t,n=f.find(".datepicker-decades"),r=n.find("th"),s=e({y:a.year()-a.year()%100-1}),l=s.clone().add(100,"y"),d=s.clone(),c=!1,u=!1,h="";for(r.eq(0).find("span").attr("title",i.tooltips.prevCentury),r.eq(2).find("span").attr("title",i.tooltips.nextCentury),n.find(".disabled").removeClass("disabled"),(s.isSame(e({y:1900}))||i.minDate&&i.minDate.isAfter(s,"y"))&&r.eq(0).addClass("disabled"),r.eq(1).text(s.year()+"-"+l.year()),(s.isSame(e({y:2e3}))||i.maxDate&&i.maxDate.isBefore(l,"y"))&&r.eq(2).addClass("disabled");!s.isAfter(l,"y");)t=s.year()+12,c=i.minDate&&i.minDate.isAfter(s,"y")&&i.minDate.year()<=t,u=i.maxDate&&i.maxDate.isAfter(s,"y")&&i.maxDate.year()<=t,h+='<span data-action="selectDecade" class="decade'+(o.isAfter(s)&&o.year()<=t?" active":"")+(q(s,"y")||c||u?"":" disabled")+'" data-selection="'+(s.year()+6)+'">'+(s.year()+1)+" - "+(s.year()+12)+"</span>",s.add(12,"y");h+="<span></span><span></span><span></span>",n.find("td").html(h),r.eq(1).text(d.year()+1+"-"+s.year())},K=function(){var e,n,r,s,l=f.find(".datepicker-days"),d=l.find("th"),c=[];if(N()){for(d.eq(0).find("span").attr("title",i.tooltips.prevMonth),d.eq(1).attr("title",i.tooltips.selectMonth),d.eq(2).find("span").attr("title",i.tooltips.nextMonth),l.find(".disabled").removeClass("disabled"),d.eq(1).text(a.format(i.dayViewHeaderFormat)),q(a.clone().subtract(1,"M"),"M")||d.eq(0).addClass("disabled"),q(a.clone().add(1,"M"),"M")||d.eq(2).addClass("disabled"),e=a.clone().startOf("M").startOf("w").startOf("d"),s=0;42>s;s++)0===e.weekday()&&(n=t("<tr>"),i.calendarWeeks&&n.append('<td class="cw">'+e.week()+"</td>"),c.push(n)),r="",e.isBefore(a,"M")&&(r+=" old"),e.isAfter(a,"M")&&(r+=" new"),e.isSame(o,"d")&&!h&&(r+=" active"),q(e,"d")||(r+=" disabled"),e.isSame(_(),"d")&&(r+=" today"),0!==e.day()&&6!==e.day()||(r+=" weekend"),n.append('<td data-action="selectDay" data-day="'+e.format("L")+'" class="day'+r+'">'+e.date()+"</td>"),e.add(1,"d");l.find("tbody").empty().append(c),Y(),z(),V()}},G=function(){var e=f.find(".timepicker-hours table"),n=a.clone().startOf("d"),i=[],o=t("<tr>");for(a.hour()>11&&!s&&n.hour(12);n.isSame(a,"d")&&(s||a.hour()<12&&n.hour()<12||a.hour()>11);)n.hour()%4===0&&(o=t("<tr>"),i.push(o)),o.append('<td data-action="selectHour" class="hour'+(q(n,"h")?"":" disabled")+'">'+n.format(s?"HH":"hh")+"</td>"),n.add(1,"h");e.empty().append(i)},X=function(){for(var e=f.find(".timepicker-minutes table"),n=a.clone().startOf("h"),o=[],r=t("<tr>"),s=1===i.stepping?5:i.stepping;a.isSame(n,"h");)n.minute()%(4*s)===0&&(r=t("<tr>"),o.push(r)),r.append('<td data-action="selectMinute" class="minute'+(q(n,"m")?"":" disabled")+'">'+n.format("mm")+"</td>"),n.add(s,"m");e.empty().append(o)},Q=function(){for(var e=f.find(".timepicker-seconds table"),n=a.clone().startOf("m"),i=[],o=t("<tr>");a.isSame(n,"m");)n.second()%20===0&&(o=t("<tr>"),i.push(o)),o.append('<td data-action="selectSecond" class="second'+(q(n,"s")?"":" disabled")+'">'+n.format("ss")+"</td>"),n.add(5,"s");e.empty().append(i)},Z=function(){var t,e,n=f.find(".timepicker span[data-time-component]");s||(t=f.find(".timepicker [data-action=togglePeriod]"),e=o.clone().add(o.hours()>=12?-12:12,"h"),t.text(o.format("A")),q(e,"h")?t.removeClass("disabled"):t.addClass("disabled")),n.filter("[data-time-component=hours]").text(o.format(s?"HH":"hh")),n.filter("[data-time-component=minutes]").text(o.format("mm")),n.filter("[data-time-component=seconds]").text(o.format("ss")),G(),X(),Q()},J=function(){f&&(K(),Z())},tt=function(t){var e=h?null:o;return t?(t=t.clone().locale(i.locale),k()&&t.tz(i.timeZone),1!==i.stepping&&t.minutes(Math.round(t.minutes()/i.stepping)*i.stepping).seconds(0),void(q(t)?(o=t,r.val(o.format(l)),n.data("date",o.format(l)),h=!1,J(),R({type:"dp.change",date:o.clone(),oldDate:e})):(i.keepInvalid?R({type:"dp.change",date:t,oldDate:e}):r.val(h?"":o.format(l)),R({type:"dp.error",date:t,oldDate:e})))):(h=!0,r.val(""),n.data("date",""),R({type:"dp.change",date:!1,oldDate:e}),void J())},et=function(){var e=!1;return f?(f.find(".collapse").each(function(){var n=t(this).data("collapse");return!n||!n.transitioning||(e=!0,!1)}),e?u:(p&&p.hasClass("btn")&&p.toggleClass("active"),f.hide(),t(window).off("resize",P),f.off("click","[data-action]"),f.off("mousedown",!1),f.remove(),f=!1,R({type:"dp.hide",date:o.clone()}),r.blur(),c=0,a=o.clone(),u)):u},nt=function(){tt(null)},it=function(t){return void 0===i.parseInputDate?e.isMoment(t)||(t=_(t)):t=i.parseInputDate(t),t},ot={next:function(){var t=g[c].navFnc;a.add(g[c].navStep,t),K(),L(t)},previous:function(){var t=g[c].navFnc;a.subtract(g[c].navStep,t),K(),L(t)},pickerSwitch:function(){U(1)},selectMonth:function(e){var n=t(e.target).closest("tbody").find("span").index(t(e.target));a.month(n),c===m?(tt(o.clone().year(a.year()).month(a.month())),i.inline||et()):(U(-1),K()),L("M")},selectYear:function(e){var n=parseInt(t(e.target).text(),10)||0;a.year(n),c===m?(tt(o.clone().year(a.year())),i.inline||et()):(U(-1),K()),L("YYYY")},selectDecade:function(e){var n=parseInt(t(e.target).data("selection"),10)||0;a.year(n),c===m?(tt(o.clone().year(a.year())),i.inline||et()):(U(-1),K()),L("YYYY")},selectDay:function(e){var n=a.clone();t(e.target).is(".old")&&n.subtract(1,"M"),t(e.target).is(".new")&&n.add(1,"M"),tt(n.date(parseInt(t(e.target).text(),10))),S()||i.keepOpen||i.inline||et()},incrementHours:function(){var t=o.clone().add(1,"h");q(t,"h")&&tt(t)},incrementMinutes:function(){var t=o.clone().add(i.stepping,"m");q(t,"m")&&tt(t)},incrementSeconds:function(){var t=o.clone().add(1,"s");q(t,"s")&&tt(t)},decrementHours:function(){var t=o.clone().subtract(1,"h");q(t,"h")&&tt(t)},decrementMinutes:function(){var t=o.clone().subtract(i.stepping,"m");q(t,"m")&&tt(t)},decrementSeconds:function(){var t=o.clone().subtract(1,"s");q(t,"s")&&tt(t)},togglePeriod:function(){tt(o.clone().add(o.hours()>=12?-12:12,"h"))},togglePicker:function(e){var n,o=t(e.target),a=o.closest("ul"),r=a.find(".in"),s=a.find(".collapse:not(.in)");if(r&&r.length){if(n=r.data("collapse"),n&&n.transitioning)return;r.collapse?(r.collapse("hide"),s.collapse("show")):(r.removeClass("in"),s.addClass("in")),o.is("span")?o.toggleClass(i.icons.time+" "+i.icons.date):o.find("span").toggleClass(i.icons.time+" "+i.icons.date)}},showPicker:function(){f.find(".timepicker > div:not(.timepicker-picker)").hide(),f.find(".timepicker .timepicker-picker").show()},showHours:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-hours").show()},showMinutes:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){f.find(".timepicker .timepicker-picker").hide(),f.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var n=parseInt(t(e.target).text(),10);s||(o.hours()>=12?12!==n&&(n+=12):12===n&&(n=0)),tt(o.clone().hours(n)),ot.showPicker.call(u)},selectMinute:function(e){tt(o.clone().minutes(parseInt(t(e.target).text(),10))),ot.showPicker.call(u)},selectSecond:function(e){tt(o.clone().seconds(parseInt(t(e.target).text(),10))),ot.showPicker.call(u)},clear:nt,today:function(){var t=_();q(t,"d")&&tt(t)},close:et},at=function(e){return!t(e.currentTarget).is(".disabled")&&(ot[t(e.currentTarget).data("action")].apply(u,arguments),!1)},rt=function(){var e,n={year:function(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function(t){return t.hours(0).seconds(0).minutes(0)},hour:function(t){return t.seconds(0).minutes(0)},minute:function(t){return t.seconds(0)}};return r.prop("disabled")||!i.ignoreReadonly&&r.prop("readonly")||f?u:(void 0!==r.val()&&0!==r.val().trim().length?tt(it(r.val().trim())):h&&i.useCurrent&&(i.inline||r.is("input")&&0===r.val().trim().length)&&(e=_(),"string"==typeof i.useCurrent&&(e=n[i.useCurrent](e)),tt(e)),f=O(),I(),W(),f.find(".timepicker-hours").hide(),f.find(".timepicker-minutes").hide(),f.find(".timepicker-seconds").hide(),J(),U(),t(window).on("resize",P),f.on("click","[data-action]",at),f.on("mousedown",!1),p&&p.hasClass("btn")&&p.toggleClass("active"),P(),f.show(),i.focusOnShow&&!r.is(":focus")&&r.focus(),R({type:"dp.show"}),u)},st=function(){return f?et():rt()},lt=function(t){var e,n,o,a,r=null,s=[],l={},d=t.which,c="p";C[d]=c;for(e in C)C.hasOwnProperty(e)&&C[e]===c&&(s.push(e),parseInt(e,10)!==d&&(l[e]=!0));for(e in i.keyBinds)if(i.keyBinds.hasOwnProperty(e)&&"function"==typeof i.keyBinds[e]&&(o=e.split(" "),o.length===s.length&&x[d]===o[o.length-1])){for(a=!0,n=o.length-2;n>=0;n--)if(!(x[o[n]]in l)){a=!1;break}if(a){r=i.keyBinds[e];break}}r&&(r.call(u,f),t.stopPropagation(),t.preventDefault())},dt=function(t){C[t.which]="r",t.stopPropagation(),t.preventDefault()},ct=function(e){var n=t(e.target).val().trim(),i=n?it(n):null;return tt(i),e.stopImmediatePropagation(),!1},ut=function(){r.on({change:ct,blur:i.debug?"":et,keydown:lt,keyup:dt,focus:i.allowInputToggle?rt:""}),n.is("input")?r.on({focus:rt}):p&&(p.on("click",st),p.on("mousedown",!1))},ht=function(){r.off({change:ct,blur:blur,keydown:lt,keyup:dt,focus:i.allowInputToggle?et:""}),n.is("input")?r.off({focus:rt}):p&&(p.off("click",st),p.off("mousedown",!1))},pt=function(e){var n={};return t.each(e,function(){var t=it(this);t.isValid()&&(n[t.format("YYYY-MM-DD")]=!0)}),!!Object.keys(n).length&&n},ft=function(e){var n={};return t.each(e,function(){n[this]=!0}),!!Object.keys(n).length&&n},mt=function(){var t=i.format||"L LT";l=t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){var e=o.localeData().longDateFormat(t)||t;return e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return o.localeData().longDateFormat(t)||t})}),d=i.extraFormats?i.extraFormats.slice():[],d.indexOf(t)<0&&d.indexOf(l)<0&&d.push(l),s=l.toLowerCase().indexOf("a")<1&&l.replace(/\[.*?\]/g,"").indexOf("h")<1,T("y")&&(m=2),T("M")&&(m=1),T("d")&&(m=0),c=Math.max(m,c),h||tt(o)};if(u.destroy=function(){et(),ht(),n.removeData("DateTimePicker"),n.removeData("date")},u.toggle=st,u.show=rt,u.hide=et,u.disable=function(){return et(),p&&p.hasClass("btn")&&p.addClass("disabled"),r.prop("disabled",!0),u},u.enable=function(){return p&&p.hasClass("btn")&&p.removeClass("disabled"),r.prop("disabled",!1),u},u.ignoreReadonly=function(t){if(0===arguments.length)return i.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly () expects a boolean parameter");return i.ignoreReadonly=t,u},u.options=function(e){if(0===arguments.length)return t.extend(!0,{},i);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return t.extend(!0,i,e),t.each(i,function(t,e){if(void 0===u[t])throw new TypeError("option "+t+" is not recognized!");u[t](e)}),u},u.date=function(t){if(0===arguments.length)return h?null:o.clone();if(!(null===t||"string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return tt(null===t?null:it(t)),u},u.format=function(t){if(0===arguments.length)return i.format;if("string"!=typeof t&&("boolean"!=typeof t||t!==!1))throw new TypeError("format() expects a string or boolean:false parameter "+t);return i.format=t,l&&mt(),u},u.timeZone=function(t){if(0===arguments.length)return i.timeZone;if("string"!=typeof t)throw new TypeError("newZone() expects a string parameter");return i.timeZone=t,u},u.dayViewHeaderFormat=function(t){if(0===arguments.length)return i.dayViewHeaderFormat;if("string"!=typeof t)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return i.dayViewHeaderFormat=t,u},u.extraFormats=function(t){if(0===arguments.length)return i.extraFormats;if(t!==!1&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return i.extraFormats=t,d&&mt(),u},u.disabledDates=function(e){if(0===arguments.length)return i.disabledDates?t.extend({},i.disabledDates):i.disabledDates;if(!e)return i.disabledDates=!1,J(),u;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return i.disabledDates=pt(e),i.enabledDates=!1,J(),u},u.enabledDates=function(e){if(0===arguments.length)return i.enabledDates?t.extend({},i.enabledDates):i.enabledDates;if(!e)return i.enabledDates=!1,J(),u;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return i.enabledDates=pt(e),i.disabledDates=!1,J(),u},u.daysOfWeekDisabled=function(t){if(0===arguments.length)return i.daysOfWeekDisabled.splice(0);if("boolean"==typeof t&&!t)return i.daysOfWeekDisabled=!1,J(),u;if(!(t instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(i.daysOfWeekDisabled=t.reduce(function(t,e){return e=parseInt(e,10),e>6||0>e||isNaN(e)?t:(-1===t.indexOf(e)&&t.push(e),t)},[]).sort(),i.useCurrent&&!i.keepInvalid){for(var e=0;!q(o,"d");){if(o.add(1,"d"),7===e)throw"Tried 7 times to find a valid date";e++}tt(o)}return J(),u},u.maxDate=function(t){if(0===arguments.length)return i.maxDate?i.maxDate.clone():i.maxDate;if("boolean"==typeof t&&t===!1)return i.maxDate=!1,J(),u;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=_()));var e=it(t);if(!e.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(i.minDate&&e.isBefore(i.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+e.format(l));return i.maxDate=e,i.useCurrent&&!i.keepInvalid&&o.isAfter(t)&&tt(i.maxDate),a.isAfter(e)&&(a=e.clone().subtract(i.stepping,"m")),J(),u},u.minDate=function(t){if(0===arguments.length)return i.minDate?i.minDate.clone():i.minDate;if("boolean"==typeof t&&t===!1)return i.minDate=!1,J(),u;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=_()));var e=it(t);if(!e.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(i.maxDate&&e.isAfter(i.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+e.format(l));return i.minDate=e,i.useCurrent&&!i.keepInvalid&&o.isBefore(t)&&tt(i.minDate),a.isBefore(e)&&(a=e.clone().add(i.stepping,"m")),J(),u},u.defaultDate=function(t){if(0===arguments.length)return i.defaultDate?i.defaultDate.clone():i.defaultDate;if(!t)return i.defaultDate=!1,u;"string"==typeof t&&(t="now"===t||"moment"===t?_():_(t));var e=it(t);if(!e.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);
if(!q(e))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return i.defaultDate=e,(i.defaultDate&&i.inline||""===r.val().trim())&&tt(i.defaultDate),u},u.locale=function(t){if(0===arguments.length)return i.locale;if(!e.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");return i.locale=t,o.locale(i.locale),a.locale(i.locale),l&&mt(),f&&(et(),rt()),u},u.stepping=function(t){return 0===arguments.length?i.stepping:(t=parseInt(t,10),(isNaN(t)||1>t)&&(t=1),i.stepping=t,u)},u.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(0===arguments.length)return i.useCurrent;if("boolean"!=typeof t&&"string"!=typeof t)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof t&&-1===e.indexOf(t.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "));return i.useCurrent=t,u},u.collapse=function(t){if(0===arguments.length)return i.collapse;if("boolean"!=typeof t)throw new TypeError("collapse() expects a boolean parameter");return i.collapse===t?u:(i.collapse=t,f&&(et(),rt()),u)},u.icons=function(e){if(0===arguments.length)return t.extend({},i.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return t.extend(i.icons,e),f&&(et(),rt()),u},u.tooltips=function(e){if(0===arguments.length)return t.extend({},i.tooltips);if(!(e instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return t.extend(i.tooltips,e),f&&(et(),rt()),u},u.useStrict=function(t){if(0===arguments.length)return i.useStrict;if("boolean"!=typeof t)throw new TypeError("useStrict() expects a boolean parameter");return i.useStrict=t,u},u.sideBySide=function(t){if(0===arguments.length)return i.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");return i.sideBySide=t,f&&(et(),rt()),u},u.viewMode=function(t){if(0===arguments.length)return i.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===v.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+v.join(", ")+") value");return i.viewMode=t,c=Math.max(v.indexOf(t),m),U(),u},u.toolbarPlacement=function(t){if(0===arguments.length)return i.toolbarPlacement;if("string"!=typeof t)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===w.indexOf(t))throw new TypeError("toolbarPlacement() parameter must be one of ("+w.join(", ")+") value");return i.toolbarPlacement=t,f&&(et(),rt()),u},u.widgetPositioning=function(e){if(0===arguments.length)return t.extend({},i.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===y.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+y.join(", ")+")");i.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===b.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+b.join(", ")+")");i.widgetPositioning.vertical=e.vertical}return J(),u},u.calendarWeeks=function(t){if(0===arguments.length)return i.calendarWeeks;if("boolean"!=typeof t)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return i.calendarWeeks=t,J(),u},u.showTodayButton=function(t){if(0===arguments.length)return i.showTodayButton;if("boolean"!=typeof t)throw new TypeError("showTodayButton() expects a boolean parameter");return i.showTodayButton=t,f&&(et(),rt()),u},u.showClear=function(t){if(0===arguments.length)return i.showClear;if("boolean"!=typeof t)throw new TypeError("showClear() expects a boolean parameter");return i.showClear=t,f&&(et(),rt()),u},u.widgetParent=function(e){if(0===arguments.length)return i.widgetParent;if("string"==typeof e&&(e=t(e)),null!==e&&"string"!=typeof e&&!(e instanceof t))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return i.widgetParent=e,f&&(et(),rt()),u},u.keepOpen=function(t){if(0===arguments.length)return i.keepOpen;if("boolean"!=typeof t)throw new TypeError("keepOpen() expects a boolean parameter");return i.keepOpen=t,u},u.focusOnShow=function(t){if(0===arguments.length)return i.focusOnShow;if("boolean"!=typeof t)throw new TypeError("focusOnShow() expects a boolean parameter");return i.focusOnShow=t,u},u.inline=function(t){if(0===arguments.length)return i.inline;if("boolean"!=typeof t)throw new TypeError("inline() expects a boolean parameter");return i.inline=t,u},u.clear=function(){return nt(),u},u.keyBinds=function(t){return 0===arguments.length?i.keyBinds:(i.keyBinds=t,u)},u.getMoment=function(t){return _(t)},u.debug=function(t){if("boolean"!=typeof t)throw new TypeError("debug() expects a boolean parameter");return i.debug=t,u},u.allowInputToggle=function(t){if(0===arguments.length)return i.allowInputToggle;if("boolean"!=typeof t)throw new TypeError("allowInputToggle() expects a boolean parameter");return i.allowInputToggle=t,u},u.showClose=function(t){if(0===arguments.length)return i.showClose;if("boolean"!=typeof t)throw new TypeError("showClose() expects a boolean parameter");return i.showClose=t,u},u.keepInvalid=function(t){if(0===arguments.length)return i.keepInvalid;if("boolean"!=typeof t)throw new TypeError("keepInvalid() expects a boolean parameter");return i.keepInvalid=t,u},u.datepickerInput=function(t){if(0===arguments.length)return i.datepickerInput;if("string"!=typeof t)throw new TypeError("datepickerInput() expects a string parameter");return i.datepickerInput=t,u},u.parseInputDate=function(t){if(0===arguments.length)return i.parseInputDate;if("function"!=typeof t)throw new TypeError("parseInputDate() sholud be as function");return i.parseInputDate=t,u},u.disabledTimeIntervals=function(e){if(0===arguments.length)return i.disabledTimeIntervals?t.extend({},i.disabledTimeIntervals):i.disabledTimeIntervals;if(!e)return i.disabledTimeIntervals=!1,J(),u;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return i.disabledTimeIntervals=e,J(),u},u.disabledHours=function(e){if(0===arguments.length)return i.disabledHours?t.extend({},i.disabledHours):i.disabledHours;if(!e)return i.disabledHours=!1,J(),u;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(i.disabledHours=ft(e),i.enabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var n=0;!q(o,"h");){if(o.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}tt(o)}return J(),u},u.enabledHours=function(e){if(0===arguments.length)return i.enabledHours?t.extend({},i.enabledHours):i.enabledHours;if(!e)return i.enabledHours=!1,J(),u;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(i.enabledHours=ft(e),i.disabledHours=!1,i.useCurrent&&!i.keepInvalid){for(var n=0;!q(o,"h");){if(o.add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}tt(o)}return J(),u},u.viewDate=function(t){if(0===arguments.length)return a.clone();if(!t)return a=o.clone(),u;if(!("string"==typeof t||e.isMoment(t)||t instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return a=it(t),L(),u},n.is("input"))r=n;else if(r=n.find(i.datepickerInput),0===r.length)r=n.find("input");else if(!r.is("input"))throw new Error('CSS class "'+i.datepickerInput+'" cannot be applied to non input element');if(n.hasClass("input-group")&&(p=0===n.find(".datepickerbutton").length?n.find(".input-group-addon"):n.find(".datepickerbutton")),!i.inline&&!r.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return o=_(),a=o.clone(),t.extend(!0,i,A()),u.options(i),mt(),ut(),r.prop("disabled")&&u.disable(),r.is("input")&&0!==r.val().trim().length?tt(it(r.val().trim())):i.defaultDate&&void 0===r.attr("placeholder")&&tt(i.defaultDate),i.inline&&rt(),u};t.fn.datetimepicker=function(e){e=e||{};var i,o=Array.prototype.slice.call(arguments,1),a=!0,r=["destroy","hide","show","toggle"];if("object"==typeof e)return this.each(function(){var i=t(this);i.data("DateTimePicker")||(e=t.extend(!0,{},t.fn.datetimepicker.defaults,e),i.data("DateTimePicker",n(i,e)))});if("string"==typeof e)return this.each(function(){var n=t(this),r=n.data("DateTimePicker");if(!r)throw new Error('bootstrap-datetimepicker("'+e+'") method was called on an element that is not using DateTimePicker');i=r[e].apply(r,o),a=i===r}),a||t.inArray(e,r)>-1?this:i;throw new TypeError("Invalid arguments for DateTimePicker: "+e)},t.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:e.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(7,"d")):this.date(e.clone().add(this.stepping(),"m"))}},down:function(t){if(!t)return void this.show();var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(7,"d")):this.date(e.clone().subtract(this.stepping(),"m"))},"control up":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().subtract(1,"y")):this.date(e.clone().add(1,"h"))}},"control down":function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")?this.date(e.clone().add(1,"y")):this.date(e.clone().subtract(1,"h"))}},left:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"d"))}},right:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"d"))}},pageUp:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().subtract(1,"M"))}},pageDown:function(t){if(t){var e=this.date()||this.getMoment();t.find(".datepicker").is(":visible")&&this.date(e.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(t){t.find(".timepicker").is(":visible")&&t.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},"undefined"!=typeof module&&(module.exports=t.fn.datetimepicker)}),function(){var LHSBasicPage={el:"#main_panel",run:$.noop,events:{},__tableCaches__:[],__editorCaches__:[],initDependencies:function(){var t=this.reset();return this.$el=$(this.el),this.$=function(t){return this.$el.find(t)},$.each(this.events,function(e,n){var i=e.split(/\s+/)[0];$($.trim(e.replace(i,"")),t.el).unbind(i).bind(i,function(e){t[n].call(t,$(this),e)})}),$.fn.bootstrapTable&&$.extend($.fn.bootstrapTable.defaults,$.fn.bootstrapTable.locales["zh-CN"]),window.bootbox&&bootbox.setDefaults({size:"small",locale:"zh_CN"}),this},reset:function(){return $.each(this.__tableCaches__,function(){this.bootstrapTable("destroy")}),$.each(this.__editorCaches__,function(){this.id&&this.destroy()}),this.__tableCaches__.length=0,this.__editorCaches__.length=0,this},_sendRequest:function(t){var e=this;if(!t.validator||(t.data=t.validator()))return $.ajax({type:t.type,url:t.url,data:t.data,dataType:"json",cache:!1,beforeSend:function(){e._showLoading()}}).then(function(n){n.success?t.done(n.data):e._showXHRMessage(n.message,"danger")}).fail(function(t){e._showXHRMessage("请求失败:"+t.responseText,"danger")}).always(function(){e._removeLoading()}),this},_showLoading:function(){return this},_removeLoading:function(){return this},_showXHRMessage:function(t,e){var n="lhs"+e+"panel",i=$("#"+n);return i.length||(i=$('<div id="'+n+'" class="alert alert-'+e+'" data-dismiss="alert"><button type="button" class="close"><span>&times;</span></button></div>').prependTo(this.$el),i.alert(),i.on("closed.bs.alert",function(){i.remove()})),i.append($("<span></span>").text(t)),this},_getFormControlValues:function(t){var e,n,i={};return $.each(t.serializeArray(),function(){n=this.name,e=i[n],e?$.isArray(e)?i[n].push(this.value):i[n]=[e,this.value]:i[n]=this.value}),i},_clearFormControlValues:function(t){return $.each(t.serializeArray(),function(){$('[name="'+this.name+'"]',t).each(function(t){t=$(this),t.is('input[type="text"]')||t.is('input[type="password"]')||t.is("textarea")?t.val(""):t.is('input[type="checkbox"]')?t.removeAttr("checked"):t.is('input[type="radio"]')?0==index?t.attr("checked","checked"):t.removeAttr("checked"):t.is("select")&&t.children("option:eq(0)").attr("selected","selected").siblings().removeAttr("selected")})}),this},_setFormControlValues:function(t,e){return $.each(e,function(e,n){$('[name="'+e+'"]',t).each(function(t){t=$(this),t.is('input[type="radio"]')?t.find('[value="'+n+'"]').attr("checked","checked"):t.is('input[type="checkbox"]')?$.each(n,function(e,n){t.find('[value="'+n+'"]').attr("checked","checked")}):t.val(n)})}),this},_createEditor:function(t){var e="lhsUeditor"+$(".edui-container").length,n=null;return $(t).append($('<script type="text/plain"></script>').attr("id",e).css({width:"100%",height:300})).width(function(){return $(this).parent().width}),n=UM.getEditor(e),this.__editorCaches__.push(n),n},_createTable:function(t,e,n){var i=this,o=$(t).append($("<table></table>").addClass("table table-striped table-hover table-condensed")).children("table");return o.bootstrapTable({method:"get",url:e,cache:!1,ajaxOptions:{beforeSend:function(){i._showLoading()},complete:function(){i._removeLoading()}},onLoadError:function(t){i._showXHRMessage("请求失败:"+t.responseText,"danger")},columns:n,pagination:!0}),this.__tableCaches__.push(o),{origin:o,shrink:function(){return $.each(n,function(t,e){e.alwaysDisplay||o.bootstrapTable("hideColumn",e.field)}),$(t).attr("class","col-xs-2").next().removeClass("hide"),this},expand:function(){return $.each(n,function(t,e){o.bootstrapTable("showColumn",e.field)}),$(t).attr("class","col-md-12").next().addClass("hide"),this},refresh:function(t){return o.bootstrapTable("refresh",$.extend({silent:!0},t)),this},getSelected:function(t){var e=o.bootstrapTable("getSelections"),n=[];return t=t||"id",e.length&&$(e).each(function(e,i){n.push(i[t])}),n},getWholeSelected:function(){var t=o.bootstrapTable("getSelections"),e=[];return t.length&&$(t).each(function(t,n){e.push(n)}),e},showDataWrapper:function(){return $(t).parent().removeClass("hide").siblings(".data-wrapper").addClass("hide"),this},hidedDataWrapper:function(){return $(t).parent().addClass("hide"),this},destroy:function(){o.bootstrapTable("destroy")}}},_createUploader:function(t,e,n){var i=this;return $(t).ajaxfileupload({action:e,validate_extensions:!1,onStart:function(){i._showLoading()},onCancel:function(){i._removeLoading()},onComplete:function(){i._removeLoading(),$.isFunction(n)&&n.call(i),i._showXHRMessage("上传成功。","info")}}),this},_createTimepicker:function(t,e,n){var i=$(t).datetimepicker({format:e||"YYYY-MM-DD"}),o=this;return{onChange:function(t){i.on("dp.change",$.proxy(t,o))}}},_showModal:function(t,e){return $(t).removeClass("hide").siblings().addClass("hide"),e.shrink(),this},_closeModal:function(t,e){return $(t).addClass("hide"),e.expand(),this}},LHSAlertPage=$.extend({},LHSBasicPage,{run:function(){var self=this,jqtmpl=function(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data)__.push('<div class="pubvoice-alert-page"><div class="row func-btns"><div class="col-md-12"><div class="pull-right"> <button id="btnAdd" class="btn btn-sm btn-default">新增</button> <button id="btnDel" class="btn btn-sm btn-default">清除预警</button></div></div></div><div class="row data-wrapper"><div id="tableWrapper" class="col-md-12"></div><div class="col-xs-10 no-padding-left hide"><div id="dataModal" class="modal-content"><div class="modal-header"><h4 class="modal-title">舆情预警</h4></div><div class="modal-body"><form class="form-horizontal"> <input type="hidden" name="id" class="form-control"><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">预警标题：</label><div class="col-xs-10"> <input type="text" name="title" class="form-control"></div></div><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">涉舆部门：</label><div class="col-xs-4"> <input type="text" name="department" class="form-control"></div> <label class="col-xs-2 control-label">预警人：</label><div class="col-xs-4"> <input type="text" name="sender" class="form-control"></div></div><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">预警方式：</label><div class="col-xs-4"> <input type="text" name="type" class="form-control"></div> <label class="col-xs-2 control-label">接警人：</label><div class="col-xs-4"> <input type="text" name="receiver" class="form-control"></div></div><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">预警开始时间：</label><div class="col-xs-4"> <input id="starttime" type="text" name="starttime" class="form-control"></div> <label class="col-xs-2 control-label">预警结束时间：</label><div class="col-xs-4"> <input id="endtime" type="text" name="endtime" class="form-control"></div></div><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">预警内容：</label><div class="col-xs-10"><textarea name="content" class="form-control" rows="5"></textarea></div></div></form></div><div class="modal-footer"> <button type="button" class="btn btn-default">关闭</button> <button type="button" class="btn btn-primary">保存</button></div></div></div></div></div>');return __};$(this.el).empty().append(jqtmpl($,{data:{}}).join("")),this.initDependencies(),this.dataTable=this._createTable("#tableWrapper","/alert/list",[{field:"checkbox",checkbox:!0},{title:"预警标题",field:"title",alwaysDisplay:!0},{title:"预警方式",field:"type"},{title:"涉舆部门",field:"department"},{title:"预警人",field:"sender"},{title:"接警人",field:"receiver"},{title:"预警开始时间",field:"starttime",formatter:function(t){return moment(t).format("YYYY年MM月DD日")}},{title:"预警结束时间",field:"endtime",formatter:function(t){return moment(t).format("YYYY年MM月DD日")}},{title:"状态",field:"state",formatter:function(t){switch(t){case 0:return"有效预警";default:return"预警结束"}}},{title:"操作",field:"action",formatter:function(){return['<a href="javascript:" title="查看"><i class="glyphicon glyphicon-edit"></i></a>','<a href="javascript:" title="清除预警"><i class="glyphicon glyphicon-remove"></i></a>'].join("&nbsp;&nbsp;")},events:{"click a:first":function(){self.showDataModal(arguments[2])},"click a:last":function(){var t=arguments[2].id;bootbox.confirm("确认清除预警？",function(e){e&&self._ajaxDelete(t,function(){self._refreshTable()})})}}}]),this.sTime=this._createTimepicker("#starttime"),this.eTime=this._createTimepicker("#endtime")},events:{"click #btnAdd":"showDataModal","click #btnDel":"delSelected","click #dataModal .btn-default":"closeDataModal","click #dataModal .btn-primary":"saveAlert"},showDataModal:function(t){var e=$("#dataModal"),n=e.find("form");t.id&&this._setFormControlValues(n,t),this._showModal(e,this.dataTable)},delSelected:function(){var t=this,e=this.dataTable,n=e.getSelected();n.length?bootbox.confirm("确定删除？",function(i){i&&t._ajaxDelete(n.join(),function(){e.refresh()})}):bootbox.alert("请先选择要删除的记录！")},closeDataModal:function(){var t=$("#dataModal");this._clearFormControlValues(t.find("form"))._closeModal(t,this.dataTable)},saveAlert:function(){var t=this;this._sendRequest({type:"post",url:"/alert/save",validator:$.proxy(this._validator,this),done:function(){t.closeDataModal(),t.dataTable.refresh()}})},_ajaxDelete:function(t,e){return this._sendRequest({type:"delete",url:"/alert/clear",data:{ids:t},done:e}),this},_validator:function(){var t=$("#dataModal form"),e=this._getFormControlValues(t);return e}}),LHSAnalyzePage=$.extend({},LHSBasicPage,{run:function(){var jqtmpl=function(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data)__.push("");return __};$(this.el).empty().append(jqtmpl($,{data:{}}).join(""))}}),LHSDailyCreatePage=$.extend({},LHSBasicPage,{run:function(){var self=this,jqtmpl=function(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data)__.push('<div class="pubvoice-dailycreate-page"><div class="row func-btns"><div class="col-md-12"><div class="pull-right"> <button id="btnAdd" class="btn btn-sm btn-default">生成日报</button></div></div></div><div class="row data-wrapper"><div id="tableWrapper" class="col-md-12 "></div><div class="col-xs-10 no-padding-left hide"><div id="dataModal" class="modal-content"><div class="modal-header"><h4 class="modal-title">日报详情</h4></div><div class="modal-body"> <label>注意：如果日报期数与实际不相符，请通知管理员修改后，重新创建日报！</label><form class="form-horizontal"> <input type="hidden" name="id" class="form-control"> <input type="hidden" name="issue_id" class="form-control"> <input type="hidden" name="pvids" class="form-control"><div class="form-group form-group-sm"><div id="editorWrapper" class="col-xs-12"></div></div></form></div><div class="modal-footer"> <button type="button" class="btn btn-default">关闭</button> <button type="button" class="btn btn-primary hide">保存</button></div></div></div></div></div>');return __};$(this.el).empty().append(jqtmpl($,{data:{}}).join("")),this.initDependencies(),this.dataTable=this._createTable("#tableWrapper","/daily/unapplied",[{field:"checkbox",checkbox:!0},{title:"标题",field:"title"},{title:"载体",field:"from_website"},{title:"所属栏目",field:"item"},{title:"舆情类别",field:"type"},{title:"回帖人数",field:"fellow_count"},{title:"关注人数",field:"review_count"},{title:"涉及部门",field:"relate_department"},{title:"处理时间",field:"createtime",formatter:function(t){return moment(t).format("YYYY年MM月DD日 HH:mm:ss")}},{title:"状态",field:"state",formatter:function(t){switch(t){case 0:return"未提交";case 1:return"待审批";case 2:return"审批通过"}}},{title:"操作",field:"action",formatter:function(){return'<a href="javascript:" title="查看"><i class="glyphicon glyphicon-eye-open"></i></a>'},events:{"click a:first":function(){self.showDetailModal(arguments[2])}}}]),this.editor=this._createEditor("#editorWrapper")},events:{"click #btnAdd":"showDataModal","click #dataModal .btn-default":"closeDataModal","click #dataModal .btn-primary":"saveReport"},closeDataModal:function(){var t=$("#dataModal");this._clearFormControlValues(t.find("form"))._closeModal(t,this.dataTable)},showDataModal:function(){var t=this.dataTable.getWholeSelected(),e=this;return t.length?e.genDaily(t):bootbox.alert("请先选择要编报的舆情"),this},genDaily:function(t){var e=this;return this._sendRequest({type:"get",url:"/daily/template",done:function(n){var i=n.template,o=0,a=0;n.issue&&(o=parseInt(n.issue.daily_id)+1,a=parseInt(n.issue.daily_issue_id)+1);var r=e.buildDaily(i,o,a,t);e.editor.setContent(r),e.editor.setEnabled(),e._setFormControlValues("#contentModal form",{total_id:o,issue_id:a}),e._showModal($("#dataModal"),e.dataTable)}}),this},buildDaily:function(t,e,n,i){var o=t;o=o.replace("%issue_id%",n),o=o.replace("%id%",e),o=o.replace("%date%",moment(new Date).format("YYYY年MM月DD日"));var a="",r="",s="",l="",d="",c="",u="",h="";for(idx in i){var p=i[idx],f='<p><span style="font-size:20px;font-family:仿宋_GB2312">※ '+p.title+"</span></p>",m=p.content;"正面舆情"==p.item?(a+=f,r+=m):"负面舆情"==p.item?(s+=f,l+=m):"舆情追踪"==p.item?(d+=f,c+=m):"热点话题"==p.item&&(u+=f,h+=m)}return o=o.replace("%zmyq_title%",a),o=o.replace("%fmyq_title%",s),o=o.replace("%yqzz_title%",d),o=o.replace("%rdht_title%",u),o=o.replace("%zmyq_content%",r),o=o.replace("%fmyq_content%",l),o=o.replace("%yqzz_content%",c),o=o.replace("%rdht_content%",h)},showDetailModal:function(t){return this.editor.setContent(null==t.content?"":t.content),this.editor.setDisabled(),this._showModal($("#dataModal"),this.dataTable),this},saveDataModal:function(){({content:this.editor.getContent()})}}),LHSDailyReportPage=$.extend({},LHSBasicPage,{run:function(){var self=this,jqtmpl=function(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data)__.push('<div class="pubvoice-dailyreport-page"><div class="row data-wrapper"><div id="tableWrapper" class="col-md-12 "></div><div class="col-xs-10 no-padding-left hide"><div id="dataModal" class="modal-content"><div class="modal-header"><h4 class="modal-title">日报详情</h4></div><div class="modal-body"><form class="form-horizontal"><div class="form-group form-group-sm"><div id="editorWrapper" class="col-xs-12"></div></div></form></div><div class="modal-footer"> <button type="button" class="btn btn-default">关闭</button></div></div></div></div></div>');return __};$(this.el).empty().append(jqtmpl($,{data:{}}).join("")),this.initDependencies(),this.dataTable=this._createTable("#tableWrapper","/daily/list",[{field:"checkbox",checkbox:!0},{title:"总期数",field:"id",alwaysDisplay:!0},{title:"当季期数",field:"issue_id"},{title:"创建用户",field:"createuser"},{title:"创建时间",field:"createtime",formatter:function(t){return moment(t).format("YYYY年MM月DD日 HH:mm:ss")}},{title:"操作",field:"action",formatter:function(){return'<a href="javascript:" title="查看"><i class="glyphicon glyphicon-edit"></i></a>'},events:{"click a:first":function(){var t=$("#dataModal"),e=self.editor,n=arguments[2];n.id&&self._setFormControlValues(t.find("form"),n),e.ready(function(){e.setContent(n.content||"")}),self._showModal(t,self.dataTable)}}}]),this.editor=this._createEditor("#editorWrapper")},events:{"click #dataModal .btn-default":"closeDataModal"},closeDataModal:function(){var t=$("#dataModal");this._clearFormControlValues(t.find("form"))._closeModal(t,this.dataTable)}}),LHSDisposePage=$.extend({},LHSBasicPage,{run:function(){var self=this,jqtmpl=function(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data)__.push('<div class="pubvoice-dispose-page"><div class="row func-btns"><div class="col-md-4"><div class="input-group"> <input id="inputSearch" type="text" placeholder="请输入日报期号" class="form-control"><a id="btnSearch" class="btn btn-default input-group-addon"><i class="glyphicon glyphicon-search"></i></a></div></div></div><div class="row data-wrapper"><div id="tableWrapper" class="col-md-12"></div><div class="col-xs-10 no-padding-left hide"><div id="disposeModal" class="modal-content"><div class="modal-header"><h4 class="modal-title">处置详情</h4></div><div class="modal-body"><form class="form-horizontal"> <input type="hidden" name="id" class="form-control"> <input type="hidden" name="doc_year" class="form-control"> <input type="hidden" name="doc_no" class="form-control"><div class="form-group form-group-sm"> <label class="control-label">注意：如果期数不一致，请先通知管理员修改后再生成处置通知书！</label></div><div class="form-group form-group-sm"><div id="editorWrapper" class="col-xs-12"></div></div></form></div><div class="modal-footer"> <button type="button" class="btn btn-default">关闭</button> <button type="button" class="btn btn-info">导出</button> <button type="button" class="btn btn-primary">保存</button></div></div><div id="notiModal" class="modal-content"><div class="modal-header"><h4 class="modal-title">舆情通报</h4></div><div class="modal-body"><form class="form-horizontal"></form></div><div class="modal-footer"> <button type="button" class="btn btn-default">关闭</button> <button type="button" class="btn btn-primary">保存</button></div></div></div></div></div>');return __};$(this.el).empty().append(jqtmpl($,{data:{}}).join("")),this.initDependencies(),this.dataTable=this._createTable("#tableWrapper","/dispose/list",[{title:"标题",field:"title",alwaysDisplay:!0},{title:"载体",field:"from_website"},{title:"所属栏目",field:"item"},{title:"舆情类别",field:"type"},{title:"回帖人数",field:"fellow_count"},{title:"关注人数",field:"review_count"},{title:"涉及部门",field:"relate_department"},{title:"处理时间",field:"createtime",formatter:function(t){return moment(t).format("YYYY年MM月DD日 HH:mm:ss")}},{title:"状态",field:"state",formatter:function(t){switch(t){case 0:return"未提交";case 1:return"待审批";case 2:return"审批通过"}}},{title:"操作",field:"action",formatter:function(){return['<a href="javascript:" title="处置"><i class="glyphicon glyphicon-comment"></i></a>','<a href="javascript:" title="通报"><i class="glyphicon glyphicon-bullhorn"></i></a>'].join("&nbsp;&nbsp;")},events:{"click a:first":function(){function t(t){var e="";e=t[0].state!=-1?t[0].content:t[0].template+arguments[2].content,n.ready(function(){n.setContent(e||"")})}var e=$("#disposeModal"),n=(e.find("form"),self.editor);self._sendRequest({type:"get",url:"/dispose/detail",data:{id:arguments[2].id},done:function(n){t(n),self._showModal(e,self.dataTable)}})},"click a:last":function(){$(self.el).loadTemplate("/sample/dispose.html",{name:"dispose page",numbers:[1,2,3,4,5,6]})}}}]),this.editor=this._createEditor("#editorWrapper")},events:{"keydown #inputSearch":"autoSearch","click #btnSearch":"doSearch","click #disposeModal .btn-default":"closeDisposeModal","click #disposeModal .btn-info":"exportDispose","click #disposeModal .btn-primary":"saveDispose","click #notiModal .btn-default":"closeNotiModal","click #notiModal .btn-primary":"saveNotification"},autoSearch:function(t,e){13==e.keyCode&&this.dataTable.refresh({query:{id:t.val()}})},doSearch:function(t){var e=$.trim(t.prev("input").val());this.dataTable.refresh({query:{id:e}})},closeDisposeModal:function(){this._closeModal("#disposeModal",this.dataTable)},exportDispose:function(){},saveDispose:function(){var t=this;this._sendRequest({type:"post",url:"/dispose/save",validator:$.proxy(this._disposeValidator,this),done:function(){t.closeDisposeModal(),t.dataTable.refresh()}})},closeNotiModal:function(){var t=$("#notiModal");this._clearFormControlValues(t.find("form"))._closeModal(t,this.dataTable)},saveNotification:function(){},_disposeValidator:function(){},_notiValidator:function(){}}),LHSExamineAndApprovePage=$.extend({},LHSBasicPage,{run:function(){var self=this,jqtmpl=function(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data)__.push('<div class="pubvoice-approve-page"><div class="row data-wrapper"><div id="tableWrapper" class="col-md-12"></div><div class="col-xs-10 no-padding-left hide"><div id="dataModal" class="modal-content"><div class="modal-header"><h4 class="modal-title">舆情审批</h4></div><div class="modal-body"><form class="form-horizontal"> <input type="hidden" name="id" class="form-control"><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">审批结果：</label><div class="col-xs-2"> <select name="approveResult" class="form-control"><option value="0" selected="selected">通过</option><option value="1">未通过</option><option value="2">暂缓通过</option></select></div> <label class="col-xs-2 control-label">审批意见：</label><div class="col-xs-6"> <input type="text" name="approveContent" class="form-control"></div></div><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">舆情网址：</label><div class="col-xs-10"> <input type="text" name="url" class="form-control"></div></div><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">舆情标题：</label><div class="col-xs-4"> <input type="text" name="title" class="form-control"></div> <label class="col-xs-2 control-label">舆情载体：</label><div class="col-xs-4"> <input type="text" name="from_website" class="form-control"></div></div><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">涉及部门：</label><div class="col-xs-4"> <input type="text" name="relate_department" class="form-control"></div> <label class="col-xs-2 control-label">舆情类别：</label><div class="col-xs-4"> <input type="text" name="type" class="form-control"></div></div><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">关注人数：</label><div class="col-xs-4"> <input type="text" name="review_count" class="form-control"></div> <label class="col-xs-2 control-label">回帖数量：</label><div class="col-xs-4"> <input type="text" name="fellow_count" class="form-control"></div></div><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">考核部门：</label><div class="col-xs-4"> <input type="text" name="duty_department" class="form-control"></div> <label class="col-xs-2 control-label">所属栏目：</label><div class="col-xs-4"> <input type="text" name="item" class="form-control"></div></div><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">舆情详情：</label><div id="editorWrapper" class="col-xs-10"></div></div></form></div><div class="modal-footer"> <button type="button" class="btn btn-default">取消</button> <button type="button" class="btn btn-primary">确定</button></div></div></div></div></div>');
return __};$(this.el).empty().append(jqtmpl($,{data:{}}).join("")),this.initDependencies(),this.dataTable=this._createTable("#tableWrapper","/application/list",[{title:"标题",field:"title",alwaysDisplay:!0},{title:"载体",field:"from_website"},{title:"所属栏目",field:"item"},{title:"舆情类别",field:"type"},{title:"回帖人数",field:"fellow_count"},{title:"关注人数",field:"review_count"},{title:"涉及部门",field:"relate_department"},{title:"处理时间",field:"createtime",formatter:function(t){return moment(t).format("YYYY年MM月DD日 HH:mm:ss")}},{title:"状态",field:"state",formatter:function(t){switch(t){case 0:return"未提交";case 1:return"待审批";case 2:return"审批通过"}}},{title:"操作",field:"action",formatter:function(){return'<a href="javascript:" title="审批"><i class="glyphicon glyphicon-edit"></i></a>'},events:{"click a:first":function(){var t=self.editor,e=$("#dataModal"),n=arguments[2];self._setFormControlValues(e.find("form"),n),t.ready(function(){t.setContent(n.content||"")}),self._showModal(e,self.dataTable)}}}]),this.editor=this._createEditor("#editorWrapper")},events:{"click #dataModal .btn-default":"closeDataModal","click #dataModal .btn-primary":"apply"},closeDataModal:function(){var t=$("#dataModal");this._clearFormControlValues(t.find("form"))._closeModal(t,this.dataTable)},apply:function(){var t=this.dataTable;this._sendRequest({type:"post",url:"/application/save",validator:$.proxy(this._validator,this),done:function(){t.expand().refresh()}})},_validator:function(){var t=$("#dataModal form"),e=this._getFormControlValues(t);return e.content=this.editor.getContent(),e}}),LHSFeedbackPage=$.extend({},LHSBasicPage,{run:function(){var self=this,jqtmpl=function(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data)__.push('<div class="pubvoice-feedback-page"><div class="row func-btns"><div class="col-md-6"><div class="input-group"> <input id="inputSearch" type="text" placeholder="请输入日报期号" class="form-control"><a id="btnSearch" class="btn btn-default input-group-addon"><i class="glyphicon glyphicon-search"></i></a></div></div></div><div class="row data-wrapper"><div id="tableWrapper" class="col-md-12"></div><div class="col-xs-10 no-padding-left hide"><div id="dataModal" class="modal-content"><div class="modal-header"><h4 class="modal-title">舆情反馈</h4></div><div class="modal-body"><form class="form-horizontal"> <input type="hidden" name="id" class="form-control"><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">反馈类型：</label><div class="col-xs-2"> <select name="type" class="form-control"><option value="0" selected="selected">书面反馈</option><option value="1">网络反馈</option></select></div></div><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">反馈内容：</label><div id="editorWrapper" class="col-xs-10"></div></div></form></div><div class="modal-footer"> <button type="button" class="btn btn-default">关闭</button> <button type="button" class="btn btn-primary">保存</button></div></div></div></div></div>');return __};$(this.el).empty().append(jqtmpl($,{data:{}}).join("")),this.initDependencies(),this.dataTable=this._createTable("#tableWrapper","/notify/list",[{field:"checkbox",checkbox:!0},{title:"标题",field:"title"},{title:"载体",field:"from_website"},{title:"所属栏目",field:"item"},{title:"舆情类别",field:"type"},{title:"回帖人数",field:"fellow_count"},{title:"关注人数",field:"review_count"},{title:"涉及部门",field:"relate_department"},{title:"处理时间",field:"createtime",formatter:function(t){return moment(t).format("YYYY年MM月DD日 HH:mm:ss")}},{title:"状态",field:"feedback_state",formatter:function(t){switch(t){case 0:return"未提交";case 1:return"待审批";case 2:return"审批通过"}}},{title:"操作",field:"action",formatter:function(){return'<a href="javascript:" title="反馈"><i class="glyphicon glyphicon-share-alt"></i></a>'},events:{"click a:first":function(){var t=self.editor,e=$("#dataModal"),n=arguments[2];self._setFormControlValues(e.find("form"),n),t.ready(function(){t.setContent(n.content||"")}),self._showModal(e,self.dataTable)}}}]),this.editor=this._createEditor("#editorWrapper")},events:{"keydown #inputSearch":"autoSearch",'change #feedbackModal select[name="type"]':"changeFeedbackType","click #feedbackModal .btn-default":"closeModal","click #feedbackModal .btn-primary":"saveFeedback"},autoSearch:function(t,e){13==e.keyCode&&this.dataTable.refresh({query:{id:t.val()}})},changeFeedbackType:function(){},closeModal:function(){var t=$("#dataModal");this._clearFormControlValues(t.find("form"))._closeModal(t,this.dataTable)},saveFeedback:function(){var t=this.dataTable;this._sendRequest({type:"post",url:"/feedback/save",validator:$.proxy(this._validator,this),done:function(){t.expand().refresh()}})},_validator:function(){var t=$("#dataModal form"),e=this._getFormControlValues(t);return e.content=this.editor.getContent(),e}}),LHSGuidePage=$.extend({},LHSBasicPage,{run:function(){var self=this,jqtmpl=function(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data)__.push('<div class="pubvoice-guide-page"><div class="row func-btns"><div class="col-md-6"><div class="input-group"> <input type="text" placeholder="请输入日报期号" class="form-control"><a id="btnSearch" class="btn btn-default input-group-addon"><i class="glyphicon glyphicon-search"></i></a></div></div></div><div class="row data-wrapper"><div id="tableWrapper" class="col-md-12"></div><div class="col-xs-10 no-padding-left hide"><div id="dataModal" class="modal-content"><div class="modal-header"><h4 class="modal-title">舆情引导</h4></div><div class="modal-body"><form class="form-horizontal"> <input type="hidden" name="id" class="form-control"><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">网评员：</label><div class="col-xs-4"> <input type="text" name="guide_name" class="form-control"></div> <label class="col-xs-2 control-label">引导方式：</label><div class="col-xs-4"> <input type="text" name="guide_type" class="form-control"></div></div><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">引导效果：</label><div class="col-xs-4"> <input type="text" name="guide_result" class="form-control"></div> <label class="col-xs-2 control-label">引导次数：</label><div class="col-xs-4"> <input type="text" name="guide_count" class="form-control"></div></div><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">引导内容：</label><div id="editorWrapper" class="col-xs-10"></div></div></form></div><div class="modal-footer"> <button type="button" class="btn btn-default">关闭</button> <button type="button" class="btn btn-primary">保存</button></div></div></div></div></div>');return __};$(this.el).empty().append(jqtmpl($,{data:{}}).join("")),this.initDependencies(),this.dataTable=this._createTable("#tableWrapper","/notify/list",[{field:"checkbox",checkbox:!0},{title:"标题",field:"title"},{title:"载体",field:"from_website"},{title:"所属栏目",field:"item"},{title:"舆情类别",field:"type"},{title:"回帖人数",field:"fellow_count"},{title:"关注人数",field:"review_count"},{title:"涉及部门",field:"relate_department"},{title:"处理时间",field:"createtime",formatter:function(t){return moment(t).format("YYYY年MM月DD日 HH:mm:ss")}},{title:"状态",field:"guide_state",formatter:function(t){switch(t){case 0:return"未引导";case 1:return"已引导"}}},{title:"操作",field:"action",formatter:function(){return'<a href="javascript:" title="引导"><i class="glyphicon glyphicon-tag"></i></a>'},events:{"click a:first":function(){self.showDataModal(arguments[2])}}}]),this.editor=this._createEditor("#editorWrapper")},events:{"click #dataModal .btn-default":"closeDataModal","click #dataModal .btn-primary":"saveGuide"},showDataModal:function(t){function e(t){a._setFormControlValues(i,t),o.ready(function(){o.setContent(t.content||"")})}var n=$("#dataModal"),i=n.find("form"),o=this.editor,a=this;return this._sendRequest({type:"get",url:"/guide/detail",data:{id:t.id},done:function(i){0!=i.length?(i[0].id=t.id,e(i[0])):(i={id:t.id},e(i)),a._showModal(n,a.dataTable)}}),this},closeDataModal:function(){var t=$("#dataModal");this._clearFormControlValues(t.find("form"))._closeModal(t,this.dataTable)},saveGuide:function(){var t=this.dataTable;this._sendRequest({type:"post",url:"/guide/save",validator:$.proxy(this._validator,this),done:function(){t.expand().refresh()}})},_validator:function(){var t=$("#dataModal form"),e=this._getFormControlValues(t);return e.content=this.editor.getContent(),e}}),LHSNotifyPage=$.extend({},LHSBasicPage,{run:function(){var self=this,jqtmpl=function(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data)__.push('<div class="pubvoice-notify-page"><div class="row func-btns"><div class="col-xs-4"><div class="input-group"> <input id="inputSearch" type="text" placeholder="请输入日报期号" class="form-control"><a id="btnSearch" class="btn btn-default input-group-addon"><i class="glyphicon glyphicon-search"></i></a></div></div><div class="col-xs-8"> <button id="btnNotify" class="btn btn-sm btn-default pull-right">通报</button></div></div><div class="row data-wrapper"><div id="tableWrapper" class="col-md-12"></div><div class="col-xs-10 no-padding-left hide"><div id="dataModal" class="modal-content hide"><div class="modal-header"><h4 class="modal-title">舆情详情</h4></div><div class="modal-body"><form class="form-horizontal"><div class="form-group form-group-sm"><div id="editorWrapper" class="col-xs-10"></div></div></form></div><div class="modal-footer"> <button type="button" class="btn btn-default">关闭</button></div></div><div id="notifyModal" class="modal-content hide"><div class="modal-header"><h4 class="modal-title">舆情通报</h4></div><div class="modal-body"><form class="form-horizontal"><div class="form-group form-group-sm"> <input type="hidden" name="pvids" class="form-control"> <label class="col-xs-2 control-label">通报对象：</label><div class="col-xs-4"> <select name="uids" multiple="multiple" class="form-control selectpicker"></select></div></div></form></div><div class="modal-footer"> <button type="button" class="btn btn-default">关闭</button> <button type="button" class="btn btn-primary">通报</button></div></div></div></div></div>');return __};$(this.el).empty().append(jqtmpl($,{data:{}}).join("")),this.initDependencies(),this.dataTable=this._createTable("#tableWrapper","/daily/pvlist",[{field:"checkbox",checkbox:!0},{title:"标题",field:"title",alwaysDisplay:!0},{title:"载体",field:"from_website"},{title:"所属栏目",field:"item"},{title:"舆情类别",field:"type"},{title:"回帖人数",field:"fellow_count"},{title:"关注人数",field:"review_count"},{title:"涉及部门",field:"relate_department"},{title:"处理时间",field:"createtime",formatter:function(t){return moment(t).format("YYYY年MM月DD日 HH:mm:ss")}},{title:"状态",field:"state",formatter:function(t){switch(t){case 0:return"未提交";case 1:return"待审批";case 2:return"审批通过"}}},{title:"操作",field:"action",formatter:function(){return'<a href="javascript:" title="详情"><i class="glyphicon glyphicon-eye-open"></i></a>'},events:{"click a:first":function(){var t=self.editor,e=arguments[2];t.ready(function(){t.setContent(e.content||""),t.setDisabled()}),self._showModal("#dataModal",self.dataTable)}}}]),this.editor=this._createEditor("#editorWrapper")},events:{"keydown #inputSearch":"autoSearch","click #btnSearch":"doSearch","click #btnNotify":"showNotifyModal","click #dataModal .btn-default":"closeDataModal","click #notifyModal .btn-default":"closeNotifyModal","click #notifyModal .btn-primary":"saveNotify"},autoSearch:function(t,e){13==e.keyCode&&this.dataTable.refresh({query:{id:t.val()}})},doSearch:function(t){var e=$.trim(t.prev("input").val());this.dataTable.refresh({query:{id:e}})},showNotifyModal:function(){var t=this.dataTable,e=t.getSelected();return e.length?this._showNotifyModal(e.join()):bootbox.alert("请先选择要通报的记录！"),this},_showNotifyModal:function(t){function e(t){var e=$('select[name="uids"]',o);e.find("option:gt(0)").remove();var n={};$.each(t,function(t,e){e.groupname||(e.groupname="未分组"),n[e.groupname]?n[e.groupname].push({id:e.id,name:e.name}):n[e.groupname]=[{id:e.id,name:e.name}]});for(var i in n){var a="";$.each(n[i],function(t,e){a+='<option value="'+e.id+'">'+e.name+"</option>"}),e.append('<optgroup label="'+i+'">'+a+"</optgroup>")}}var n=this,i=$("#notifyModal"),o=i.find("form");return this._setFormControlValues(o,{pvids:t}),this._sendRequest({type:"get",url:"/sysmanage/members",done:function(t){e(t),n._showModal(i,n.dataTable),n._closeModal($("#dataModal"))}}),this},closeDataModal:function(){var t=$("#dataModal");this._clearFormControlValues(t.find("form"))._closeModal(t,this.dataTable)},closeNotifyModal:function(){var t=$("#notifyModal");this._clearFormControlValues(t.find("form"))._closeModal(t,this.dataTable)},saveNotify:function(){var t=this;return this._sendRequest({type:"post",url:"/notify/save",validator:$.proxy(this._validator,this),done:function(){var e=$("#notfiyModal");t._closeModal(e,t.dataTable),t.dataTable.refresh()}}),this},_validator:function(){var t=$("#notifyModal form"),e=this._getFormControlValues(t);return e}}),LHSRecordPage=$.extend({},LHSBasicPage,{run:function(){var self=this,jqtmpl=function(jQuery,$item){var $=jQuery,call,__=[],$data=$item.data;with($data)__.push('<div class="pubvoice-record-page"><div class="row func-btns"><div class="col-md-6 col-xs-offset-6"><div class="pull-right"> <button id="btnAdd" class="btn btn-sm btn-default">新增</button> <button id="btnImport" class="btn btn-sm btn-default">导入</button> <button id="btnDel" class="btn btn-sm btn-default">删除</button> <button id="btnCommit" class="btn btn-sm btn-default">提交审批</button></div></div></div><div class="row data-wrapper"><div id="tableWrapper" class="col-md-12"></div><div class="col-xs-10 no-padding-left hide"><div id="dataModal" class="modal-content"><div class="modal-header"><h4 class="modal-title">舆情录入</h4></div><div class="modal-body"><form class="form-horizontal"> <input type="hidden" name="id" class="form-control"><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">舆情网址：</label><div class="col-xs-10"> <input type="text" name="url" class="form-control"></div></div><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">舆情标题：</label><div class="col-xs-4"> <input type="text" name="title" class="form-control"></div> <label class="col-xs-2 control-label">舆情载体：</label><div class="col-xs-4"> <input type="text" name="from_website" class="form-control"></div></div><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">涉及部门：</label><div class="col-xs-4"> <input type="text" name="relate_department" class="form-control"></div> <label class="col-xs-2 control-label">舆情类别：</label><div class="col-xs-4"> <select name="type" class="form-control"><option value="作风效能">作风效能</option><optgroup label="行业管理"><option value="行业管理-劳动人事">劳动人事</option><option value="行业管理-公共安全">公共安全</option><option value="行业管理-医卫食安">医卫食安</option><option value="行业管理-教育">教育</option><option value="行业管理-环保">环保</option><option value="行业管理-交通">交通</option><option value="行业管理-城建">城建</option><option value="行业管理-房产">房产</option><option value="行业管理-征地">征地</option><option value="行业管理-其他">其他</option></optgroup><option value="其他类">其他类</option></select></div></div><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">关注人数：</label><div class="col-xs-4"> <input type="text" name="review_count" class="form-control"></div> <label class="col-xs-2 control-label">回帖数量：</label><div class="col-xs-4"> <input type="text" name="fellow_count" class="form-control"></div></div><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">考核部门：</label><div class="col-xs-4"> <select name="duty_department" class="form-control"></select></div> <label class="col-xs-2 control-label">所属栏目：</label><div class="col-xs-4"> <select name="item" class="form-control"><option value="正面舆情">正面舆情</option><option value="负面舆情">负面舆情</option><option value="舆情追踪">舆情追踪</option><option value="热点话题">热点话题</option></select></div></div><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">舆情详情：</label><div id="editorWrapper" class="col-xs-10"></div></div></form></div><div class="modal-footer"> <button type="button" class="btn btn-default">取消</button> <button type="button" class="btn btn-primary">保存</button></div></div><div id="importModal" class="modal-content hide"><div class="modal-header"><h4 class="modal-title">舆情导入</h4></div><div class="modal-body"><form class="form-horizontal"><div class="form-group form-group-sm"> <label class="col-xs-2 control-label">文件路径：</label><div class="col-xs-9"> <input type="file" name="datafile" class="form-control"></div></div></form></div><div class="modal-footer"> <a href="sample/publicvoice.xls" class="pull-left">模板下载</a> <button type="button" class="btn btn-default" data-dismiss="modal">取消</button></div></div></div></div></div>');return __};$(this.el).empty().append(jqtmpl($,{data:{}}).join("")),this.initDependencies(),this.dataTable=this._createTable("#tableWrapper","/pubvoice/list",[{field:"checkbox",checkbox:!0},{title:"标题",field:"title",alwaysDisplay:!0},{title:"载体",field:"from_website"},{title:"所属栏目",field:"item"},{title:"舆情类别",field:"type"},{title:"回帖人数",field:"fellow_count"},{title:"关注人数",field:"review_count"},{title:"涉及部门",field:"relate_department"},{title:"处理时间",field:"createtime",sortable:!0,order:"desc",formatter:function(t){return moment(t).format("YYYY年MM月DD日 HH:mm:ss")}},{title:"状态",field:"state",formatter:function(t){switch(t){case 0:return"未提交";case 1:return"待审批";case 2:return"审批通过";case 3:return"审批未通过"}}},{title:"操作",field:"action",formatter:function(){return['<a href="javascript:" title="查看"><i class="glyphicon glyphicon-edit"></i></a>','<a href="javascript:" title="删除"><i class="glyphicon glyphicon-trash"></i></a>'].join("&nbsp;&nbsp;")},events:{"click a:first":function(){self.showDataModal(arguments[2])},"click a:last":function(){var t=arguments[2].id;bootbox.confirm("确认删除？",function(e){e&&self._ajaxDelete(t,function(){self.dataTable.refresh()})})}}}]),this.editor=this._createEditor("#editorWrapper")},events:{"click #btnAdd":"showDataModal","click #btnImport":"showImportModal","click #btnDel":"delSelected","click #btnCommit":"applyApprobation","click #dataModal .btn-default":"closeDataModal","click #dataModal .btn-primary":"savePubVoice","click #importModal .btn-default":"closeImportModal"},showDataModal:function(t){function e(t){var e=$('select[name="duty_department"]',o);e.find("option:gt(0)").remove(),$.each(t,function(t,n){e.append($("<option></option>").attr("value",n.id).text(n.name))})}function n(t){$('input[name="url"]',o).prop("readonly",!!t.id),t.id&&r._setFormControlValues(o,t),a.ready(function(){a.setContent(t.content||"")})}var i=$("#dataModal"),o=i.find("form"),a=this.editor,r=this;return this._sendRequest({type:"get",url:"/sysmanage/groups",done:function(o){e(o),n(t),r._showModal(i,r.dataTable)}}),this},showImportModal:function(){var t=$("#importModal");this._createUploader(t.find('input[type="file"]'),"/datafile",function(){this.closeImportModal()}),this._showModal(t,this.dataTable)},applyApprobation:function(){var t=this,e=this.dataTable,n=e.getSelected();return n.length?bootbox.confirm("确定提交审批？",function(i){i&&t._sendRequest({type:"post",url:"/pubvoice/apply",data:{ids:n.join()},done:function(){e.refresh()}})}):bootbox.alert("请先选择要提交的舆情"),this},closeDataModal:function(){var t=$("#dataModal");this._clearFormControlValues(t.find("form"))._closeModal(t,this.dataTable)},savePubVoice:function(){var t=this;this._sendRequest({type:"post",url:"/pubvoice/save",validator:$.proxy(this._validator,this),done:function(){t.closeDataModal(),t.dataTable.refresh()}})},delSelected:function(){var t=this,e=this.dataTable,n=e.getSelected();return n.length?bootbox.confirm("确定删除？",function(i){i&&t._ajaxDelete(n.join(),function(){e.refresh()})}):bootbox.alert("请先选择要删除的记录！"),this},closeImportModal:function(){var t=$("#importModal"),e=this.dataTable;t.find('input[type="file"]').val(""),this._closeModal(t,e),e.refresh()},_ajaxDelete:function(t,e){return this._sendRequest({type:"delete",url:"/pubvoice/delete",data:{ids:t},done:e}),this},_validator:function(){var t=$("#dataModal form"),e=this._getFormControlValues(t);return e.content=this.editor.getContent(),e}});$("body").ready(function(){var t=$("#lhs_aside_menu > li");t.bind("click",function(){switch($("#main_panel").empty(),$(this).addClass("selected").siblings("li").removeClass("selected"),$(this).attr("data-page")){case"record":return LHSRecordPage.run();case"examine&approve":return LHSExamineAndApprovePage.run();case"dailyreport":return LHSDailyReportPage.run();case"dailycreate":return LHSDailyCreatePage.run();case"dispose":return LHSDisposePage.run();case"notify":return LHSNotifyPage.run();case"feedback":return LHSFeedbackPage.run();case"guide":return LHSGuidePage.run();case"analyze":return LHSAnalyzePage.run();case"alert":return LHSAlertPage.run()}}),t.eq(0).click()})}();